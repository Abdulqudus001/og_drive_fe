(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{141:function(e,t,r){var content=r(275);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(15).default)("13ecbd2e",content,!0,{sourceMap:!1})},142:function(e,t,r){var content=r(279);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(15).default)("5b425f4d",content,!0,{sourceMap:!1})},143:function(e,t,r){var content=r(304);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(15).default)("c9b26550",content,!0,{sourceMap:!1})},145:function(e,t,r){var content=r(369);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(15).default)("fdbd8322",content,!0,{sourceMap:!1})},146:function(e,t,r){var content=r(376);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(15).default)("3e40468e",content,!0,{sourceMap:!1})},147:function(e,t,r){var content=r(378);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(15).default)("7d327c93",content,!0,{sourceMap:!1})},148:function(e,t,r){var content=r(380);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(15).default)("1c780d6a",content,!0,{sourceMap:!1})},149:function(e,t,r){var content=r(382);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(15).default)("c4bea79c",content,!0,{sourceMap:!1})},150:function(e,t,r){var content=r(384);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(15).default)("47146757",content,!0,{sourceMap:!1})},151:function(e,t,r){var content=r(386);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(15).default)("6446042b",content,!0,{sourceMap:!1})},162:function(e,t,r){"use strict";r(7),r(61),r(10),r(49),r(57),r(26),r(28),r(29),r(3),r(27),r(37);var n=r(2);function o(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c(e,t)}(e))){var i=0,t=function(){};return{s:t,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,n,o=!0,l=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){l=!0,n=e},f:function(){try{o||null==r.return||r.return()}finally{if(l)throw n}}}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=e[i];return r}var l=window.requestIdleCallback||function(e){var t=Date.now();return setTimeout((function(){e({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-t))}})}),1)},d=window.cancelIdleCallback||function(e){clearTimeout(e)},h=window.IntersectionObserver&&new window.IntersectionObserver((function(e){e.forEach((function(e){var t=e.intersectionRatio,link=e.target;t<=0||link.__prefetch()}))}));t.a={name:"NuxtLink",extends:n.a.component("RouterLink"),props:{prefetch:{type:Boolean,default:!0},noPrefetch:{type:Boolean,default:!1}},mounted:function(){this.prefetch&&!this.noPrefetch&&(this.handleId=l(this.observe,{timeout:2e3}))},beforeDestroy:function(){d(this.handleId),this.__observed&&(h.unobserve(this.$el),delete this.$el.__prefetch)},methods:{observe:function(){h&&this.shouldPrefetch()&&(this.$el.__prefetch=this.prefetchLink.bind(this),h.observe(this.$el),this.__observed=!0)},shouldPrefetch:function(){return this.getPrefetchComponents().length>0},canPrefetch:function(){var e=navigator.connection;return!(this.$nuxt.isOffline||e&&((e.effectiveType||"").includes("2g")||e.saveData))},getPrefetchComponents:function(){return this.$router.resolve(this.to,this.$route,this.append).resolved.matched.map((function(e){return e.components.default})).filter((function(e){return"function"==typeof e&&!e.options&&!e.__prefetched}))},prefetchLink:function(){if(this.canPrefetch()){h.unobserve(this.$el);var e,t=o(this.getPrefetchComponents());try{for(t.s();!(e=t.n()).done;){var r=e.value,n=r();n instanceof Promise&&n.catch((function(){})),r.__prefetched=!0}}catch(e){t.e(e)}finally{t.f()}}}}}},195:function(e,t,r){"use strict";var n={};n.authenticated=r(266),n.authenticated=n.authenticated.default||n.authenticated,t.a=n},245:function(e,t,r){"use strict";r(3),r(97);var n=r(19),o=r(2),c=r(4),l=window.__NUXT__;function d(){if(!this._hydrated)return this.$fetch()}function h(){if((e=this).$vnode&&e.$vnode.elm&&e.$vnode.elm.dataset&&e.$vnode.elm.dataset.fetchKey){var e;this._hydrated=!0,this._fetchKey=+this.$vnode.elm.dataset.fetchKey;var data=l.fetch[this._fetchKey];if(data&&data._error)this.$fetchState.error=data._error;else for(var t in data)o.a.set(this.$data,t,data[t])}}function f(){var e=this;return this._fetchPromise||(this._fetchPromise=v.call(this).then((function(){delete e._fetchPromise}))),this._fetchPromise}function v(){return m.apply(this,arguments)}function m(){return(m=Object(n.a)(regeneratorRuntime.mark((function e(){var t,r,n,o=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.$nuxt.nbFetching++,this.$fetchState.pending=!0,this.$fetchState.error=null,this._hydrated=!1,t=null,r=Date.now(),e.prev=6,e.next=9,this.$options.fetch.call(this);case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(6),t=Object(c.o)(e.t0);case 14:if(!((n=this._fetchDelay-(Date.now()-r))>0)){e.next=18;break}return e.next=18,new Promise((function(e){return setTimeout(e,n)}));case 18:this.$fetchState.error=t,this.$fetchState.pending=!1,this.$fetchState.timestamp=Date.now(),this.$nextTick((function(){return o.$nuxt.nbFetching--}));case 22:case"end":return e.stop()}}),e,this,[[6,11]])})))).apply(this,arguments)}t.a={beforeCreate:function(){Object(c.l)(this)&&(this._fetchDelay="number"==typeof this.$options.fetchDelay?this.$options.fetchDelay:200,o.a.util.defineReactive(this,"$fetchState",{pending:!1,error:null,timestamp:Date.now()}),this.$fetch=f.bind(this),Object(c.a)(this,"created",h),Object(c.a)(this,"beforeMount",d))}}},248:function(e,t,r){e.exports=r(249)},249:function(e,t,r){"use strict";r.r(t),function(e){r(61),r(10),r(57),r(28),r(29),r(49);var t=r(31),n=(r(97),r(134),r(19)),o=(r(27),r(37),r(7),r(3),r(9),r(26),r(216),r(259),r(263),r(265),r(2)),c=r(239),l=r(195),d=r(4),h=r(73),f=r(245),v=r(162);function m(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=function(e,t){if(!e)return;if("string"==typeof e)return _(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _(e,t)}(e))){var i=0,t=function(){};return{s:t,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,n,o=!0,c=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){c=!0,n=e},f:function(){try{o||null==r.return||r.return()}finally{if(c)throw n}}}}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=e[i];return r}o.a.__nuxt__fetch__mixin__||(o.a.mixin(f.a),o.a.__nuxt__fetch__mixin__=!0),o.a.component(v.a.name,v.a),o.a.component("NLink",v.a),e.fetch||(e.fetch=c.a);var w,x,y=[],k=window.__NUXT__||{};Object.assign(o.a.config,{silent:!0,performance:!1});var D=o.a.config.errorHandler||console.error;function F(e,t,r){for(var n=function(component){var e=function(component,e){if(!component||!component.options||!component.options[e])return{};var option=component.options[e];if("function"==typeof option){for(var t=arguments.length,r=new Array(t>2?t-2:0),n=2;n<t;n++)r[n-2]=arguments[n];return option.apply(void 0,r)}return option}(component,"transition",t,r)||{};return"string"==typeof e?{name:e}:e},o=r?Object(d.g)(r):[],c=Math.max(e.length,o.length),l=[],h=function(i){var t=Object.assign({},n(e[i])),r=Object.assign({},n(o[i]));Object.keys(t).filter((function(e){return void 0!==t[e]&&!e.toLowerCase().includes("leave")})).forEach((function(e){r[e]=t[e]})),l.push(r)},i=0;i<c;i++)h(i);return l}function $(e,t,r){return C.apply(this,arguments)}function C(){return(C=Object(n.a)(regeneratorRuntime.mark((function e(t,r,n){var o,c,l,h,f=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._routeChanged=Boolean(w.nuxt.err)||r.name!==t.name,this._paramChanged=!this._routeChanged&&r.path!==t.path,this._queryChanged=!this._paramChanged&&r.fullPath!==t.fullPath,this._diffQuery=this._queryChanged?Object(d.i)(t.query,r.query):[],(this._routeChanged||this._paramChanged)&&this.$loading.start&&!this.$loading.manual&&this.$loading.start(),e.prev=5,!this._queryChanged){e.next=12;break}return e.next=9,Object(d.q)(t,(function(e,t){return{Component:e,instance:t}}));case 9:o=e.sent,o.some((function(e){var n=e.Component,o=e.instance,c=n.options.watchQuery;return!0===c||(Array.isArray(c)?c.some((function(e){return f._diffQuery[e]})):"function"==typeof c&&c.apply(o,[t.query,r.query]))}))&&this.$loading.start&&!this.$loading.manual&&this.$loading.start();case 12:n(),e.next=26;break;case 15:if(e.prev=15,e.t0=e.catch(5),c=e.t0||{},l=c.statusCode||c.status||c.response&&c.response.status||500,h=c.message||"",!/^Loading( CSS)? chunk (\d)+ failed\./.test(h)){e.next=23;break}return window.location.reload(!0),e.abrupt("return");case 23:this.error({statusCode:l,message:h}),this.$nuxt.$emit("routeChanged",t,r,c),n();case 26:case"end":return e.stop()}}),e,this,[[5,15]])})))).apply(this,arguments)}function O(e,t){return k.serverRendered&&t&&Object(d.b)(e,t),e._Ctor=e,e}function U(e){var path=Object(d.f)(e.options.base,e.options.mode);return Object(d.d)(e.match(path),function(){var e=Object(n.a)(regeneratorRuntime.mark((function e(t,r,n,o,c){var l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("function"!=typeof t||t.options){e.next=4;break}return e.next=3,t();case 3:t=e.sent;case 4:return l=O(Object(d.r)(t),k.data?k.data[c]:null),n.components[o]=l,e.abrupt("return",l);case 7:case"end":return e.stop()}}),e)})));return function(t,r,n,o,c){return e.apply(this,arguments)}}())}function L(e,t,r){var n=this,o=[],c=!1;if(void 0!==r&&(o=[],(r=Object(d.r)(r)).options.middleware&&(o=o.concat(r.options.middleware)),e.forEach((function(e){e.options.middleware&&(o=o.concat(e.options.middleware))}))),o=o.map((function(e){return"function"==typeof e?e:("function"!=typeof l.a[e]&&(c=!0,n.error({statusCode:500,message:"Unknown middleware "+e})),l.a[e])})),!c)return Object(d.n)(o,t)}function S(e,t,r){return j.apply(this,arguments)}function j(){return(j=Object(n.a)(regeneratorRuntime.mark((function e(t,r,n){var o,c,l,f,v,_,x,k,D,$,C,O,U,S,j,A=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!1!==this._routeChanged||!1!==this._paramChanged||!1!==this._queryChanged){e.next=2;break}return e.abrupt("return",n());case 2:return t===r?y=[]:(o=[],y=Object(d.g)(r,o).map((function(e,i){return Object(d.c)(r.matched[o[i]].path)(r.params)}))),c=!1,l=function(path){r.path===path.path&&A.$loading.finish&&A.$loading.finish(),r.path!==path.path&&A.$loading.pause&&A.$loading.pause(),c||(c=!0,n(path))},e.next=7,Object(d.s)(w,{route:t,from:r,next:l.bind(this)});case 7:if(this._dateLastError=w.nuxt.dateErr,this._hadError=Boolean(w.nuxt.err),f=[],(v=Object(d.g)(t,f)).length){e.next=26;break}return e.next=14,L.call(this,v,w.context);case 14:if(!c){e.next=16;break}return e.abrupt("return");case 16:return _=(h.a.options||h.a).layout,e.next=19,this.loadLayout("function"==typeof _?_.call(h.a,w.context):_);case 19:return x=e.sent,e.next=22,L.call(this,v,w.context,x);case 22:if(!c){e.next=24;break}return e.abrupt("return");case 24:return w.context.error({statusCode:404,message:"This page could not be found"}),e.abrupt("return",n());case 26:return v.forEach((function(e){e._Ctor&&e._Ctor.options&&(e.options.asyncData=e._Ctor.options.asyncData,e.options.fetch=e._Ctor.options.fetch)})),this.setTransitions(F(v,t,r)),e.prev=28,e.next=31,L.call(this,v,w.context);case 31:if(!c){e.next=33;break}return e.abrupt("return");case 33:if(!w.context._errored){e.next=35;break}return e.abrupt("return",n());case 35:return"function"==typeof(k=v[0].options.layout)&&(k=k(w.context)),e.next=39,this.loadLayout(k);case 39:return k=e.sent,e.next=42,L.call(this,v,w.context,k);case 42:if(!c){e.next=44;break}return e.abrupt("return");case 44:if(!w.context._errored){e.next=46;break}return e.abrupt("return",n());case 46:D=!0,e.prev=47,$=m(v),e.prev=49,$.s();case 51:if((C=$.n()).done){e.next=62;break}if("function"==typeof(O=C.value).options.validate){e.next=55;break}return e.abrupt("continue",60);case 55:return e.next=57,O.options.validate(w.context);case 57:if(D=e.sent){e.next=60;break}return e.abrupt("break",62);case 60:e.next=51;break;case 62:e.next=67;break;case 64:e.prev=64,e.t0=e.catch(49),$.e(e.t0);case 67:return e.prev=67,$.f(),e.finish(67);case 70:e.next=76;break;case 72:return e.prev=72,e.t1=e.catch(47),this.error({statusCode:e.t1.statusCode||"500",message:e.t1.message}),e.abrupt("return",n());case 76:if(D){e.next=79;break}return this.error({statusCode:404,message:"This page could not be found"}),e.abrupt("return",n());case 79:return e.next=81,Promise.all(v.map((function(e,i){e._path=Object(d.c)(t.matched[f[i]].path)(t.params),e._dataRefresh=!1;var n=e._path!==y[i];if(A._routeChanged&&n)e._dataRefresh=!0;else if(A._paramChanged&&n){var o=e.options.watchParam;e._dataRefresh=!1!==o}else if(A._queryChanged){var c=e.options.watchQuery;!0===c?e._dataRefresh=!0:Array.isArray(c)?e._dataRefresh=c.some((function(e){return A._diffQuery[e]})):"function"==typeof c&&(U||(U=Object(d.h)(t)),e._dataRefresh=c.apply(U[i],[t.query,r.query]))}if(A._hadError||!A._isMounted||e._dataRefresh){var l=[],h=e.options.asyncData&&"function"==typeof e.options.asyncData,v=Boolean(e.options.fetch)&&e.options.fetch.length,m=h&&v?30:45;if(h){var _=Object(d.p)(e.options.asyncData,w.context).then((function(t){Object(d.b)(e,t),A.$loading.increase&&A.$loading.increase(m)}));l.push(_)}if(A.$loading.manual=!1===e.options.loading,v){var p=e.options.fetch(w.context);p&&(p instanceof Promise||"function"==typeof p.then)||(p=Promise.resolve(p)),p.then((function(e){A.$loading.increase&&A.$loading.increase(m)})),l.push(p)}return Promise.all(l)}})));case 81:c||(this.$loading.finish&&!this.$loading.manual&&this.$loading.finish(),n()),e.next=98;break;case 84:if(e.prev=84,e.t2=e.catch(28),"ERR_REDIRECT"!==(S=e.t2||{}).message){e.next=89;break}return e.abrupt("return",this.$nuxt.$emit("routeChanged",t,r,S));case 89:return y=[],Object(d.k)(S),"function"==typeof(j=(h.a.options||h.a).layout)&&(j=j(w.context)),e.next=95,this.loadLayout(j);case 95:this.error(S),this.$nuxt.$emit("routeChanged",t,r,S),n();case 98:case"end":return e.stop()}}),e,this,[[28,84],[47,72],[49,64,67,70]])})))).apply(this,arguments)}function A(e,r){Object(d.d)(e,(function(e,r,n,c){return"object"!==Object(t.a)(e)||e.options||((e=o.a.extend(e))._Ctor=e,n.components[c]=e),e}))}function I(e){this._hadError&&this._dateLastError===this.$options.nuxt.dateErr&&this.error();var t=this.$options.nuxt.err?(h.a.options||h.a).layout:e.matched[0].components.default.options.layout;"function"==typeof t&&(t=t(w.context)),this.setLayout(t)}function V(e,t){var r=this;if(!1!==this._routeChanged||!1!==this._paramChanged||!1!==this._queryChanged){var n=Object(d.h)(e),c=Object(d.g)(e);o.a.nextTick((function(){n.forEach((function(e,i){if(e&&!e._isDestroyed&&e.constructor._dataRefresh&&c[i]===e.constructor&&!0!==e.$vnode.data.keepAlive&&"function"==typeof e.constructor.options.data){var t=e.constructor.options.data.call(e);for(var r in t)o.a.set(e.$data,r,t[r]);window.$nuxt.$nextTick((function(){window.$nuxt.$emit("triggerScroll")}))}})),I.call(r,e)}))}}function E(e){window.onNuxtReadyCbs.forEach((function(t){"function"==typeof t&&t(e)})),"function"==typeof window._onNuxtLoaded&&window._onNuxtLoaded(e),x.afterEach((function(t,r){o.a.nextTick((function(){return e.$nuxt.$emit("routeChanged",t,r)}))}))}function P(){return(P=Object(n.a)(regeneratorRuntime.mark((function e(t){var r,n,c,l,h;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w=t.app,x=t.router,t.store,r=new o.a(w),n=k.layout||"default",e.next=7,r.loadLayout(n);case 7:return r.setLayout(n),c=function(){r.$mount("#__nuxt"),x.afterEach(A),x.afterEach(V.bind(r)),o.a.nextTick((function(){E(r)}))},e.next=11,Promise.all(U(x));case 11:if(l=e.sent,r.setTransitions=r.$options.nuxt.setTransitions.bind(r),l.length&&(r.setTransitions(F(l,x.currentRoute)),y=x.currentRoute.matched.map((function(e){return Object(d.c)(e.path)(x.currentRoute.params)}))),r.$loading={},k.error&&r.error(k.error),x.beforeEach($.bind(r)),x.beforeEach(S.bind(r)),!k.serverRendered||k.routePath!==r.context.route.path){e.next=21;break}return c(),e.abrupt("return");case 21:h=function(){A(x.currentRoute,x.currentRoute),I.call(r,x.currentRoute),c()},S.call(r,x.currentRoute,x.currentRoute,(function(path){if(path){var e=x.afterEach((function(t,r){e(),h()}));x.push(path,void 0,(function(e){e&&D(e)}))}else h()}));case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(h.b)().then((function(e){return P.apply(this,arguments)})).catch(D)}.call(this,r(98))},266:function(e,t,r){"use strict";r.r(t),t.default=function(e){var t=e.app,r=e.store,n=e.redirect;r.getters.isLoggedIn(t)||n("/login")}},274:function(e,t,r){"use strict";var n=r(141);r.n(n).a},275:function(e,t,r){(t=r(14)(!1)).push([e.i,"h1[data-v-68bf72b5]{font-size:20px}",""]),e.exports=t},278:function(e,t,r){"use strict";var n=r(142);r.n(n).a},279:function(e,t,r){(t=r(14)(!1)).push([e.i,".nuxt-progress{position:fixed;top:0;left:0;right:0;height:2px;width:0;opacity:1;transition:width .1s,opacity .4s;background-color:#fff;z-index:999999}.nuxt-progress.nuxt-progress-notransition{transition:none}.nuxt-progress-failed{background-color:red}",""]),e.exports=t},288:function(e,t,r){var content=r(289);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(15).default)("7876f6dc",content,!0,{sourceMap:!1})},289:function(e,t,r){(t=r(14)(!1)).push([e.i,"html{overflow-y:hidden!important}",""]),e.exports=t},303:function(e,t,r){"use strict";var n=r(143);r.n(n).a},304:function(e,t,r){(t=r(14)(!1)).push([e.i,".app-bar[data-v-39175d6f]{border-bottom:.6px solid rgba(0,0,0,.2)!important}#file-upload[data-v-39175d6f]{width:.1px;height:.1px;position:absolute;opacity:0}#file-upload+label[data-v-39175d6f]{cursor:pointer}#file-upload:focus+label[data-v-39175d6f],#file-upload:hover+label[data-v-39175d6f]{background-color:rgba(0,0,0,.03)}.drawer[data-v-39175d6f]{box-shadow:0 2px 5px rgba(0,0,0,.17)}.drawer[data-v-39175d6f] .v-navigation-drawer__border{width:0}.breadcrumb[data-v-39175d6f] a.v-breadcrumbs__item{color:rgba(0,0,0,.87)}.toolbar[data-v-39175d6f]{min-height:100px}.toolbar[data-v-39175d6f] .v-toolbar__content{display:block;padding:0;height:100%}.count[data-v-39175d6f]{margin-bottom:0;margin-left:5px;font-size:1.5em;opacity:.7}.search-bar[data-v-39175d6f]{max-width:400px}.body[data-v-39175d6f]{background-color:rgba(68,86,108,.042)}",""]),e.exports=t},368:function(e,t,r){"use strict";var n=r(145);r.n(n).a},369:function(e,t,r){(t=r(14)(!1)).push([e.i,'.app-bar[data-v-a4229286]{border-bottom:.6px solid rgba(0,0,0,.2)!important}#file-upload[data-v-a4229286]{width:.1px;height:.1px;position:absolute;opacity:0}#file-upload+label[data-v-a4229286]{cursor:pointer}#file-upload:focus+label[data-v-a4229286],#file-upload:hover+label[data-v-a4229286]{background-color:rgba(0,0,0,.03)}.drawer[data-v-a4229286]{box-shadow:0 2px 5px rgba(0,0,0,.17)}.drawer[data-v-a4229286] .v-navigation-drawer__border{width:0}.breadcrumb[data-v-a4229286] a.v-breadcrumbs__item{color:rgba(0,0,0,.87)}.toolbar[data-v-a4229286]{min-height:100px}.toolbar[data-v-a4229286] .v-toolbar__content{display:block;padding:0;height:100%}.count[data-v-a4229286]{margin-bottom:0;margin-left:5px;font-size:1.5em;opacity:.7}.search-bar[data-v-a4229286]{max-width:400px}.body[data-v-a4229286]{background-color:rgba(68,86,108,.042)}#user-photo[data-v-a4229286]{width:.1px;height:.1px;opacity:0}#user-photo:focus+.picture-upload[data-v-a4229286]:before,#user-photo:hover+.picture-upload[data-v-a4229286]:before{background-color:rgba(0,0,0,.4)}#user-image[data-v-a4229286]{display:none}#user-image[data-v-a4229286],.picture-upload[data-v-a4229286]{width:150px;height:150px;border-radius:50%}.picture-upload[data-v-a4229286]{margin:20px auto;display:block;cursor:pointer;display:flex;align-items:center;justify-content:center;background-size:cover;position:relative}.picture-upload .v-icon[data-v-a4229286]{position:absolute}.picture-upload[data-v-a4229286]:before{transition:background-color .09s ease-in;content:"";top:0;bottom:0;left:0;right:0;position:absolute;border-radius:50%;background-color:rgba(0,0,0,.2)}',""]),e.exports=t},375:function(e,t,r){"use strict";var n=r(146);r.n(n).a},376:function(e,t,r){(t=r(14)(!1)).push([e.i,'.app-bar[data-v-4954c652]{border-bottom:.6px solid rgba(0,0,0,.2)!important}#file-upload[data-v-4954c652]{width:.1px;height:.1px;position:absolute;opacity:0}#file-upload+label[data-v-4954c652]{cursor:pointer}#file-upload:focus+label[data-v-4954c652],#file-upload:hover+label[data-v-4954c652]{background-color:rgba(0,0,0,.03)}.drawer[data-v-4954c652]{box-shadow:0 2px 5px rgba(0,0,0,.17)}.drawer[data-v-4954c652] .v-navigation-drawer__border{width:0}.breadcrumb[data-v-4954c652] a.v-breadcrumbs__item{color:rgba(0,0,0,.87)}.toolbar[data-v-4954c652]{min-height:100px}.toolbar[data-v-4954c652] .v-toolbar__content{display:block;padding:0;height:100%}.count[data-v-4954c652]{margin-bottom:0;margin-left:5px;font-size:1.5em;opacity:.7}.search-bar[data-v-4954c652]{max-width:400px}.body[data-v-4954c652]{background-color:rgba(68,86,108,.042)}#user-photo[data-v-4954c652]{width:.1px;height:.1px;opacity:0}#user-photo:focus+.picture-upload[data-v-4954c652]:before,#user-photo:hover+.picture-upload[data-v-4954c652]:before{background-color:rgba(0,0,0,.4)}#user-image[data-v-4954c652]{display:none}#user-image[data-v-4954c652],.picture-upload[data-v-4954c652]{width:150px;height:150px;border-radius:50%}.picture-upload[data-v-4954c652]{margin:20px auto;display:block;cursor:pointer;display:flex;align-items:center;justify-content:center;background-size:cover;position:relative}.picture-upload .v-icon[data-v-4954c652]{position:absolute}.picture-upload[data-v-4954c652]:before{transition:background-color .09s ease-in;content:"";top:0;bottom:0;left:0;right:0;position:absolute;border-radius:50%;background-color:rgba(0,0,0,.2)}',""]),e.exports=t},377:function(e,t,r){"use strict";var n=r(147);r.n(n).a},378:function(e,t,r){(t=r(14)(!1)).push([e.i,'.app-bar[data-v-525e45cc]{border-bottom:.6px solid rgba(0,0,0,.2)!important}#file-upload[data-v-525e45cc]{width:.1px;height:.1px;position:absolute;opacity:0}#file-upload+label[data-v-525e45cc]{cursor:pointer}#file-upload:focus+label[data-v-525e45cc],#file-upload:hover+label[data-v-525e45cc]{background-color:rgba(0,0,0,.03)}.drawer[data-v-525e45cc]{box-shadow:0 2px 5px rgba(0,0,0,.17)}.drawer[data-v-525e45cc] .v-navigation-drawer__border{width:0}.breadcrumb[data-v-525e45cc] a.v-breadcrumbs__item{color:rgba(0,0,0,.87)}.toolbar[data-v-525e45cc]{min-height:100px}.toolbar[data-v-525e45cc] .v-toolbar__content{display:block;padding:0;height:100%}.count[data-v-525e45cc]{margin-bottom:0;margin-left:5px;font-size:1.5em;opacity:.7}.search-bar[data-v-525e45cc]{max-width:400px}.body[data-v-525e45cc]{background-color:rgba(68,86,108,.042)}#user-photo[data-v-525e45cc]{width:.1px;height:.1px;opacity:0}#user-photo:focus+.picture-upload[data-v-525e45cc]:before,#user-photo:hover+.picture-upload[data-v-525e45cc]:before{background-color:rgba(0,0,0,.4)}#user-image[data-v-525e45cc]{display:none}#user-image[data-v-525e45cc],.picture-upload[data-v-525e45cc]{width:150px;height:150px;border-radius:50%}.picture-upload[data-v-525e45cc]{margin:20px auto;display:block;cursor:pointer;display:flex;align-items:center;justify-content:center;background-size:cover;position:relative}.picture-upload .v-icon[data-v-525e45cc]{position:absolute}.picture-upload[data-v-525e45cc]:before{transition:background-color .09s ease-in;content:"";top:0;bottom:0;left:0;right:0;position:absolute;border-radius:50%;background-color:rgba(0,0,0,.2)}',""]),e.exports=t},379:function(e,t,r){"use strict";var n=r(148);r.n(n).a},380:function(e,t,r){(t=r(14)(!1)).push([e.i,'.app-bar[data-v-22a07cc6]{border-bottom:.6px solid rgba(0,0,0,.2)!important}#file-upload[data-v-22a07cc6]{width:.1px;height:.1px;position:absolute;opacity:0}#file-upload+label[data-v-22a07cc6]{cursor:pointer}#file-upload:focus+label[data-v-22a07cc6],#file-upload:hover+label[data-v-22a07cc6]{background-color:rgba(0,0,0,.03)}.drawer[data-v-22a07cc6]{box-shadow:0 2px 5px rgba(0,0,0,.17)}.drawer[data-v-22a07cc6] .v-navigation-drawer__border{width:0}.breadcrumb[data-v-22a07cc6] a.v-breadcrumbs__item{color:rgba(0,0,0,.87)}.toolbar[data-v-22a07cc6]{min-height:100px}.toolbar[data-v-22a07cc6] .v-toolbar__content{display:block;padding:0;height:100%}.count[data-v-22a07cc6]{margin-bottom:0;margin-left:5px;font-size:1.5em;opacity:.7}.search-bar[data-v-22a07cc6]{max-width:400px}.body[data-v-22a07cc6]{background-color:rgba(68,86,108,.042)}#user-photo[data-v-22a07cc6]{width:.1px;height:.1px;opacity:0}#user-photo:focus+.picture-upload[data-v-22a07cc6]:before,#user-photo:hover+.picture-upload[data-v-22a07cc6]:before{background-color:rgba(0,0,0,.4)}#user-image[data-v-22a07cc6]{display:none}#user-image[data-v-22a07cc6],.picture-upload[data-v-22a07cc6]{width:150px;height:150px;border-radius:50%}.picture-upload[data-v-22a07cc6]{margin:20px auto;display:block;cursor:pointer;display:flex;align-items:center;justify-content:center;background-size:cover;position:relative}.picture-upload .v-icon[data-v-22a07cc6]{position:absolute}.picture-upload[data-v-22a07cc6]:before{transition:background-color .09s ease-in;content:"";top:0;bottom:0;left:0;right:0;position:absolute;border-radius:50%;background-color:rgba(0,0,0,.2)}',""]),e.exports=t},381:function(e,t,r){"use strict";var n=r(149);r.n(n).a},382:function(e,t,r){(t=r(14)(!1)).push([e.i,'.app-bar[data-v-26684b4a]{border-bottom:.6px solid rgba(0,0,0,.2)!important}#file-upload[data-v-26684b4a]{width:.1px;height:.1px;position:absolute;opacity:0}#file-upload+label[data-v-26684b4a]{cursor:pointer}#file-upload:focus+label[data-v-26684b4a],#file-upload:hover+label[data-v-26684b4a]{background-color:rgba(0,0,0,.03)}.drawer[data-v-26684b4a]{box-shadow:0 2px 5px rgba(0,0,0,.17)}.drawer[data-v-26684b4a] .v-navigation-drawer__border{width:0}.breadcrumb[data-v-26684b4a] a.v-breadcrumbs__item{color:rgba(0,0,0,.87)}.toolbar[data-v-26684b4a]{min-height:100px}.toolbar[data-v-26684b4a] .v-toolbar__content{display:block;padding:0;height:100%}.count[data-v-26684b4a]{margin-bottom:0;margin-left:5px;font-size:1.5em;opacity:.7}.search-bar[data-v-26684b4a]{max-width:400px}.body[data-v-26684b4a]{background-color:rgba(68,86,108,.042)}#user-photo[data-v-26684b4a]{width:.1px;height:.1px;opacity:0}#user-photo:focus+.picture-upload[data-v-26684b4a]:before,#user-photo:hover+.picture-upload[data-v-26684b4a]:before{background-color:rgba(0,0,0,.4)}#user-image[data-v-26684b4a]{display:none}#user-image[data-v-26684b4a],.picture-upload[data-v-26684b4a]{width:150px;height:150px;border-radius:50%}.picture-upload[data-v-26684b4a]{margin:20px auto;display:block;cursor:pointer;display:flex;align-items:center;justify-content:center;background-size:cover;position:relative}.picture-upload .v-icon[data-v-26684b4a]{position:absolute}.picture-upload[data-v-26684b4a]:before{transition:background-color .09s ease-in;content:"";top:0;bottom:0;left:0;right:0;position:absolute;border-radius:50%;background-color:rgba(0,0,0,.2)}',""]),e.exports=t},383:function(e,t,r){"use strict";var n=r(150);r.n(n).a},384:function(e,t,r){(t=r(14)(!1)).push([e.i,'.app-bar[data-v-831fbf7e]{border-bottom:.6px solid rgba(0,0,0,.2)!important}#file-upload[data-v-831fbf7e]{width:.1px;height:.1px;position:absolute;opacity:0}#file-upload+label[data-v-831fbf7e]{cursor:pointer}#file-upload:focus+label[data-v-831fbf7e],#file-upload:hover+label[data-v-831fbf7e]{background-color:rgba(0,0,0,.03)}.drawer[data-v-831fbf7e]{box-shadow:0 2px 5px rgba(0,0,0,.17)}.drawer[data-v-831fbf7e] .v-navigation-drawer__border{width:0}.breadcrumb[data-v-831fbf7e] a.v-breadcrumbs__item{color:rgba(0,0,0,.87)}.toolbar[data-v-831fbf7e]{min-height:100px}.toolbar[data-v-831fbf7e] .v-toolbar__content{display:block;padding:0;height:100%}.count[data-v-831fbf7e]{margin-bottom:0;margin-left:5px;font-size:1.5em;opacity:.7}.search-bar[data-v-831fbf7e]{max-width:400px}.body[data-v-831fbf7e]{background-color:rgba(68,86,108,.042)}#user-photo[data-v-831fbf7e]{width:.1px;height:.1px;opacity:0}#user-photo:focus+.picture-upload[data-v-831fbf7e]:before,#user-photo:hover+.picture-upload[data-v-831fbf7e]:before{background-color:rgba(0,0,0,.4)}#user-image[data-v-831fbf7e]{display:none}#user-image[data-v-831fbf7e],.picture-upload[data-v-831fbf7e]{width:150px;height:150px;border-radius:50%}.picture-upload[data-v-831fbf7e]{margin:20px auto;display:block;cursor:pointer;display:flex;align-items:center;justify-content:center;background-size:cover;position:relative}.picture-upload .v-icon[data-v-831fbf7e]{position:absolute}.picture-upload[data-v-831fbf7e]:before{transition:background-color .09s ease-in;content:"";top:0;bottom:0;left:0;right:0;position:absolute;border-radius:50%;background-color:rgba(0,0,0,.2)}',""]),e.exports=t},385:function(e,t,r){"use strict";var n=r(151);r.n(n).a},386:function(e,t,r){(t=r(14)(!1)).push([e.i,'.app-bar[data-v-5825df20]{border-bottom:.6px solid rgba(0,0,0,.2)!important}#file-upload[data-v-5825df20]{width:.1px;height:.1px;position:absolute;opacity:0}#file-upload+label[data-v-5825df20]{cursor:pointer}#file-upload:focus+label[data-v-5825df20],#file-upload:hover+label[data-v-5825df20]{background-color:rgba(0,0,0,.03)}.drawer[data-v-5825df20]{box-shadow:0 2px 5px rgba(0,0,0,.17)}.drawer[data-v-5825df20] .v-navigation-drawer__border{width:0}.breadcrumb[data-v-5825df20] a.v-breadcrumbs__item{color:rgba(0,0,0,.87)}.toolbar[data-v-5825df20]{min-height:100px}.toolbar[data-v-5825df20] .v-toolbar__content{display:block;padding:0;height:100%}.count[data-v-5825df20]{margin-bottom:0;margin-left:5px;font-size:1.5em;opacity:.7}.search-bar[data-v-5825df20]{max-width:400px}.body[data-v-5825df20]{background-color:rgba(68,86,108,.042)}#user-photo[data-v-5825df20]{width:.1px;height:.1px;opacity:0}#user-photo:focus+.picture-upload[data-v-5825df20]:before,#user-photo:hover+.picture-upload[data-v-5825df20]:before{background-color:rgba(0,0,0,.4)}#user-image[data-v-5825df20]{display:none}#user-image[data-v-5825df20],.picture-upload[data-v-5825df20]{width:150px;height:150px;border-radius:50%}.picture-upload[data-v-5825df20]{margin:20px auto;display:block;cursor:pointer;display:flex;align-items:center;justify-content:center;background-size:cover;position:relative}.picture-upload .v-icon[data-v-5825df20]{position:absolute}.picture-upload[data-v-5825df20]:before{transition:background-color .09s ease-in;content:"";top:0;bottom:0;left:0;right:0;position:absolute;border-radius:50%;background-color:rgba(0,0,0,.2)}',""]),e.exports=t},387:function(e,t,r){"use strict";r.r(t),r.d(t,"state",(function(){return l})),r.d(t,"getters",(function(){return d})),r.d(t,"actions",(function(){return h})),r.d(t,"mutations",(function(){return f}));var n=r(23),o=(r(3),r(97),r(19)),c=r(24),l=(r(126),function(){return{verifyToken:"",resetToken:"",isGridView:!0,user:{},bin:[],filesToDelete:[],foldersToDelete:[],binFolders:[],adminBin:[],adminBinFolders:[],adminRecent:[],recents:[],allFiles:[],allFolders:[],userFolders:[],allUsers:[],allCampaigns:[],totalFiles:[],totalDirectories:[],userDirectories:[],hello:"hello",breadCrumbs:[{text:"mdi-home",href:"/",disabled:!1,icon:!0}],level:0}}),d={getBreadCrumbs:function(e){return e.breadCrumbs.filter((function(e,t,r){return t===r.findIndex((function(element){return element.href===e.href}))}))},isLoggedIn:function(){return function(e){return e.$cookies.get("token")}},getUser:function(){return function(e){return JSON.parse(JSON.stringify(e.$cookies.get("user")))}},getFiles:function(e){return e.allFiles},getFolders:function(e){return e.allFolders},getLevel:function(e){return e.level},getUsers:function(e){return e.allUsers},getCampaigns:function(e){return e.allCampaigns},getTotalFiles:function(e){return e.totalFiles},getTotalDirectories:function(e){return e.totalDirectories},getUserDetails:function(e){return e.user},getUserDirectories:function(e){return e.userDirectories},getUserToken:function(e){return e.verifyToken},getResetToken:function(e){return e.resetToken},getBinFiles:function(e){return e.bin},getBinFolders:function(e){return e.binFolders},getUserFolders:function(e){return e.userFolders},getRecents:function(e){return e.recents},getAdminBin:function(e){return e.adminBin},getAdminBinFolders:function(e){return e.adminBinFolders},getAdminRecent:function(e){return e.adminRecent},getFilesToDelete:function(e){return e.filesToDelete},getFoldersToDelete:function(e){return e.foldersToDelete}},h={addBreadCrumbs:function(e,t){(0,e.commit)("ADD_BREADCRUMB",t)},resetBreadCrumbs:function(e){(0,e.commit)("RESET_BREADCRUMB")},removeBreadCrumb:function(e,t){(0,e.commit)("REMOVE_BREADCRUMB",t)},saveAuth:function(e,t){e.commit;var r=Object(c.a)(t,2),n=r[0],o=r[1];this.$cookies.set("user",n,{path:"/",maxAge:18144e3}),this.$cookies.set("token",o,{path:"/",maxAge:18144e3}),this.$axios.defaults.headers.common.Authorization="Bearer ".concat(o)},fetchFiles:function(e,t){var r=this;return Object(o.a)(regeneratorRuntime.mark((function n(){var o,l,d,h,f;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=e.commit,l=Object(c.a)(t,2),d=l[0],h=l[1],n.prev=2,n.next=5,r.$axios.post("files/user",{user_id:d,level:h});case 5:if(!(f=n.sent)){n.next=9;break}return o("SAVE_USER_FILES",f.data),n.abrupt("return",Promise.resolve(f.data));case 9:n.next=14;break;case 11:return n.prev=11,n.t0=n.catch(2),n.abrupt("return",Promise.reject(n.t0));case 14:case"end":return n.stop()}}),n,null,[[2,11]])})))()},fetchDirectories:function(e,t){var r=this;return Object(o.a)(regeneratorRuntime.mark((function n(){var o,l,d,h,f;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=e.commit,l=Object(c.a)(t,2),d=l[0],h=l[1],n.prev=2,n.next=5,r.$axios.post("files/user",{user_id:d,level:h});case 5:if(!(f=n.sent)){n.next=9;break}return o("SAVE_USER_DIRECTORIES",f.data.directories),n.abrupt("return",Promise.resolve(f.data.directories));case 9:n.next=14;break;case 11:return n.prev=11,n.t0=n.catch(2),n.abrupt("return",Promise.reject(n.t0));case 14:case"end":return n.stop()}}),n,null,[[2,11]])})))()},saveCurrentLevel:function(e,t){(0,e.commit)("SAVE_LEVEL",t)},fetchFolders:function(e,t){var r=e.commit;this.$axios.post("users/directories",{user_id:t}).then((function(e){r("SAVE_USER_FOLDERS",e.data)}))},fetchUserFolders:function(e,t){var r=e.commit;this.$axios.post("admin/files/user",{user_id:t}).then((function(e){r("SAVE_FOLDERS",e.data.directories)}))},fetchBinFiles:function(e,t){var r=this;return Object(o.a)(regeneratorRuntime.mark((function n(){var o,c;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=e.commit,n.prev=1,n.next=4,r.$axios.get("files/bin/".concat(t));case 4:if(!(c=n.sent)){n.next=8;break}return o("LOAD_ALL_BIN",c.data.data),n.abrupt("return",Promise.resolve(c.data));case 8:n.next=13;break;case 10:return n.prev=10,n.t0=n.catch(1),n.abrupt("return",Promise.reject(n.t0));case 13:case"end":return n.stop()}}),n,null,[[1,10]])})))()},fetchAdminBinFiles:function(e,t){var r=this;return Object(o.a)(regeneratorRuntime.mark((function n(){var o,c;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=e.commit,n.prev=1,n.next=4,r.$axios.get("files/sadmin/bin/".concat(t));case 4:if(!(c=n.sent)){n.next=8;break}return o("LOAD_ADMIN_BIN",c.data.data),n.abrupt("return",Promise.resolve(c.data));case 8:n.next=13;break;case 10:return n.prev=10,n.t0=n.catch(1),n.abrupt("return",Promise.reject(n.t0));case 13:case"end":return n.stop()}}),n,null,[[1,10]])})))()},fetchAdminBinFolders:function(e,t){var r=this;return Object(o.a)(regeneratorRuntime.mark((function n(){var o,c;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=e.commit,n.prev=1,n.next=4,r.$axios.get("directory/sadmin/bin/".concat(t));case 4:if(!(c=n.sent)){n.next=8;break}return o("LOAD_ADMIN_BIN_DIRECTORY",c.data.data),n.abrupt("return",Promise.resolve(c.data));case 8:n.next=13;break;case 10:return n.prev=10,n.t0=n.catch(1),n.abrupt("return",Promise.reject(n.t0));case 13:case"end":return n.stop()}}),n,null,[[1,10]])})))()},fetchAdminStuffToBeDeleted:function(e){var t=this;return Object(o.a)(regeneratorRuntime.mark((function r(){var n,o;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=e.commit,r.prev=1,r.next=4,t.$axios.get("/super_admin/to_delete");case 4:if(!(o=r.sent)){r.next=9;break}return n("LOAD_ADMIN_STUFF_DELETE_FILES",o.data.files_to_delete),n("LOAD_ADMIN_STUFF_DELETE_FOLDERS",o.data.folders_to_delete),r.abrupt("return",Promise.resolve(o.data));case 9:r.next=14;break;case 11:return r.prev=11,r.t0=r.catch(1),r.abrupt("return",Promise.reject(r.t0));case 14:case"end":return r.stop()}}),r,null,[[1,11]])})))()},fetchBinFolders:function(e,t){var r=this;return Object(o.a)(regeneratorRuntime.mark((function n(){var o,c;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=e.commit,n.prev=1,n.next=4,r.$axios.get("directory/bin/".concat(t));case 4:if(!(c=n.sent)){n.next=8;break}return o("LOAD_ALL_FOLDER_BIN",c.data.data),n.abrupt("return",Promise.resolve(c.data));case 8:n.next=13;break;case 10:return n.prev=10,n.t0=n.catch(1),n.abrupt("return",Promise.reject(n.t0));case 13:case"end":return n.stop()}}),n,null,[[1,10]])})))()},fetchUsers:function(e){var t=this;return Object(o.a)(regeneratorRuntime.mark((function r(){var n,o;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=e.commit,r.prev=1,r.next=4,t.$axios.get("admin/allUsers");case 4:if(!(o=r.sent)){r.next=8;break}return n("LOAD_ALL_USERS",o.data),r.abrupt("return",Promise.resolve(o.data));case 8:r.next=13;break;case 10:return r.prev=10,r.t0=r.catch(1),r.abrupt("return",Promise.reject(r.t0));case 13:case"end":return r.stop()}}),r,null,[[1,10]])})))()},fetchCampaigns:function(e){var t=this;return Object(o.a)(regeneratorRuntime.mark((function r(){var n,o;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=e.commit,r.prev=1,r.next=4,t.$axios.get("campaigns");case 4:if(!(o=r.sent)){r.next=8;break}return n("LOAD_ALL_CAMPAIGNS",o.data),r.abrupt("return",Promise.resolve(o.data));case 8:r.next=13;break;case 10:return r.prev=10,r.t0=r.catch(1),r.abrupt("return",Promise.reject(r.t0));case 13:case"end":return r.stop()}}),r,null,[[1,10]])})))()},fetchTotalFiles:function(e){var t=this;return Object(o.a)(regeneratorRuntime.mark((function r(){var n,o;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=e.commit,r.prev=1,r.next=4,t.$axios.get("admin/statistics");case 4:if(!(o=r.sent)){r.next=8;break}return n("LOAD_ALL_FILES",o.data.files),r.abrupt("return",Promise.resolve(o.data));case 8:r.next=13;break;case 10:return r.prev=10,r.t0=r.catch(1),r.abrupt("return",Promise.reject(r.t0));case 13:case"end":return r.stop()}}),r,null,[[1,10]])})))()},fetchTotalDirectories:function(e){var t=this;return Object(o.a)(regeneratorRuntime.mark((function r(){var n,o;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=e.commit,r.prev=1,r.next=4,t.$axios.get("admin/statistics");case 4:if(!(o=r.sent)){r.next=8;break}return n("LOAD_ALL_DIRECTORIES",o.data.directories),r.abrupt("return",Promise.resolve(o.data));case 8:r.next=13;break;case 10:return r.prev=10,r.t0=r.catch(1),r.abrupt("return",Promise.reject(r.t0));case 13:case"end":return r.stop()}}),r,null,[[1,10]])})))()},editUser:function(e,t){var r=this;return Object(o.a)(regeneratorRuntime.mark((function n(){var o,c;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=e.commit,n.prev=1,n.next=4,r.$axios.patch("admin/updateUser/".concat(t));case 4:if(!(c=n.sent)){n.next=8;break}return o("LOAD_ALL_USERS",c.data),n.abrupt("return",Promise.resolve(c.data));case 8:n.next=13;break;case 10:return n.prev=10,n.t0=n.catch(1),n.abrupt("return",Promise.reject(n.t0));case 13:case"end":return n.stop()}}),n,null,[[1,10]])})))()},fetchUser:function(e,t){var r=this;return Object(o.a)(regeneratorRuntime.mark((function n(){var o,c;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=e.commit,n.prev=1,n.next=4,r.$axios.get("admin/user/".concat(t));case 4:if(!(c=n.sent)){n.next=9;break}return o("LOAD_USER_DETAILS",c.data),o("LOAD_USER_DIRECTORIES",c.data.directories),n.abrupt("return",Promise.resolve(c.data));case 9:n.next=14;break;case 11:return n.prev=11,n.t0=n.catch(1),n.abrupt("return",Promise.reject(n.t0));case 14:case"end":return n.stop()}}),n,null,[[1,11]])})))()},fetchRecentFiles:function(e,t){var r=this;return Object(o.a)(regeneratorRuntime.mark((function n(){var o,c;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=e.commit,n.prev=1,n.next=4,r.$axios.post("files/recent/files",{user_id:t});case 4:if(!(c=n.sent)){n.next=8;break}return o("LOAD_RECENT_FILES",c.data.data),n.abrupt("return",Promise.resolve(c.data));case 8:n.next=13;break;case 10:return n.prev=10,n.t0=n.catch(1),n.abrupt("return",Promise.reject(n.t0));case 13:case"end":return n.stop()}}),n,null,[[1,10]])})))()},fetchAdminRecentFiles:function(e,t){var r=this;return Object(o.a)(regeneratorRuntime.mark((function n(){var o,c;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=e.commit,n.prev=1,n.next=4,r.$axios.get("files/sadmin/recent/files/".concat(t));case 4:if(!(c=n.sent)){n.next=8;break}return o("LOAD_ADMIN_RECENT",c.data.data),n.abrupt("return",Promise.resolve(c.data));case 8:n.next=13;break;case 10:return n.prev=10,n.t0=n.catch(1),n.abrupt("return",Promise.reject(n.t0));case 13:case"end":return n.stop()}}),n,null,[[1,10]])})))()},resetUser:function(e,t){var r=this;return Object(o.a)(regeneratorRuntime.mark((function n(){var o,l,d,h,f;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=e.commit,l=Object(c.a)(t,2),d=l[0],h=l[1],n.prev=2,n.next=5,r.$axios.post("reset-password",{id:d,email:h});case 5:if(!(f=n.sent)){n.next=9;break}return o("RESET_USER",f.data),n.abrupt("return",Promise.resolve(f.data));case 9:n.next=14;break;case 11:return n.prev=11,n.t0=n.catch(2),n.abrupt("return",Promise.reject(n.t0));case 14:case"end":return n.stop()}}),n,null,[[2,11]])})))()}},f={SAVE_LEVEL:function(e,t){e.level=t},ADD_BREADCRUMB:function(e,t){var r=Object(n.a)(e.breadCrumbs);r.forEach((function(e){e.disabled=!1})),r.push(t),r.forEach((function(e){e.href===t.href&&(e.disabled=!0)}));var o=r.filter((function(e,t,r){return t===r.findIndex((function(element){return element.href===e.href}))}));e.breadCrumbs=Object(n.a)(o)},REMOVE_BREADCRUMB:function(e,t){var r=Object(n.a)(e.breadCrumbs),o=r.findIndex((function(e){return e.href===t}));o>-1&&(e.breadCrumbs=Object(n.a)(r.slice(0,o+1)))},RESET_BREADCRUMB:function(e){e.breadCrumbs=[{text:"mdi-home",href:"/",disabled:!1,icon:!0}]},SAVE_USER_FILES:function(e,t){e.allFiles=t.files},SAVE_USER_FOLDERS:function(e,t){e.allFolders=t.directories},LOAD_ALL_USERS:function(e,t){e.allUsers=t},LOAD_ALL_FILES:function(e,t){e.totalFiles=t},LOAD_ALL_DIRECTORIES:function(e,t){e.totalDirectories=t},LOAD_ALL_CAMPAIGNS:function(e,t){e.allCampaigns=t},LOAD_USER_DETAILS:function(e,t){e.user=t},LOAD_USER_DIRECTORIES:function(e,t){e.userDirectories=t},VERIFY_USER:function(e,t){e.verifyToken=t},RESET_USER:function(e,t){e.resetToken=t},LOAD_ALL_BIN:function(e,t){e.bin=t},LOAD_ALL_FOLDER_BIN:function(e,t){e.binFolders=t},SAVE_FOLDERS:function(e,t){e.userFolders=t},SAVE_USER_DIRECTORIES:function(e,t){e.userDirectories=t},LOAD_RECENT_FILES:function(e,t){e.recents=t},LOAD_ADMIN_BIN:function(e,t){e.adminBin=t},LOAD_ADMIN_BIN_DIRECTORY:function(e,t){e.adminBinFolders=t},LOAD_ADMIN_RECENT:function(e,t){e.adminRecent=t},SET_VIEW_STATE:function(e,view){e.isGridView=view},LOAD_ADMIN_STUFF_DELETE_FILES:function(e,t){e.filesToDelete=t},LOAD_ADMIN_STUFF_DELETE_FOLDERS:function(e,t){e.foldersToDelete=t}}},388:function(e,t,r){"use strict";r.r(t),r.d(t,"state",(function(){return n})),r.d(t,"getters",(function(){return o})),r.d(t,"actions",(function(){return c})),r.d(t,"mutations",(function(){return l}));var n=function(){return{allUsers:[],allCampaigns:[]}},o={},c={},l={LOAD_USERS:function(e,t){e.allUsers=t}}},4:function(e,t,r){"use strict";r.d(t,"k",(function(){return _})),r.d(t,"m",(function(){return w})),r.d(t,"l",(function(){return x})),r.d(t,"e",(function(){return y})),r.d(t,"b",(function(){return k})),r.d(t,"r",(function(){return D})),r.d(t,"g",(function(){return F})),r.d(t,"h",(function(){return $})),r.d(t,"d",(function(){return C})),r.d(t,"q",(function(){return O})),r.d(t,"j",(function(){return U})),r.d(t,"s",(function(){return S})),r.d(t,"n",(function(){return A})),r.d(t,"p",(function(){return I})),r.d(t,"f",(function(){return V})),r.d(t,"c",(function(){return E})),r.d(t,"i",(function(){return P})),r.d(t,"o",(function(){return T})),r.d(t,"a",(function(){return J}));r(12),r(61),r(10),r(57),r(27),r(37);var n=r(24),o=(r(38),r(69),r(138),r(31)),c=(r(28),r(29),r(269),r(199),r(62),r(97),r(19)),l=(r(49),r(7),r(3),r(9),r(26),r(1)),d=r(2);function h(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function f(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?h(Object(source),!0).forEach((function(t){Object(l.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):h(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}function v(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return m(e,t)}(e))){var i=0,t=function(){};return{s:t,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,n,o=!0,c=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){c=!0,n=e},f:function(){try{o||null==r.return||r.return()}finally{if(c)throw n}}}}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=e[i];return r}function _(e){d.a.config.errorHandler&&d.a.config.errorHandler(e)}function w(e){return e.then((function(e){return e.default||e}))}function x(e){return e.$options&&"function"==typeof e.$options.fetch&&!e.$options.fetch.length}function y(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=e.$children||[],o=v(n);try{for(o.s();!(t=o.n()).done;){var c=t.value;c.$fetch?r.push(c):c.$children&&y(c,r)}}catch(e){o.e(e)}finally{o.f()}return r}function k(e,t){if(t||!e.options.__hasNuxtData){var r=e.options._originDataFn||e.options.data||function(){return{}};e.options._originDataFn=r,e.options.data=function(){var data=r.call(this,this);return this.$ssrContext&&(t=this.$ssrContext.asyncData[e.cid]),f({},data,{},t)},e.options.__hasNuxtData=!0,e._Ctor&&e._Ctor.options&&(e._Ctor.options.data=e.options.data)}}function D(e){return e.options&&e._Ctor===e||(e.options?(e._Ctor=e,e.extendOptions=e.options):(e=d.a.extend(e))._Ctor=e,!e.options.name&&e.options.__file&&(e.options.name=e.options.__file)),e}function F(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"components";return Array.prototype.concat.apply([],e.matched.map((function(e,n){return Object.keys(e[r]).map((function(o){return t&&t.push(n),e[r][o]}))})))}function $(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return F(e,t,"instances")}function C(e,t){return Array.prototype.concat.apply([],e.matched.map((function(e,r){return Object.keys(e.components).reduce((function(n,o){return e.components[o]?n.push(t(e.components[o],e.instances[o],e,o,r)):delete e.components[o],n}),[])})))}function O(e,t){return Promise.all(C(e,function(){var e=Object(c.a)(regeneratorRuntime.mark((function e(r,n,o,c){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("function"!=typeof r||r.options){e.next=4;break}return e.next=3,r();case 3:r=e.sent;case 4:return o.components[c]=r=D(r),e.abrupt("return","function"==typeof t?t(r,n,o,c):r);case 6:case"end":return e.stop()}}),e)})));return function(t,r,n,o){return e.apply(this,arguments)}}()))}function U(e){return L.apply(this,arguments)}function L(){return(L=Object(c.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,O(t);case 4:return e.abrupt("return",f({},t,{meta:F(t).map((function(e,r){return f({},e.options.meta,{},(t.matched[r]||{}).meta)}))}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(e,t){return j.apply(this,arguments)}function j(){return(j=Object(c.a)(regeneratorRuntime.mark((function e(t,r){var c,l,d,h;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.context||(t.context={isStatic:!0,isDev:!1,isHMR:!1,app:t,store:t.store,payload:r.payload,error:r.error,base:"/",env:{}},r.req&&(t.context.req=r.req),r.res&&(t.context.res=r.res),r.ssrContext&&(t.context.ssrContext=r.ssrContext),t.context.redirect=function(e,path,r){if(e){t.context._redirected=!0;var n=Object(o.a)(path);if("number"==typeof e||"undefined"!==n&&"object"!==n||(r=path||{},path=e,n=Object(o.a)(path),e=302),"object"===n&&(path=t.router.resolve(path).route.fullPath),!/(^[.]{1,2}\/)|(^\/(?!\/))/.test(path))throw path=G(path,r),window.location.replace(path),new Error("ERR_REDIRECT");t.context.next({path:path,query:r,status:e})}},t.context.nuxtState=window.__NUXT__),e.next=3,Promise.all([U(r.route),U(r.from)]);case 3:c=e.sent,l=Object(n.a)(c,2),d=l[0],h=l[1],r.route&&(t.context.route=d),r.from&&(t.context.from=h),t.context.next=r.next,t.context._redirected=!1,t.context._errored=!1,t.context.isHMR=!1,t.context.params=t.context.route.params||{},t.context.query=t.context.route.query||{};case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(e,t){return!e.length||t._redirected||t._errored?Promise.resolve():I(e[0],t).then((function(){return A(e.slice(1),t)}))}function I(e,t){var r;return(r=2===e.length?new Promise((function(r){e(t,(function(e,data){e&&t.error(e),r(data=data||{})}))})):e(t))&&r instanceof Promise&&"function"==typeof r.then?r:Promise.resolve(r)}function V(base,e){var path=decodeURI(window.location.pathname);return"hash"===e?window.location.hash.replace(/^#\//,""):(base&&0===path.indexOf(base)&&(path=path.slice(base.length)),(path||"/")+window.location.search+window.location.hash)}function E(e,t){return function(e,t){for(var r=new Array(e.length),i=0;i<e.length;i++)"object"===Object(o.a)(e[i])&&(r[i]=new RegExp("^(?:"+e[i].pattern+")$",z(t)));return function(t,n){for(var path="",data=t||{},o=(n||{}).pretty?B:encodeURIComponent,c=0;c<e.length;c++){var l=e[c];if("string"!=typeof l){var d=data[l.name||"pathMatch"],h=void 0;if(null==d){if(l.optional){l.partial&&(path+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(Array.isArray(d)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(d)+"`");if(0===d.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var f=0;f<d.length;f++){if(h=o(d[f]),!r[c].test(h))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(h)+"`");path+=(0===f?l.prefix:l.delimiter)+h}}else{if(h=l.asterisk?B(d,!0):o(d),!r[c].test(h))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+h+'"');path+=l.prefix+h}}else path+=l}return path}}(function(e,t){var r,n=[],o=0,c=0,path="",l=t&&t.delimiter||"/";for(;null!=(r=R.exec(e));){var d=r[0],h=r[1],f=r.index;if(path+=e.slice(c,f),c=f+d.length,h)path+=h[1];else{var v=e[c],m=r[2],_=r[3],w=r[4],x=r[5],y=r[6],k=r[7];path&&(n.push(path),path="");var D=null!=m&&null!=v&&v!==m,F="+"===y||"*"===y,$="?"===y||"*"===y,C=r[2]||l,pattern=w||x;n.push({name:_||o++,prefix:m||"",delimiter:C,optional:$,repeat:F,partial:D,asterisk:Boolean(k),pattern:pattern?M(pattern):k?".*":"[^"+N(C)+"]+?"})}}c<e.length&&(path+=e.substr(c));path&&n.push(path);return n}(e,t),t)}function P(e,t){var r={},n=f({},e,{},t);for(var o in n)String(e[o])!==String(t[o])&&(r[o]=!0);return r}function T(e){var t;if(e.message||"string"==typeof e)t=e.message||e;else try{t=JSON.stringify(e,null,2)}catch(r){t="[".concat(e.constructor.name,"]")}return f({},e,{message:t,statusCode:e.statusCode||e.status||e.response&&e.response.status||500})}window.onNuxtReadyCbs=[],window.onNuxtReady=function(e){window.onNuxtReadyCbs.push(e)};var R=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function B(e,t){var r=t?/[?#]/g:/[/?#]/g;return encodeURI(e).replace(r,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function N(e){return e.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function M(e){return e.replace(/([=!:$/()])/g,"\\$1")}function z(e){return e&&e.sensitive?"":"i"}function G(e,t){var r,o=e.indexOf("://");-1!==o?(r=e.substring(0,o),e=e.substring(o+3)):e.startsWith("//")&&(e=e.substring(2));var c,l=e.split("/"),d=(r?r+"://":"//")+l.shift(),path=l.filter(Boolean).join("/");if(2===(l=path.split("#")).length){var h=l,f=Object(n.a)(h,2);path=f[0],c=f[1]}return d+=path?"/"+path:"",t&&"{}"!==JSON.stringify(t)&&(d+=(2===e.split("?").length?"&":"?")+function(e){return Object.keys(e).sort().map((function(t){var r=e[t];return null==r?"":Array.isArray(r)?r.slice().map((function(e){return[t,"=",e].join("")})).join("&"):t+"="+r})).filter(Boolean).join("&")}(t)),d+=c?"#"+c:""}function J(e,t,r){e.$options[t]||(e.$options[t]=[]),e.$options[t].includes(r)||e.$options[t].push(r)}},40:function(e,t,r){"use strict";var n={},o=r(20),c=r(22),l=r.n(c),d=r(115),h=r(185),f=r(184),component=Object(o.a)(n,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"text-center"},[r("v-overlay",{attrs:{"z-index":10,opacity:"0.2"}},[r("v-btn",{attrs:{icon:""},on:{click:function(t){e.overlay=!1}}},[r("v-progress-circular",{attrs:{indeterminate:"",color:"primary",size:"50"}})],1)],1)],1)}),[],!1,null,null,null);t.a=component.exports;l()(component,{VBtn:d.a,VOverlay:h.a,VProgressCircular:f.a})},73:function(e,t,r){"use strict";r.d(t,"b",(function(){return nr})),r.d(t,"a",(function(){return A}));r(97),r(12),r(10),r(7),r(3),r(9);var n=r(19),o=r(1),c=(r(26),r(2)),l=r(240),d=r(196),h=r.n(d),f=r(105),v=r.n(f),m=r(121),_=r(4);"scrollRestoration"in window.history&&(window.history.scrollRestoration="manual",window.addEventListener("beforeunload",(function(){window.history.scrollRestoration="auto"})),window.addEventListener("load",(function(){window.history.scrollRestoration="manual"})));var w=function(){},x=m.a.prototype.push;m.a.prototype.push=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:w,r=arguments.length>2?arguments[2]:void 0;return x.call(this,e,t,r)},c.a.use(m.a);var y={mode:"history",base:decodeURI("/"),linkActiveClass:"nuxt-link-active",linkExactActiveClass:"nuxt-link-exact-active",scrollBehavior:function(e,t,r){var n=!1,o=Object(_.g)(e);(o.length<2&&o.every((function(e){return!1!==e.options.scrollToTop}))||o.some((function(e){return e.options.scrollToTop})))&&(n={x:0,y:0}),r&&(n=r);var c=window.$nuxt;return e.path===t.path&&e.hash!==t.hash&&c.$nextTick((function(){return c.$emit("triggerScroll")})),new Promise((function(t){c.$once("triggerScroll",(function(){if(e.hash){var r=e.hash;void 0!==window.CSS&&void 0!==window.CSS.escape&&(r="#"+window.CSS.escape(r.substr(1)));try{document.querySelector(r)&&(n={selector:r})}catch(e){console.warn("Failed to save scroll position. Please add CSS.escape() polyfill (https://github.com/mathiasbynens/CSS.escape).")}}t(n)}))}))},routes:[{path:"/bin",component:function(){return Object(_.m)(Promise.all([r.e(0),r.e(15)]).then(r.bind(null,679)))},name:"bin"},{path:"/campaign",component:function(){return Object(_.m)(Promise.all([r.e(1),r.e(16)]).then(r.bind(null,687)))},name:"campaign"},{path:"/drive",component:function(){return Object(_.m)(Promise.all([r.e(0),r.e(17)]).then(r.bind(null,688)))},name:"drive"},{path:"/forgot-password",component:function(){return Object(_.m)(r.e(19).then(r.bind(null,689)))},name:"forgot-password"},{path:"/login",component:function(){return Object(_.m)(r.e(21).then(r.bind(null,690)))},name:"login"},{path:"/recent",component:function(){return Object(_.m)(Promise.all([r.e(0),r.e(22)]).then(r.bind(null,691)))},name:"recent"},{path:"/shared",component:function(){return Object(_.m)(r.e(25).then(r.bind(null,692)))},name:"shared"},{path:"/signup",component:function(){return Object(_.m)(r.e(26).then(r.bind(null,686)))},name:"signup"},{path:"/user-drive",component:function(){return Object(_.m)(Promise.all([r.e(0),r.e(27)]).then(r.bind(null,693)))},name:"user-drive"},{path:"/admin/allusers",component:function(){return Object(_.m)(Promise.all([r.e(1),r.e(5)]).then(r.bind(null,694)))},name:"admin-allusers"},{path:"/admin/bin-delete",component:function(){return Object(_.m)(Promise.all([r.e(0),r.e(6)]).then(r.bind(null,680)))},name:"admin-bin-delete"},{path:"/admin/dashboard",component:function(){return Object(_.m)(r.e(8).then(r.bind(null,683)))},name:"admin-dashboard"},{path:"/admin/user",component:function(){return Object(_.m)(Promise.all([r.e(0),r.e(12)]).then(r.bind(null,695)))},name:"admin-user"},{path:"/admin/user/recent",component:function(){return Object(_.m)(Promise.all([r.e(0),r.e(13)]).then(r.bind(null,696)))},name:"admin-user-recent"},{path:"/admin/user/shared",component:function(){return Object(_.m)(r.e(14).then(r.bind(null,678)))},name:"admin-user-shared"},{path:"/admin/bin/:id?",component:function(){return Object(_.m)(Promise.all([r.e(0),r.e(7)]).then(r.bind(null,681)))},name:"admin-bin-id"},{path:"/admin/recent/:id?",component:function(){return Object(_.m)(Promise.all([r.e(0),r.e(9)]).then(r.bind(null,697)))},name:"admin-recent-id"},{path:"/admin/user/:id",component:function(){return Object(_.m)(Promise.all([r.e(0),r.e(2),r.e(11)]).then(r.bind(null,698)))},name:"admin-user-id"},{path:"/admin/user/:id/folder/:name?",component:function(){return Object(_.m)(Promise.all([r.e(0),r.e(2),r.e(10)]).then(r.bind(null,684)))},name:"admin-user-id-folder-name"},{path:"/folder/:name?",component:function(){return Object(_.m)(Promise.all([r.e(0),r.e(18)]).then(r.bind(null,685)))},name:"folder-name"},{path:"/reset-request/:token?",component:function(){return Object(_.m)(r.e(23).then(r.bind(null,699)))},name:"reset-request-token"},{path:"/shared/:id",component:function(){return Object(_.m)(Promise.all([r.e(0),r.e(24)]).then(r.bind(null,700)))},name:"shared-id"},{path:"/",component:function(){return Object(_.m)(Promise.all([r.e(0),r.e(1),r.e(20)]).then(r.bind(null,701)))},name:"index"}],fallback:!1};function k(){return new m.a(y)}var D={name:"NuxtChild",functional:!0,props:{nuxtChildKey:{type:String,default:""},keepAlive:Boolean,keepAliveProps:{type:Object,default:void 0}},render:function(e,t){var r=t.parent,data=t.data,n=t.props,o=r.$createElement;data.nuxtChild=!0;for(var c=r,l=r.$nuxt.nuxt.transitions,d=r.$nuxt.nuxt.defaultTransition,h=0;r;)r.$vnode&&r.$vnode.data.nuxtChild&&h++,r=r.$parent;data.nuxtChildDepth=h;var f=l[h]||d,v={};F.forEach((function(e){void 0!==f[e]&&(v[e]=f[e])}));var m={};$.forEach((function(e){"function"==typeof f[e]&&(m[e]=f[e].bind(c))}));var _=m.beforeEnter;if(m.beforeEnter=function(e){if(window.$nuxt.$nextTick((function(){window.$nuxt.$emit("triggerScroll")})),_)return _.call(c,e)},!1===f.css){var w=m.leave;(!w||w.length<2)&&(m.leave=function(e,t){w&&w.call(c,e),c.$nextTick(t)})}var x=o("routerView",data);return n.keepAlive&&(x=o("keep-alive",{props:n.keepAliveProps},[x])),o("transition",{props:v,on:m},[x])}},F=["name","mode","appear","css","type","duration","enterClass","leaveClass","appearClass","enterActiveClass","enterActiveClass","leaveActiveClass","appearActiveClass","enterToClass","leaveToClass","appearToClass"],$=["beforeEnter","enter","afterEnter","enterCancelled","beforeLeave","leave","afterLeave","leaveCancelled","beforeAppear","appear","afterAppear","appearCancelled"],C={layout:"empty",props:{error:{type:Object,default:null}},data:function(){return{pageNotFound:"404 Not Found",otherError:"An error occurred"}},head:function(){return{title:404===this.error.statusCode?this.pageNotFound:this.otherError}}},O=(r(274),r(20)),U=r(22),L=r.n(U),S=r(414),j=Object(O.a)(C,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-app",{attrs:{dark:""}},[404===e.error.statusCode?r("h1",[e._v("\n    "+e._s(e.pageNotFound)+"\n  ")]):r("h1",[e._v("\n    "+e._s(e.otherError)+"\n  ")]),e._v(" "),r("NuxtLink",{attrs:{to:"/"}},[e._v("\n    Home page\n  ")])],1)}),[],!1,null,"68bf72b5",null),A=j.exports;L()(j,{VApp:S.a});r(28),r(29),r(62);var I=r(24),V={name:"Nuxt",components:{NuxtChild:D,NuxtError:A},props:{nuxtChildKey:{type:String,default:void 0},keepAlive:Boolean,keepAliveProps:{type:Object,default:void 0},name:{type:String,default:"default"}},errorCaptured:function(e){this.displayingNuxtError&&(this.errorFromNuxtError=e,this.$forceUpdate())},computed:{routerViewKey:function(){if(void 0!==this.nuxtChildKey||this.$route.matched.length>1)return this.nuxtChildKey||Object(_.c)(this.$route.matched[0].path)(this.$route.params);var e=Object(I.a)(this.$route.matched,1)[0];if(!e)return this.$route.path;var t=e.components.default;if(t&&t.options){var r=t.options;if(r.key)return"function"==typeof r.key?r.key(this.$route):r.key}return/\/$/.test(e.path)?this.$route.path:this.$route.path.replace(/\/$/,"")}},beforeCreate:function(){c.a.util.defineReactive(this,"nuxt",this.$root.$options.nuxt)},render:function(e){var t=this;return this.nuxt.err?this.errorFromNuxtError?(this.$nextTick((function(){return t.errorFromNuxtError=!1})),e("div",{},[e("h2","An error occured while showing the error page"),e("p","Unfortunately an error occured and while showing the error page another error occured"),e("p","Error details: ".concat(this.errorFromNuxtError.toString())),e("nuxt-link",{props:{to:"/"}},"Go back to home")])):(this.displayingNuxtError=!0,this.$nextTick((function(){return t.displayingNuxtError=!1})),e(A,{props:{error:this.nuxt.err}})):e("NuxtChild",{key:this.routerViewKey,props:this.$props})}},E=(r(61),r(57),r(49),{name:"NuxtLoading",data:function(){return{percent:0,show:!1,canSucceed:!0,reversed:!1,skipTimerCount:0,rtl:!1,throttle:200,duration:5e3,continuous:!1}},computed:{left:function(){return!(!this.continuous&&!this.rtl)&&(this.rtl?this.reversed?"0px":"auto":this.reversed?"auto":"0px")}},beforeDestroy:function(){this.clear()},methods:{clear:function(){clearInterval(this._timer),clearTimeout(this._throttle),this._timer=null},start:function(){var e=this;return this.clear(),this.percent=0,this.reversed=!1,this.skipTimerCount=0,this.canSucceed=!0,this.throttle?this._throttle=setTimeout((function(){return e.startTimer()}),this.throttle):this.startTimer(),this},set:function(e){return this.show=!0,this.canSucceed=!0,this.percent=Math.min(100,Math.max(0,Math.floor(e))),this},get:function(){return this.percent},increase:function(e){return this.percent=Math.min(100,Math.floor(this.percent+e)),this},decrease:function(e){return this.percent=Math.max(0,Math.floor(this.percent-e)),this},pause:function(){return clearInterval(this._timer),this},resume:function(){return this.startTimer(),this},finish:function(){return this.percent=this.reversed?0:100,this.hide(),this},hide:function(){var e=this;return this.clear(),setTimeout((function(){e.show=!1,e.$nextTick((function(){e.percent=0,e.reversed=!1}))}),500),this},fail:function(e){return this.canSucceed=!1,this},startTimer:function(){var e=this;this.show||(this.show=!0),void 0===this._cut&&(this._cut=1e4/Math.floor(this.duration)),this._timer=setInterval((function(){e.skipTimerCount>0?e.skipTimerCount--:(e.reversed?e.decrease(e._cut):e.increase(e._cut),e.continuous&&(e.percent>=100||e.percent<=0)&&(e.skipTimerCount=1,e.reversed=!e.reversed))}),100)}},render:function(e){var t=e(!1);return this.show&&(t=e("div",{staticClass:"nuxt-progress",class:{"nuxt-progress-notransition":this.skipTimerCount>0,"nuxt-progress-failed":!this.canSucceed},style:{width:this.percent+"%",left:this.left}})),t}}),P=(r(278),Object(O.a)(E,void 0,void 0,!1,null,null,null).exports),T=(r(280),r(288),r(38),r(25)),R=r(40);function B(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}var N={components:{Loader:R.a},props:{source:{type:String,default:""}},data:function(){return{dialog:!1,drawer:null,user:{},items:[{icon:"mdi-view-dashboard",text:"Dashboard",to:"/admin/dashboard"},{icon:"mdi-account",text:"User Accounts",to:"/admin/allusers"},{icon:"mdi-laptop",text:"Campaigns",to:"/campaign"},{icon:"mdi-trash-can-outline",text:"Bin",to:"/admin/bin-delete"}],loading:!1,buttonLoading:!1,error:{status:!1,message:""},alertError:{status:!1,message:""},success:{status:!1,message:""},showNewFolderDialog:!1,pressed:!1}},computed:function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?B(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):B(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({getUser:function(){return this.$store.getters.getUser},getUserInitials:function(){var e=this.user.full_name;if(e){var t=e.split(" ").reduce((function(e,t){return"".concat(e).concat(t[0])}),"");return t.length>2?"".concat(t[0]).concat(t[1]):t}return null}},Object(T.b)(["getBreadCrumbs","isLoggedIn","getUser"])),mounted:function(){var e=this.isLoggedIn(this);this.user=this.getUser(this),e?this.$axios.defaults.headers.common.Authorization="Bearer ".concat(e):this.$router.push({path:"/login"}),this.loading=!0,this.fetchUserFiles(this.user.id,0)},methods:{openNewFolderDialog:function(){this.showNewFolderDialog=!0},closeDialog:function(){this.showNewFolderDialog=!1},logout:function(){this.$cookies.remove("token"),this.$cookies.remove("user"),this.$router.push("/login")},createFolder:function(e){var t=this;this.buttonLoading=!0;var r=this.getUser(this),data={dirname:e,user_id:r.id,level:0};this.$axios.post("directory/create",data).then((function(){t.buttonLoading=!1,t.loading=!0,t.fetchUserFiles(r.id,0)})).catch((function(){t.buttonLoading=!1})),this.showNewFolderDialog=!1},resetBreadCrumbs:function(){this.$store.dispatch("resetBreadCrumbs")},handleFileUpload:function(e){var t=this;this.loading=!0;var r=JSON.parse(JSON.stringify(this.$cookies.get("user"))),n=e.target.files,o=new FormData;o.set("user_id",r.id),n&&n[0]&&(o.set("file",n[0]),this.$axios.post("files/upload/single",o,{headers:{"Content-Type":"multipart/form-data"}}).then((function(){t.fetchUserFiles(r.id,0)})).catch((function(e){t.loading=!1,t.error.status=!0,t.error.message=e.response.data.message})))}}},M=(r(303),r(426)),z=r(415),G=r(186),J=r(115),H=r(416),K=r(417),X=r(418),Q=r(187),W=r(154),Y=r(160),Z=r(419),ee=r(188),te=r(116),re=r(189),ae=r(5),ne=r(194),oe=r(104),ie=r(191),se=r(427),ce=r(420),le=r(421),ue=r(422),de=r(192),he=Object(O.a)(N,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-app",{attrs:{id:"inspire"}},[r("v-navigation-drawer",{staticClass:"drawer",attrs:{clipped:"",app:""},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[r("v-list",{attrs:{dense:"",shaped:""}},[e._l(e.items,(function(t){return[t.heading?r("v-row",{key:t.heading,attrs:{align:"center"}},[r("v-col",{attrs:{cols:"6"}},[t.heading?r("v-subheader",[e._v("\n              "+e._s(t.heading)+"\n            ")]):e._e()],1),e._v(" "),r("v-col",{staticClass:"text-center",attrs:{cols:"6"}},[r("a",{staticClass:"body-2 black--text",attrs:{href:"#!"}},[e._v("EDIT")])])],1):t.children?r("v-list-item-group",{key:t.text,attrs:{"prepend-icon":t.model?t.icon:t["icon-alt"],"append-icon":"",color:"primary",exact:""},model:{value:t.model,callback:function(r){e.$set(t,"model",r)},expression:"item.model"}},[[r("v-list-item-content",[r("v-list-item-title",[e._v("\n                "+e._s(t.text)+"\n              ")])],1)],e._v(" "),e._l(t.children,(function(n,i){return r("v-list-item",{key:i,attrs:{link:"",to:t.to}},[n.icon?r("v-list-item-action",[r("v-icon",[e._v(e._s(n.icon))])],1):e._e(),e._v(" "),r("v-list-item-content",[r("v-list-item-title",[e._v("\n                "+e._s(n.text)+"\n              ")])],1)],1)}))],2):r("v-list-item",{key:t.text,attrs:{link:"",to:t.to,color:"primary"}},[r("v-list-item-action",[r("v-icon",[e._v(e._s(t.icon))])],1),e._v(" "),r("v-list-item-content",[r("v-list-item-title",[e._v("\n              "+e._s(t.text)+"\n            ")])],1)],1)]}))],2)],1),e._v(" "),r("v-app-bar",{staticClass:"app-bar",attrs:{"clipped-left":e.$vuetify.breakpoint.lgAndUp,app:"",color:"white",elevation:"0"}},[r("v-app-bar-nav-icon",{on:{click:function(t){t.stopPropagation(),e.drawer=!e.drawer}}}),e._v(" "),r("img",{attrs:{src:"/images/logo.png",alt:"Outsource Logo",width:"100vh"}}),e._v(" "),r("v-spacer"),e._v(" "),r("v-divider",{attrs:{vertical:""}}),e._v(" "),r("v-menu",{attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[r("v-btn",e._g({attrs:{text:""}},n),[r("v-layout",{attrs:{"align-center":""}},[e.user.picture?r("v-avatar",{staticClass:"mx-2",attrs:{size:"35px",item:""}},[r("v-img",{attrs:{src:e.user.picture,alt:"User Image"}})],1):r("v-avatar",{staticClass:"mx-2",attrs:{size:"35px",color:"primary",item:""}},[r("span",{staticClass:"white--text font-weight-medium"},[e._v("\n                "+e._s(e.getUserInitials)+"\n              ")])]),e._v(" "),r("span",{staticClass:"hidden-sm-and-down"},[e._v(e._s(e.user.username))]),e._v(" "),r("v-icon",[e._v("mdi-menu-down")])],1)],1)]}}])},[e._v(" "),r("v-list",[r("v-list-item",{attrs:{to:"/"}},[r("v-list-item-icon",[r("v-icon",[e._v("mdi-home")])],1),e._v(" "),r("v-list-item-content",[e._v("Home")])],1),e._v(" "),r("v-list-item",{on:{click:e.logout}},[r("v-list-item-icon",[r("v-icon",[e._v("mdi-logout-variant")])],1),e._v(" "),r("v-list-item-content",[e._v("Logout")])],1)],1)],1)],1),e._v(" "),e.loading?r("Loader"):e._e(),e._v(" "),e.error.status?r("v-snackbar",{attrs:{timeout:5e3},model:{value:e.error.status,callback:function(t){e.$set(e.error,"status",t)},expression:"error.status"}},[e._v("\n    "+e._s(e.error.message)+"\n    "),r("v-btn",{attrs:{color:"pink",text:""},on:{click:function(t){e.error.status=!1}}},[e._v("\n      Close\n    ")])],1):e._e(),e._v(" "),e.success.status?r("v-snackbar",{attrs:{timeout:5e3},model:{value:e.success.status,callback:function(t){e.$set(e.success,"status",t)},expression:"success.status"}},[e._v("\n    "+e._s(e.success.message)+"\n    "),r("v-btn",{attrs:{color:"green",text:""},on:{click:function(t){e.success.status=!1}}},[e._v("\n      Close\n    ")])],1):e._e(),e._v(" "),r("v-content",{staticClass:"body"},[r("v-container",{staticClass:"pb-0"}),e._v(" "),r("router-view")],1)],1)}),[],!1,null,"39175d6f",null),pe=he.exports;L()(he,{VApp:S.a,VAppBar:M.a,VAppBarNavIcon:z.a,VAvatar:G.a,VBtn:J.a,VCol:H.a,VContainer:K.a,VContent:X.a,VDivider:Q.a,VIcon:W.a,VImg:Y.a,VLayout:Z.a,VList:ee.a,VListItem:te.a,VListItemAction:re.a,VListItemContent:ae.a,VListItemGroup:ne.a,VListItemIcon:oe.a,VListItemTitle:ae.c,VMenu:ie.a,VNavigationDrawer:se.a,VRow:ce.a,VSnackbar:le.a,VSpacer:ue.a,VSubheader:de.a});var fe=r(23),ve={props:{showDialog:{type:Boolean,default:!1},isLoading:{type:Boolean,default:!1}},data:function(){return{folderName:"New Folder"}},watch:{showDialog:function(e){e&&setTimeout((function(){document.querySelector("#newFolder").select()}),0)}},methods:{createFolder:function(){this.$emit("createFolder",this.folderName),this.folderName=""}}},me=r(193),ge=r(11),be=r(423),_e=r(72),we=Object(O.a)(ve,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-dialog",{attrs:{value:e.showDialog,"max-width":"360"},on:{"click:outside":function(t){return e.$emit("closeDialog")}}},[r("v-card",[r("v-card-title",{staticClass:"headline"},[e._v("\n      Create New Folder\n    ")]),e._v(" "),r("v-card-text",[r("v-text-field",{ref:"folderName",attrs:{id:"newFolder",label:"Folder Name"},model:{value:e.folderName,callback:function(t){e.folderName=t},expression:"folderName"}})],1),e._v(" "),r("v-card-actions",[r("v-spacer"),e._v(" "),r("v-btn",{attrs:{color:"darken-1",text:""},on:{click:function(t){return e.$emit("closeDialog")}}},[e._v("\n        Cancel\n      ")]),e._v(" "),r("v-btn",{attrs:{color:"primary px-5",loading:e.isLoading},on:{click:e.createFolder}},[e._v("\n        Create\n      ")])],1)],1)],1)}),[],!1,null,null,null),xe=we.exports;L()(we,{VBtn:J.a,VCard:me.a,VCardActions:ge.a,VCardText:ge.b,VCardTitle:ge.c,VDialog:be.a,VSpacer:ue.a,VTextField:_e.a});function ye(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}var ke={props:{showDialog:{type:Boolean,default:!1},isLoading:{type:Boolean,default:!1}},data:function(){return{folder:null}},computed:function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ye(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):ye(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},Object(T.b)(["getFolders"]),{allFolders:function(){return[].concat(Object(fe.a)(this.getFolders),[{dirname:"Root folder",_id:""}])}}),methods:{moveFolder:function(){this.$emit("moveFolder",this.folder),this.folder=""}}},De=r(424),Fe=Object(O.a)(ke,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-dialog",{attrs:{value:e.showDialog,"max-width":"360"},on:{"click:outside":function(t){return e.$emit("closeDialog")}}},[r("v-card",[r("v-card-title",{staticClass:"headline"},[e._v("\n      Select Destination Folder\n    ")]),e._v(" "),r("v-card-text",[r("v-autocomplete",{attrs:{items:e.allFolders,"item-text":"dirname","item-value":"_id","prepend-icon":"mdi-folder"},model:{value:e.folder,callback:function(t){e.folder=t},expression:"folder"}})],1),e._v(" "),r("v-card-actions",[r("v-spacer"),e._v(" "),r("v-btn",{attrs:{color:"darken-1",text:""},on:{click:function(t){return e.$emit("closeDialog")}}},[e._v("\n        Cancel\n      ")]),e._v(" "),r("v-btn",{attrs:{color:"primary px-5",loading:e.isLoading,disabled:null===e.folder},on:{click:e.moveFolder}},[e._v("\n        Move\n      ")])],1)],1)],1)}),[],!1,null,null,null),$e=Fe.exports;L()(Fe,{VAutocomplete:De.a,VBtn:J.a,VCard:me.a,VCardActions:ge.a,VCardText:ge.b,VCardTitle:ge.c,VDialog:be.a,VSpacer:ue.a});function Ce(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}var Oe={props:{showDialog:{type:Boolean,default:!1},isLoading:{type:Boolean,default:!1}},data:function(){return{selectedUsers:"",search:"",users:[],loading:!1}},computed:function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?Ce(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):Ce(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},Object(T.b)(["getFolders","isLoggedIn"]),{foundUsers:function(){return this.users||[]}}),watch:{search:function(e){e&&this.findUsers(e)}},mounted:function(){var e=this.isLoggedIn(this);this.$axios.defaults.headers.common.Authorization="Bearer ".concat(e)},methods:{findUsers:function(e){var t=this;this.loading=!0,this.$axios.post("users/search",{username:e}).then((function(e){var data=e.data;t.loading=!1,t.users=data.users}))},share:function(){this.$emit("share",this.selectedUsers),this.selectedUsers=[]}}},Ue=Object(O.a)(Oe,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-dialog",{attrs:{value:e.showDialog,"max-width":"360"},on:{"click:outside":function(t){return e.$emit("closeDialog")}}},[r("v-card",[r("v-card-title",{staticClass:"headline"},[e._v("\n      Share With\n    ")]),e._v(" "),r("v-card-text",[r("v-autocomplete",{attrs:{"search-input":e.search,items:e.foundUsers,loading:e.loading,"item-text":"username","item-value":"_id",chips:"","cache-items":"","deletable-chips":"","hide-no-data":"",multiple:"","prepend-icon":"mdi-account","return-object":""},on:{"update:searchInput":function(t){e.search=t},"update:search-input":function(t){e.search=t}},model:{value:e.selectedUsers,callback:function(t){e.selectedUsers=t},expression:"selectedUsers"}})],1),e._v(" "),r("v-card-actions",[r("v-spacer"),e._v(" "),r("v-btn",{attrs:{color:"darken-1",text:"",disabled:e.isLoading},on:{click:function(t){return e.$emit("closeDialog")}}},[e._v("\n        Cancel\n      ")]),e._v(" "),r("v-btn",{attrs:{color:"primary px-5",loading:e.isLoading,disabled:e.selectedUsers.length<1},on:{click:e.share}},[e._v("\n        Share\n      ")])],1)],1)],1)}),[],!1,null,null,null),Le=Ue.exports;L()(Ue,{VAutocomplete:De.a,VBtn:J.a,VCard:me.a,VCardActions:ge.a,VCardText:ge.b,VCardTitle:ge.c,VDialog:be.a,VSpacer:ue.a});var Se=r(8);function je(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}var Ae={components:{NewDialog:xe,Loader:R.a,MoveDialog:$e,ShareDialog:Le},props:{source:{type:String,default:""}},data:function(e){return{dialog:!1,drawer:null,items:[{icon:"mdi-cloud-outline",text:"Drive",to:"/admin/user/".concat(e.$route.params.id)},{icon:"mdi-account-multiple-outline",text:"Shared with this User",to:"#"},{icon:"mdi-clock-outline",text:"Recent",to:"/admin/recent/".concat(e.$route.params.id)},{icon:"mdi-trash-can-outline",text:"Bin",to:"/admin/bin/".concat(e.$route.params.id)}],loading:!1,buttonLoading:!1,showNewFolderDialog:!1,showMoveFolderDialog:!1,pressed:!1,showAction:!1,folderShowAction:!1,error:{status:!1,message:""},alertError:{status:!1,message:""},success:{status:!1,message:""},fileIds:[],folderIds:[],fileLength:0,showShareDialog:!1,user:"",showProfileDialog:!1,profileLoading:!1,updateUser:{full_name:"",username:""}}},computed:function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?je(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):je(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},Object(T.b)(["getBreadCrumbs","isLoggedIn","getUser","getLevel"]),{isAdmin:function(){return this.user.role&&"admin"===this.user.role.toLowerCase()},isSuperAdmin:function(){return this.user.role&&"superadmin"===this.user.role.toLowerCase()},disableBtn:function(){return!this.updateUser.full_name||!this.updateUser.username},getUserInitials:function(){var e=this.user.full_name;if(e){var t=e.split(" ").reduce((function(e,t){return"".concat(e).concat(t[0])}),"");return t.length>2?"".concat(t[0]).concat(t[1]):t}return null},isBin:function(){return this.$route.name==="admin/bin/".concat(this.$route.params.id)}}),mounted:function(){var e=this,t=this.isLoggedIn(this),r=this.getUser(this);t?this.$axios.defaults.headers.common.Authorization="Bearer ".concat(t):this.$router.push({path:"/login"}),this.loading=!0,this.showAction=!1,this.fetchUserFiles(r.id,0),Se.a.$on("showAction",(function(t){e.fileIds=t,e.showAction=!0})),Se.a.$on("folderShowAction",(function(t){e.folderIds=t,e.folderShowAction=!0})),Se.a.$on("hideAction",(function(){e.showAction=!1,e.folderShowAction=!1})),Se.a.$on("fileLength",(function(t){e.fileLength=t})),Se.a.$on("shareFile",(function(t){e.fileIds.push(t),e.shareFile()})),this.$store.dispatch("fetchFolders",r.id),this.user=r},methods:{openNewFolderDialog:function(){this.showNewFolderDialog=!0},closeDialog:function(e){this[e]=!1},createFolder:function(e){var t=this,r=this.$route.params.name||"";this.buttonLoading=!0;var data,n=this.getUser(this);data=r?{dirname:e,user_id:n.id,level:this.getLevel+1,parent_dir:r}:{dirname:e,user_id:n.id,level:0},this.$axios.post("directory/create",data).then((function(){t.buttonLoading=!1,t.loading=!0,t.fetchUserFiles(n.id,0),t.$store.dispatch("fetchFolders",n.id)})).catch((function(e){t.buttonLoading=!1,t.error.status=!0,t.error.message=e.response.data.message})),this.showNewFolderDialog=!1},resetBreadCrumbs:function(){this.$store.dispatch("resetBreadCrumbs")},revertMultiple:function(){var e=this,t=this.getUser(this);this.loading=!0,this.$axios.put("files/sadmin/multiple/revert",{file_ids:this.fileIds,user_id:t.id}).then((function(){window.location.reload(),e.loading=!1,e.success.status=!0,e.success.message="Files has been successfully reverted"})).catch((function(t){e.loading=!1,e.error.status=!0,e.error.message=t.response.data.message}))},revertMultipleFolders:function(){var e=this,t=this.getUser(this);this.loading=!0,this.$axios.put("directory/sadmin/multiple/revert",{folder_ids:this.folderIds,user_id:t.id}).then((function(){window.location.reload(),e.loading=!1,e.success.status=!0,e.success.message="Folders has been successfully reverted"})).catch((function(t){e.loading=!1,e.error.status=!0,e.error.message=t.response.data.message}))},handleFileUpload:function(e){var t=this,r=this.$route.params.name||"";this.loading=!0;var n=this.getUser(this),o=e.target.files,c=new FormData;c.set("user_id",n.id),r&&c.set("directory_id",r),o.length>1?this.handleMultipleFileUpload(n.id,o):(c.set("file",o[0]),this.$axios.post("files/upload/single",c,{headers:{"Content-Type":"multipart/form-data"}}).then((function(){Se.a.$emit("addedNewFile"),t.fetchUserFiles(n.id,0)})).catch((function(e){t.loading=!1,t.error.status=!0,t.error.message=e.response.data.message})))},handleMultipleFileUpload:function(e,t){var r=this,n=this.$route.params.name||"",o=new FormData;o.set("user_id",e),Object(fe.a)(t).forEach((function(e){o.append("files",e)})),n&&o.set("directory_id",n),this.$axios.post("files/upload/bulk",o,{headers:{"Content-Type":"multipart/form-data"}}).then((function(){r.fetchUserFiles(e,0)})).catch((function(e){r.loading=!1,r.error.status=!0,r.error.message=e.response.data.message}))},moveFolder:function(e){var t=this;this.buttonLoading=!0;var data={file_id:this.fileIds,directory_id:e};this.$axios.put("files/move/bulk",data).then((function(){var e=t.getUser(t);t.loading=!0,t.buttonLoading=!1,t.fetchUserFiles(e.id,0)})).catch((function(e){t.buttonLoading=!1,t.error.status=!0,t.error.message=e.response.data.message})),this.showMoveFolderDialog=!1},deleteFiles:function(){var e=this;this.$axios.delete("/files/bulk",{data:{file_id:this.fileIds}}).then((function(){var t=e.getUser(e);e.loading=!0,e.fetchUserFiles(t.id,0)})).catch((function(t){e.error.status=!0,e.error.message=t.response.data.message}))},shareFile:function(){this.showShareDialog=!0},handleFileSharing:function(e){var t=this,data={user_id:this.getUser(this).id,user_ids:e,files:this.fileIds};this.buttonLoading=!0,this.$axios.post("files/share",data).then((function(e){var data=e.data;t.buttonLoading=!1,t.showShareDialog=!1,t.success.status=!0,t.success.message=data.message})).catch((function(){t.buttonLoading=!1,t.error.status=!0,t.error.message="Something went wrong"}))},handleImage:function(image){var e=image.target.files;this.updateUser.image=e[0];var t=document.querySelector("#user-image");if(e&&e[0]){var r=new FileReader;r.readAsDataURL(e[0]),r.onload=function(e){t.style.display="block",t.src=e.target.result}}},logout:function(){this.$cookies.remove("token"),this.$cookies.remove("user"),this.$router.push("/login")},showDialog:function(){this.updateUser.full_name=this.user.full_name,this.updateUser.username=this.user.username,this.showProfileDialog=!0},update:function(){var e=this;this.profileLoading=!0;var data={ogId:this.user.ogId,full_name:this.updateUser.full_name,username:this.updateUser.username};this.$axios.put("users",data).then((function(){if(e.updateUser.image){var form=new FormData;form.set("user_id",e.user.id),form.set("picture",e.updateUser.image),e.$axios.post("files/upload/picture",form,{headers:{"Content-Type":"multipart/form-data"}}).then((function(){e.clearForm(),e.profileLoading=!1,e.showProfileDialog=!1,e.success.status=!0,e.success.message="Account Updated",e.fetchUser()})).catch((function(){e.profileLoading=!1,e.alertError.status=!0,e.alertError.message="Something went wrong"}))}else e.clearForm(),e.profileLoading=!1,e.showProfileDialog=!1,e.success.status=!0,e.success.message="Account Updated",e.fetchUser()})).catch((function(){e.profileLoading=!1,e.alertError.status=!0,e.alertError.message="Something went wrong"}))},clearForm:function(){this.updateUser.full_name="",this.updateUser.username="",this.updateUser.image=""},fetchUser:function(){var e=this,t=this.user.ogId;this.$axios.get("users/".concat(t)).then((function(t){var data=t.data,r={id:data._id,ogId:data.ogId,full_name:data.full_name,username:data.username,email:data.email,department:data.department,role:data.role,picture:data.profile_pic};e.user=r;var n=e.$cookies.get("token");e.$store.dispatch("saveAuth",[r,n])}))}}},Ie=(r(368),r(428)),Ve=r(429),Ee=r(242),Pe=r(425),Te=r(190),Re=r(53),Be=r(34),Ne=Object(O.a)(Ae,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-app",{attrs:{id:"inspire"}},[r("new-dialog",{attrs:{"show-dialog":e.showNewFolderDialog,"is-loading":e.buttonLoading},on:{closeDialog:function(t){return e.closeDialog("showNewFolderDialog")},createFolder:e.createFolder}}),e._v(" "),r("move-dialog",{attrs:{"show-dialog":e.showMoveFolderDialog,"is-loading":e.buttonLoading},on:{closeDialog:function(t){return e.closeDialog("showMoveFolderDialog")},moveFolder:e.moveFolder}}),e._v(" "),r("share-dialog",{attrs:{"show-dialog":e.showShareDialog,"is-loading":e.buttonLoading},on:{closeDialog:function(t){return e.closeDialog("showShareDialog")},share:e.handleFileSharing}}),e._v(" "),r("v-dialog",{attrs:{"max-width":"360"},model:{value:e.showProfileDialog,callback:function(t){e.showProfileDialog=t},expression:"showProfileDialog"}},[r("v-card",[r("v-card-title",{staticClass:"headline"},[e._v("\n        Edit account\n      ")]),e._v(" "),r("v-card-text",[e.alertError.status?r("v-alert",{attrs:{type:"error",dismissible:""},model:{value:e.alertError.status,callback:function(t){e.$set(e.alertError,"status",t)},expression:"alertError.status"}},[e._v("\n          "+e._s(e.alertError.message)+"\n        ")]):e._e(),e._v(" "),r("v-form",{on:{submit:function(t){return t.preventDefault(),t.stopPropagation(),e.update(t)}}},[r("input",{attrs:{id:"user-photo",type:"file",name:"user-photo"},on:{change:e.handleImage}}),e._v(" "),r("label",{staticClass:"picture-upload",style:{backgroundImage:"url("+e.user.picture+")"},attrs:{for:"user-photo"}},[r("v-icon",{attrs:{size:"50",color:"white"}},[e._v("\n              mdi-camera-plus-outline\n            ")]),e._v(" "),r("img",{attrs:{id:"user-image",src:e.user.picture,alt:"User's image"}})],1),e._v(" "),r("v-text-field",{staticClass:"mx-3 my-4",attrs:{label:"Full Name",name:"name",type:"text",placeholder:"John Doe","prepend-icon":"mdi-account-outline"},model:{value:e.updateUser.full_name,callback:function(t){e.$set(e.updateUser,"full_name",t)},expression:"updateUser.full_name"}}),e._v(" "),r("v-text-field",{staticClass:"mx-3 my-4",attrs:{label:"Username",name:"username",type:"text",placeholder:"johndoe123","prepend-icon":"mdi-account-box-outline"},model:{value:e.updateUser.username,callback:function(t){e.$set(e.updateUser,"username",t)},expression:"updateUser.username"}}),e._v(" "),r("v-layout",[r("v-spacer"),e._v(" "),r("v-btn",{attrs:{type:"submit",color:"primary px-5 mx-4",loading:e.profileLoading},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.update(t)}}},[e._v("\n              Update\n            ")]),e._v(" "),r("v-btn",{attrs:{color:"darken-1",text:""},on:{click:function(t){e.showProfileDialog=!1,e.clearForm()}}},[e._v("\n              Cancel\n            ")])],1)],1)],1)],1)],1),e._v(" "),e.loading?r("Loader"):e._e(),e._v(" "),e.error.status?r("v-snackbar",{attrs:{timeout:5e3},model:{value:e.error.status,callback:function(t){e.$set(e.error,"status",t)},expression:"error.status"}},[e._v("\n    "+e._s(e.error.message)+"\n    "),r("v-btn",{attrs:{color:"pink",text:""},on:{click:function(t){e.error.status=!1}}},[e._v("\n      Close\n    ")])],1):e._e(),e._v(" "),e.success.status?r("v-snackbar",{attrs:{timeout:5e3},model:{value:e.success.status,callback:function(t){e.$set(e.success,"status",t)},expression:"success.status"}},[e._v("\n    "+e._s(e.success.message)+"\n    "),r("v-btn",{attrs:{color:"green",text:""},on:{click:function(t){e.success.status=!1}}},[e._v("\n      Close\n    ")])],1):e._e(),e._v(" "),r("v-navigation-drawer",{staticClass:"drawer",attrs:{clipped:"",app:""},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[r("v-list",{attrs:{dense:"",shaped:""}},[r("v-menu",{scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[r("v-btn",e._g({staticClass:"mx-3 my-5",attrs:{color:"primary",rounded:"",height:"50",width:"93%"}},n),[r("v-icon",{staticClass:"ml-n5 mx-5"},[e._v("mdi-upload")]),e._v("\n            New\n          ")],1)]}}])},[e._v(" "),r("v-list",[r("v-list-item",{on:{click:e.openNewFolderDialog}},[r("v-list-item-action",[r("v-icon",[e._v("mdi-folder-plus-outline")])],1),e._v(" "),r("v-list-item-content",[r("v-list-item-title",[e._v("\n                New Folder\n              ")])],1)],1),e._v(" "),r("v-divider"),e._v(" "),r("v-list-item",[r("input",{attrs:{id:"file-upload",type:"file",name:"file-upload",multiple:""},on:{change:e.handleFileUpload}}),e._v(" "),r("label",{staticClass:"row pl-3",attrs:{for:"file-upload"}},[r("v-list-item-action",[r("v-icon",[e._v("mdi-file-upload-outline")])],1),e._v(" "),r("v-list-item-content",[r("v-list-item-title",[e._v("\n                  Upload File\n                ")])],1)],1)])],1)],1),e._v(" "),e._l(e.items,(function(t){return[t.heading?r("v-row",{key:t.heading,attrs:{align:"center"}},[r("v-col",{attrs:{cols:"6"}},[t.heading?r("v-subheader",[e._v("\n              "+e._s(t.heading)+"\n            ")]):e._e()],1),e._v(" "),r("v-col",{staticClass:"text-center",attrs:{cols:"6"}},[r("a",{staticClass:"body-2 black--text",attrs:{href:"#!"}},[e._v("EDIT")])])],1):t.children?r("v-list-group",{key:t.text,attrs:{"prepend-icon":t.model?t.icon:t["icon-alt"],"append-icon":"",color:"primary"},scopedSlots:e._u([{key:"activator",fn:function(){return[r("v-list-item-content",[r("v-list-item-title",[e._v("\n                "+e._s(t.text)+"\n              ")])],1)]},proxy:!0}],null,!0),model:{value:t.model,callback:function(r){e.$set(t,"model",r)},expression:"item.model"}},[e._v(" "),e._l(t.children,(function(n,i){return r("v-list-item",{key:i,attrs:{link:"",to:t.to,color:"primary"}},[n.icon?r("v-list-item-action",[r("v-icon",[e._v(e._s(n.icon))])],1):e._e(),e._v(" "),r("v-list-item-content",[r("v-list-item-title",[e._v("\n                "+e._s(n.text)+"\n              ")])],1)],1)}))],2):r("v-list-item",{key:t.text,attrs:{link:"",to:t.to,color:"primary"}},[r("v-list-item-action",[r("v-icon",[e._v(e._s(t.icon))])],1),e._v(" "),r("v-list-item-content",[r("v-list-item-title",[e._v("\n              "+e._s(t.text)+"\n            ")])],1)],1)]}))],2)],1),e._v(" "),r("v-app-bar",{staticClass:"app-bar",attrs:{"clipped-left":e.$vuetify.breakpoint.lgAndUp,app:"",color:"white",elevation:"0"}},[r("v-app-bar-nav-icon",{on:{click:function(t){t.stopPropagation(),e.drawer=!e.drawer}}}),e._v(" "),r("img",{attrs:{src:"/images/logo.png",alt:"Outsource Logo",width:"100vh"}}),e._v(" "),r("v-spacer"),e._v(" "),r("v-divider",{attrs:{vertical:""}}),e._v(" "),r("v-menu",{attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[r("v-btn",e._g({attrs:{text:""}},n),[r("v-layout",{attrs:{"align-center":""}},[e.user.picture?r("v-avatar",{staticClass:"mx-2",attrs:{size:"35px",item:""}},[r("v-img",{attrs:{src:e.user.picture,alt:"User Image"}})],1):r("v-avatar",{staticClass:"mx-2",attrs:{size:"35px",color:"primary",item:""}},[r("span",{staticClass:"white--text font-weight-medium"},[e._v("\n                "+e._s(e.getUserInitials)+"\n              ")])]),e._v(" "),r("span",{staticClass:"hidden-sm-and-down"},[e._v(e._s(e.user.username))]),e._v(" "),r("v-icon",[e._v("mdi-menu-down")])],1)],1)]}}])},[e._v(" "),r("v-list",[r("v-list-item",{on:{click:e.showDialog}},[r("v-list-item-icon",[r("v-icon",[e._v("mdi-account-edit-outline")])],1),e._v(" "),r("v-list-item-content",[e._v("Edit Profile")])],1),e._v(" "),r("v-list-item",{on:{click:e.logout}},[r("v-list-item-icon",[r("v-icon",[e._v("mdi-logout-variant")])],1),e._v(" "),r("v-list-item-content",[e._v("Logout")])],1),e._v(" "),e.isAdmin||e.isSuperAdmin?r("v-list-item",{attrs:{to:"/admin"}},[r("v-list-item-icon",[r("v-icon",[e._v("mdi-account-supervisor-outline")])],1),e._v(" "),r("v-list-item-content",[e._v("Admin Dashboard")])],1):e._e()],1)],1)],1),e._v(" "),r("v-content",{staticClass:"body"},[r("v-container",{staticClass:"pb-0"},[r("v-toolbar",{staticClass:"toolbar px-2",attrs:{flat:"",color:"transparent"}},[r("v-toolbar-title",{staticClass:"px-0"},[r("v-layout",{attrs:{"justify-space-between":"","full-width":""}},[r("span",{staticClass:"row align-center mx-0 font-weight-black text--text"},[r("h2",[e._v("\n                Bin\n              ")])]),e._v(" "),e.showAction?r("v-layout",{staticClass:"full-width",attrs:{"justify-end":""}},[r("v-btn",{attrs:{color:"primary"},on:{click:e.revertMultiple}},[e._v("\n                Revert Files\n              ")])],1):e.folderShowAction?r("v-layout",{staticClass:"full-width",attrs:{"justify-end":""}},[r("v-btn",{attrs:{color:"primary"},on:{click:e.revertMultipleFolders}},[e._v("\n                Revert Folders\n              ")])],1):e._e()],1)],1),e._v(" "),r("v-layout",{attrs:{"justify-space-between":"","align-center":""}},[r("v-breadcrumbs",{staticClass:"px-0",attrs:{items:e.getBreadCrumbs},scopedSlots:e._u([{key:"divider",fn:function(){return[r("v-icon",[e._v("mdi-chevron-right")])]},proxy:!0},{key:"item",fn:function(t){var n=t.item;return[r("v-breadcrumbs-item",{staticClass:"breadcrumb",attrs:{to:n.href,nuxt:"",disabled:n.disabled}},[n.icon?r("v-icon",[e._v(e._s(n.text))]):r("span",[e._v(e._s(n.text.toUpperCase()))])],1)]}}])}),e._v(" "),r("div",{staticClass:"view"},[r("v-btn",{staticClass:"mx-2",attrs:{small:"",fab:"",elevation:"0",color:"rgba(68, 86, 108, 0.042)"}},[r("v-icon",{attrs:{size:"20",color:"rgba(68, 86, 108, 0.7)"}},[e._v("\n                mdi-view-grid\n              ")])],1),e._v(" "),r("v-btn",{attrs:{small:"",fab:"",elevation:"0",color:"rgba(68, 86, 108, 0.042)"}},[r("v-icon",{attrs:{size:"23",color:"rgba(68, 86, 108, 0.7)"}},[e._v("\n                mdi-view-list\n              ")])],1)],1)],1)],1)],1),e._v(" "),r("router-view")],1)],1)}),[],!1,null,"a4229286",null),Me=Ne.exports;L()(Ne,{VAlert:Ie.a,VApp:S.a,VAppBar:M.a,VAppBarNavIcon:z.a,VAvatar:G.a,VBreadcrumbs:Ve.a,VBreadcrumbsItem:Ee.a,VBtn:J.a,VCard:me.a,VCardText:ge.b,VCardTitle:ge.c,VCol:H.a,VContainer:K.a,VContent:X.a,VDialog:be.a,VDivider:Q.a,VForm:Pe.a,VIcon:W.a,VImg:Y.a,VLayout:Z.a,VList:ee.a,VListGroup:Te.a,VListItem:te.a,VListItemAction:re.a,VListItemContent:ae.a,VListItemIcon:oe.a,VListItemTitle:ae.c,VMenu:ie.a,VNavigationDrawer:se.a,VRow:ce.a,VSnackbar:le.a,VSpacer:ue.a,VSubheader:de.a,VTextField:_e.a,VToolbar:Re.a,VToolbarTitle:Be.a});function ze(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}var qe={components:{NewDialog:xe,Loader:R.a,MoveDialog:$e,ShareDialog:Le},props:{source:{type:String,default:""}},data:function(){return{dialog:!1,drawer:null,items:[{icon:"mdi-view-dashboard",text:"Dashboard",to:"/admin/dashboard"},{icon:"mdi-account",text:"User Accounts",to:"/admin/allusers"},{icon:"mdi-laptop",text:"Campaigns",to:"/campaign"},{icon:"mdi-trash-can-outline",text:"Bin",to:"/admin/bin-delete"}],loading:!1,buttonLoading:!1,showNewFolderDialog:!1,showMoveFolderDialog:!1,pressed:!1,showAction:!1,folderShowAction:!1,error:{status:!1,message:""},alertError:{status:!1,message:""},success:{status:!1,message:""},fileIds:[],folderIds:[],fileLength:0,showShareDialog:!1,user:"",showProfileDialog:!1,profileLoading:!1,updateUser:{full_name:"",username:""}}},computed:function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ze(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):ze(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},Object(T.b)(["getBreadCrumbs","isLoggedIn","getUser","getLevel","getFilesToDelete","getFoldersToDelete"]),{isAdmin:function(){return this.user.role&&"admin"===this.user.role.toLowerCase()},isSuperAdmin:function(){return this.user.role&&"superadmin"===this.user.role.toLowerCase()},disableBtn:function(){return!this.updateUser.full_name||!this.updateUser.username},getUserInitials:function(){var e=this.user.full_name;if(e){var t=e.split(" ").reduce((function(e,t){return"".concat(e).concat(t[0])}),"");return t.length>2?"".concat(t[0]).concat(t[1]):t}return null},isBin:function(){return this.$route.name==="admin/bin/".concat(this.$route.params.id)}}),mounted:function(){var e=this,t=this.isLoggedIn(this),r=this.getUser(this);t?this.$axios.defaults.headers.common.Authorization="Bearer ".concat(t):this.$router.push({path:"/login"}),this.loading=!0,this.showAction=!1,this.fetchUserFiles(r.id,0),Se.a.$on("showAction",(function(t){e.fileIds=t,e.showAction=!0})),Se.a.$on("folderShowAction",(function(t){e.folderIds=t,e.folderShowAction=!0})),Se.a.$on("hideAction",(function(){e.showAction=!1,e.folderShowAction=!1})),Se.a.$on("fileLength",(function(t){e.fileLength=t})),Se.a.$on("shareFile",(function(t){e.fileIds.push(t),e.shareFile()})),this.$store.dispatch("fetchFolders",r.id),this.user=r},methods:{openNewFolderDialog:function(){this.showNewFolderDialog=!0},closeDialog:function(e){this[e]=!1},createFolder:function(e){var t=this,r=this.$route.params.name||"";this.buttonLoading=!0;var data,n=this.getUser(this);data=r?{dirname:e,user_id:n.id,level:this.getLevel+1,parent_dir:r}:{dirname:e,user_id:n.id,level:0},this.$axios.post("directory/create",data).then((function(){t.buttonLoading=!1,t.loading=!0,t.fetchUserFiles(n.id,0),t.$store.dispatch("fetchFolders",n.id)})).catch((function(e){t.buttonLoading=!1,t.error.status=!0,t.error.message=e.response.data.message})),this.showNewFolderDialog=!1},resetBreadCrumbs:function(){this.$store.dispatch("resetBreadCrumbs")},revertMultiple:function(){var e=this,t=this.getUser(this);this.loading=!0,this.$axios.put("files/sadmin/multiple/revert",{file_ids:this.fileIds,user_id:t.id}).then((function(){window.location.reload(),e.loading=!1,e.success.status=!0,e.success.message="Files has been successfully reverted"})).catch((function(t){e.loading=!1,e.error.status=!0,e.error.message=t.response.data.message}))},revertMultipleFolders:function(){var e=this,t=this.getUser(this);this.loading=!0,this.$axios.put("directory/sadmin/multiple/revert",{folder_ids:this.folderIds,user_id:t.id}).then((function(){window.location.reload(),e.loading=!1,e.success.status=!0,e.success.message="Folders has been successfully reverted"})).catch((function(t){e.loading=!1,e.error.status=!0,e.error.message=t.response.data.message}))},handleFileUpload:function(e){var t=this,r=this.$route.params.name||"";this.loading=!0;var n=this.getUser(this),o=e.target.files,c=new FormData;c.set("user_id",n.id),r&&c.set("directory_id",r),o.length>1?this.handleMultipleFileUpload(n.id,o):(c.set("file",o[0]),this.$axios.post("files/upload/single",c,{headers:{"Content-Type":"multipart/form-data"}}).then((function(){Se.a.$emit("addedNewFile"),t.fetchUserFiles(n.id,0)})).catch((function(e){t.loading=!1,t.error.status=!0,t.error.message=e.response.data.message})))},handleMultipleFileUpload:function(e,t){var r=this,n=this.$route.params.name||"",o=new FormData;o.set("user_id",e),Object(fe.a)(t).forEach((function(e){o.append("files",e)})),n&&o.set("directory_id",n),this.$axios.post("files/upload/bulk",o,{headers:{"Content-Type":"multipart/form-data"}}).then((function(){r.fetchUserFiles(e,0)})).catch((function(e){r.loading=!1,r.error.status=!0,r.error.message=e.response.data.message}))},moveFolder:function(e){var t=this;this.buttonLoading=!0;var data={file_id:this.fileIds,directory_id:e};this.$axios.put("files/move/bulk",data).then((function(){var e=t.getUser(t);t.loading=!0,t.buttonLoading=!1,t.fetchUserFiles(e.id,0)})).catch((function(e){t.buttonLoading=!1,t.error.status=!0,t.error.message=e.response.data.message})),this.showMoveFolderDialog=!1},deleteFiles:function(){var e=this;this.$axios.delete("/files/superAdmin/bulk",{data:{files_id:this.fileIds}}).then((function(){e.$store.dispatch("fetchAdminStuffToBeDeleted"),e.loading=!1,e.success.status=!0,e.success.message="Files have been deleted",window.location.reload()})).catch((function(t){e.error.status=!0,e.error.message=t.response.data.message}))},deleteFolders:function(){var e=this;this.$axios.delete("/directory/bulk/dirs",{data:{dir_ids:this.folderIds}}).then((function(){e.$store.dispatch("fetchAdminStuffToBeDeleted"),e.loading=!1,e.success.status=!0,e.success.message="Folders have been deleted",window.location.reload()})).catch((function(t){e.error.status=!0,e.error.message=t.response.data.message}))},shareFile:function(){this.showShareDialog=!0},handleFileSharing:function(e){var t=this,data={user_id:this.getUser(this).id,user_ids:e,files:this.fileIds};this.buttonLoading=!0,this.$axios.post("files/share",data).then((function(e){var data=e.data;t.buttonLoading=!1,t.showShareDialog=!1,t.success.status=!0,t.success.message=data.message})).catch((function(){t.buttonLoading=!1,t.error.status=!0,t.error.message="Something went wrong"}))},handleImage:function(image){var e=image.target.files;this.updateUser.image=e[0];var t=document.querySelector("#user-image");if(e&&e[0]){var r=new FileReader;r.readAsDataURL(e[0]),r.onload=function(e){t.style.display="block",t.src=e.target.result}}},logout:function(){this.$cookies.remove("token"),this.$cookies.remove("user"),this.$router.push("/login")},showDialog:function(){this.updateUser.full_name=this.user.full_name,this.updateUser.username=this.user.username,this.showProfileDialog=!0},update:function(){var e=this;this.profileLoading=!0;var data={ogId:this.user.ogId,full_name:this.updateUser.full_name,username:this.updateUser.username};this.$axios.put("users",data).then((function(){if(e.updateUser.image){var form=new FormData;form.set("user_id",e.user.id),form.set("picture",e.updateUser.image),e.$axios.post("files/upload/picture",form,{headers:{"Content-Type":"multipart/form-data"}}).then((function(){e.clearForm(),e.profileLoading=!1,e.showProfileDialog=!1,e.success.status=!0,e.success.message="Account Updated",e.fetchUser()})).catch((function(){e.profileLoading=!1,e.alertError.status=!0,e.alertError.message="Something went wrong"}))}else e.clearForm(),e.profileLoading=!1,e.showProfileDialog=!1,e.success.status=!0,e.success.message="Account Updated",e.fetchUser()})).catch((function(){e.profileLoading=!1,e.alertError.status=!0,e.alertError.message="Something went wrong"}))},clearForm:function(){this.updateUser.full_name="",this.updateUser.username="",this.updateUser.image=""},fetchUser:function(){var e=this,t=this.user.ogId;this.$axios.get("users/".concat(t)).then((function(t){var data=t.data,r={id:data._id,ogId:data.ogId,full_name:data.full_name,username:data.username,email:data.email,department:data.department,role:data.role,picture:data.profile_pic};e.user=r;var n=e.$cookies.get("token");e.$store.dispatch("saveAuth",[r,n])}))}}},Ge=(r(375),Object(O.a)(qe,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-app",{attrs:{id:"inspire"}},[r("new-dialog",{attrs:{"show-dialog":e.showNewFolderDialog,"is-loading":e.buttonLoading},on:{closeDialog:function(t){return e.closeDialog("showNewFolderDialog")},createFolder:e.createFolder}}),e._v(" "),r("move-dialog",{attrs:{"show-dialog":e.showMoveFolderDialog,"is-loading":e.buttonLoading},on:{closeDialog:function(t){return e.closeDialog("showMoveFolderDialog")},moveFolder:e.moveFolder}}),e._v(" "),r("share-dialog",{attrs:{"show-dialog":e.showShareDialog,"is-loading":e.buttonLoading},on:{closeDialog:function(t){return e.closeDialog("showShareDialog")},share:e.handleFileSharing}}),e._v(" "),r("v-dialog",{attrs:{"max-width":"360"},model:{value:e.showProfileDialog,callback:function(t){e.showProfileDialog=t},expression:"showProfileDialog"}},[r("v-card",[r("v-card-title",{staticClass:"headline"},[e._v("\n        Edit account\n      ")]),e._v(" "),r("v-card-text",[e.alertError.status?r("v-alert",{attrs:{type:"error",dismissible:""},model:{value:e.alertError.status,callback:function(t){e.$set(e.alertError,"status",t)},expression:"alertError.status"}},[e._v("\n          "+e._s(e.alertError.message)+"\n        ")]):e._e(),e._v(" "),r("v-form",{on:{submit:function(t){return t.preventDefault(),t.stopPropagation(),e.update(t)}}},[r("input",{attrs:{id:"user-photo",type:"file",name:"user-photo"},on:{change:e.handleImage}}),e._v(" "),r("label",{staticClass:"picture-upload",style:{backgroundImage:"url("+e.user.picture+")"},attrs:{for:"user-photo"}},[r("v-icon",{attrs:{size:"50",color:"white"}},[e._v("\n              mdi-camera-plus-outline\n            ")]),e._v(" "),r("img",{attrs:{id:"user-image",src:e.user.picture,alt:"User's image"}})],1),e._v(" "),r("v-text-field",{staticClass:"mx-3 my-4",attrs:{label:"Full Name",name:"name",type:"text",placeholder:"John Doe","prepend-icon":"mdi-account-outline"},model:{value:e.updateUser.full_name,callback:function(t){e.$set(e.updateUser,"full_name",t)},expression:"updateUser.full_name"}}),e._v(" "),r("v-text-field",{staticClass:"mx-3 my-4",attrs:{label:"Username",name:"username",type:"text",placeholder:"johndoe123","prepend-icon":"mdi-account-box-outline"},model:{value:e.updateUser.username,callback:function(t){e.$set(e.updateUser,"username",t)},expression:"updateUser.username"}}),e._v(" "),r("v-layout",[r("v-spacer"),e._v(" "),r("v-btn",{attrs:{type:"submit",color:"primary px-5 mx-4",loading:e.profileLoading},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.update(t)}}},[e._v("\n              Update\n            ")]),e._v(" "),r("v-btn",{attrs:{color:"darken-1",text:""},on:{click:function(t){e.showProfileDialog=!1,e.clearForm()}}},[e._v("\n              Cancel\n            ")])],1)],1)],1)],1)],1),e._v(" "),e.loading?r("Loader"):e._e(),e._v(" "),e.error.status?r("v-snackbar",{attrs:{timeout:5e3},model:{value:e.error.status,callback:function(t){e.$set(e.error,"status",t)},expression:"error.status"}},[e._v("\n    "+e._s(e.error.message)+"\n    "),r("v-btn",{attrs:{color:"pink",text:""},on:{click:function(t){e.error.status=!1}}},[e._v("\n      Close\n    ")])],1):e._e(),e._v(" "),e.success.status?r("v-snackbar",{attrs:{timeout:5e3},model:{value:e.success.status,callback:function(t){e.$set(e.success,"status",t)},expression:"success.status"}},[e._v("\n    "+e._s(e.success.message)+"\n    "),r("v-btn",{attrs:{color:"green",text:""},on:{click:function(t){e.success.status=!1}}},[e._v("\n      Close\n    ")])],1):e._e(),e._v(" "),r("v-navigation-drawer",{staticClass:"drawer",attrs:{clipped:"",app:""},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[r("v-list",{attrs:{dense:"",shaped:""}},[r("v-menu",[r("v-list",[r("v-list-item",{on:{click:e.openNewFolderDialog}},[r("v-list-item-action",[r("v-icon",[e._v("mdi-folder-plus-outline")])],1),e._v(" "),r("v-list-item-content",[r("v-list-item-title",[e._v("\n                New Folder\n              ")])],1)],1),e._v(" "),r("v-divider"),e._v(" "),r("v-list-item",[r("input",{attrs:{id:"file-upload",type:"file",name:"file-upload",multiple:""},on:{change:e.handleFileUpload}}),e._v(" "),r("label",{staticClass:"row pl-3",attrs:{for:"file-upload"}},[r("v-list-item-action",[r("v-icon",[e._v("mdi-file-upload-outline")])],1),e._v(" "),r("v-list-item-content",[r("v-list-item-title",[e._v("\n                  Upload File\n                ")])],1)],1)])],1)],1),e._v(" "),e._l(e.items,(function(t){return[t.heading?r("v-row",{key:t.heading,attrs:{align:"center"}},[r("v-col",{attrs:{cols:"6"}},[t.heading?r("v-subheader",[e._v("\n              "+e._s(t.heading)+"\n            ")]):e._e()],1),e._v(" "),r("v-col",{staticClass:"text-center",attrs:{cols:"6"}},[r("a",{staticClass:"body-2 black--text",attrs:{href:"#!"}},[e._v("EDIT")])])],1):t.children?r("v-list-group",{key:t.text,attrs:{"prepend-icon":t.model?t.icon:t["icon-alt"],"append-icon":"",color:"primary"},scopedSlots:e._u([{key:"activator",fn:function(){return[r("v-list-item-content",[r("v-list-item-title",[e._v("\n                "+e._s(t.text)+"\n              ")])],1)]},proxy:!0}],null,!0),model:{value:t.model,callback:function(r){e.$set(t,"model",r)},expression:"item.model"}},[e._v(" "),e._l(t.children,(function(n,i){return r("v-list-item",{key:i,attrs:{link:"",to:t.to,color:"primary"}},[n.icon?r("v-list-item-action",[r("v-icon",[e._v(e._s(n.icon))])],1):e._e(),e._v(" "),r("v-list-item-content",[r("v-list-item-title",[e._v("\n                "+e._s(n.text)+"\n              ")])],1)],1)}))],2):r("v-list-item",{key:t.text,attrs:{link:"",to:t.to,color:"primary"}},[r("v-list-item-action",[r("v-icon",[e._v(e._s(t.icon))])],1),e._v(" "),r("v-list-item-content",[r("v-list-item-title",[e._v("\n              "+e._s(t.text)+"\n            ")])],1)],1)]}))],2)],1),e._v(" "),r("v-app-bar",{staticClass:"app-bar",attrs:{"clipped-left":e.$vuetify.breakpoint.lgAndUp,app:"",color:"white",elevation:"0"}},[r("v-app-bar-nav-icon",{on:{click:function(t){t.stopPropagation(),e.drawer=!e.drawer}}}),e._v(" "),r("img",{attrs:{src:"/images/logo.png",alt:"Outsource Logo",width:"100vh"}}),e._v(" "),r("v-spacer"),e._v(" "),r("v-divider",{attrs:{vertical:""}}),e._v(" "),r("v-menu",{attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[r("v-btn",e._g({attrs:{text:""}},n),[r("v-layout",{attrs:{"align-center":""}},[e.user.picture?r("v-avatar",{staticClass:"mx-2",attrs:{size:"35px",item:""}},[r("v-img",{attrs:{src:e.user.picture,alt:"User Image"}})],1):r("v-avatar",{staticClass:"mx-2",attrs:{size:"35px",color:"primary",item:""}},[r("span",{staticClass:"white--text font-weight-medium"},[e._v("\n                "+e._s(e.getUserInitials)+"\n              ")])]),e._v(" "),r("span",{staticClass:"hidden-sm-and-down"},[e._v(e._s(e.user.username))]),e._v(" "),r("v-icon",[e._v("mdi-menu-down")])],1)],1)]}}])},[e._v(" "),r("v-list",[r("v-list-item",{attrs:{to:"/"}},[r("v-list-item-icon",[r("v-icon",[e._v("mdi-home")])],1),e._v(" "),r("v-list-item-content",[e._v("Home")])],1),e._v(" "),r("v-list-item",{on:{click:e.logout}},[r("v-list-item-icon",[r("v-icon",[e._v("mdi-logout-variant")])],1),e._v(" "),r("v-list-item-content",[e._v("Logout")])],1)],1)],1)],1),e._v(" "),r("v-content",{staticClass:"body"},[r("v-container",{staticClass:"pb-0"},[r("v-toolbar",{staticClass:"toolbar px-2",attrs:{flat:"",color:"transparent"}},[r("v-toolbar-title",{staticClass:"px-0"},[r("v-layout",{attrs:{"justify-space-between":"","full-width":""}},[r("span",{staticClass:"row align-center mx-0 font-weight-black text--text"},[r("h2",[e._v("\n                Bin\n              ")])]),e._v(" "),e.showAction?r("v-layout",{staticClass:"full-width",attrs:{"justify-end":""}},[r("v-btn",{attrs:{color:"primary"},on:{click:e.deleteFiles}},[e._v("\n                Delete Files\n              ")])],1):e.folderShowAction?r("v-layout",{staticClass:"full-width",attrs:{"justify-end":""}},[r("v-btn",{attrs:{color:"primary"},on:{click:e.deleteFolders}},[e._v("\n                Delete Folders\n              ")])],1):e._e()],1)],1),e._v(" "),r("v-layout",{attrs:{"justify-space-between":"","align-center":""}},[r("v-breadcrumbs",{staticClass:"px-0",attrs:{items:e.getBreadCrumbs},scopedSlots:e._u([{key:"divider",fn:function(){return[r("v-icon",[e._v("mdi-chevron-right")])]},proxy:!0},{key:"item",fn:function(t){var n=t.item;return[r("v-breadcrumbs-item",{staticClass:"breadcrumb",attrs:{to:n.href,nuxt:"",disabled:n.disabled}},[n.icon?r("v-icon",[e._v(e._s(n.text))]):r("span",[e._v(e._s(n.text.toUpperCase()))])],1)]}}])}),e._v(" "),r("div",{staticClass:"view"},[r("v-btn",{staticClass:"mx-2",attrs:{small:"",fab:"",elevation:"0",color:"rgba(68, 86, 108, 0.042)"}},[r("v-icon",{attrs:{size:"20",color:"rgba(68, 86, 108, 0.7)"}},[e._v("\n                mdi-view-grid\n              ")])],1),e._v(" "),r("v-btn",{attrs:{small:"",fab:"",elevation:"0",color:"rgba(68, 86, 108, 0.042)"}},[r("v-icon",{attrs:{size:"23",color:"rgba(68, 86, 108, 0.7)"}},[e._v("\n                mdi-view-list\n              ")])],1)],1)],1)],1)],1),e._v(" "),r("router-view")],1)],1)}),[],!1,null,"4954c652",null)),Je=Ge.exports;L()(Ge,{VAlert:Ie.a,VApp:S.a,VAppBar:M.a,VAppBarNavIcon:z.a,VAvatar:G.a,VBreadcrumbs:Ve.a,VBreadcrumbsItem:Ee.a,VBtn:J.a,VCard:me.a,VCardText:ge.b,VCardTitle:ge.c,VCol:H.a,VContainer:K.a,VContent:X.a,VDialog:be.a,VDivider:Q.a,VForm:Pe.a,VIcon:W.a,VImg:Y.a,VLayout:Z.a,VList:ee.a,VListGroup:Te.a,VListItem:te.a,VListItemAction:re.a,VListItemContent:ae.a,VListItemIcon:oe.a,VListItemTitle:ae.c,VMenu:ie.a,VNavigationDrawer:se.a,VRow:ce.a,VSnackbar:le.a,VSpacer:ue.a,VSubheader:de.a,VTextField:_e.a,VToolbar:Re.a,VToolbarTitle:Be.a});r(27),r(67);function He(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}var Ke={props:{showDialog:{type:Boolean,default:!1},isLoading:{type:Boolean,default:!1}},data:function(){return{folder:""}},computed:function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?He(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):He(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},Object(T.b)(["getFolders"])),methods:{moveFolder:function(){this.$emit("moveFolder",this.folder),this.folder=""}}},Xe=Object(O.a)(Ke,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-dialog",{attrs:{value:e.showDialog,"max-width":"360"},on:{"click:outside":function(t){return e.$emit("closeDialog")}}},[r("v-card",[r("v-card-title",{staticClass:"headline"},[e._v("\n      Select Destination Folder\n    ")]),e._v(" "),r("v-card-text",[r("v-autocomplete",{attrs:{items:e.getFolders,"item-text":"dirname","item-value":"_id","prepend-icon":"mdi-folder"},model:{value:e.folder,callback:function(t){e.folder=t},expression:"folder"}})],1),e._v(" "),r("v-card-actions",[r("v-spacer"),e._v(" "),r("v-btn",{attrs:{color:"darken-1",text:""},on:{click:function(t){return e.$emit("closeDialog")}}},[e._v("\n        Cancel\n      ")]),e._v(" "),r("v-btn",{attrs:{color:"primary px-5",loading:e.isLoading,disabled:!e.folder},on:{click:e.moveFolder}},[e._v("\n        Move\n      ")])],1)],1)],1)}),[],!1,null,null,null),Qe=Xe.exports;function We(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}L()(Xe,{VAutocomplete:De.a,VBtn:J.a,VCard:me.a,VCardActions:ge.a,VCardText:ge.b,VCardTitle:ge.c,VDialog:be.a,VSpacer:ue.a});var Ye={components:{NewDialog:xe,Loader:R.a,MoveDialog:Qe,ShareDialog:Le},props:{source:{type:String,default:""}},data:function(e){return{userInView:{},dialog:!1,drawer:null,items:[{icon:"mdi-cloud-outline",text:"Drive",to:"/admin/user/".concat(e.$route.params.id)},{icon:"mdi-clock-outline",text:"Recent",to:"/admin/recent/".concat(e.$route.params.id)},{icon:"mdi-trash-can-outline",text:"Bin",to:"/admin/bin/".concat(e.$route.params.id)}],loading:!1,buttonLoading:!1,showNewFolderDialog:!1,showMoveFolderDialog:!1,pressed:!1,showAction:!1,folderShowAction:!1,error:{status:!1,message:""},alertError:{status:!1,message:""},success:{status:!1,message:""},fileIds:[],folderIds:[],fileLength:0,showShareDialog:!1,showShareFolderDialog:!1,user:"",showProfileDialog:!1,profileLoading:!1,updateUser:{full_name:"",username:""},files:[],globalSearch:"",debounce:"",searching:!1}},computed:function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?We(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):We(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},Object(T.b)(["getBreadCrumbs","isLoggedIn","getUser","getLevel","getUserDetails","getFiles","getUserFolders","getUserDirectories"]),{allUsers:function(){return this.$store.state.allUsers.users},userId:function(){return this.getUserDetails.user._id},isAdmin:function(){return this.user.role&&"admin"===this.user.role.toLowerCase()},ogId:function(){var e=this;return this.allUsers.find((function(t){return t.ogId===e.id}))},isSuperAdmin:function(){return this.user.role&&"superadmin"===this.user.role.toLowerCase()},disableBtn:function(){return!this.updateUser.full_name||!this.updateUser.username},id:function(){return this.$route.params.id},showSearch:function(){return!["/bin","/admin/recent"].includes(this.$route.path)},getUserInitials:function(){var e=this.user.full_name;if(e){var t=e.split(" ").reduce((function(e,t){return"".concat(e).concat(t[0])}),"");return t.length>2?"".concat(t[0]).concat(t[1]):t}return null},isBin:function(){return"admin/user/bin"===this.$route.name}}),mounted:function(){var e=this,t=this.isLoggedIn(this),r=this.getUser(this);t?this.$axios.defaults.headers.common.Authorization="Bearer ".concat(t):this.$router.push({path:"/login"}),this.loading=!0,this.$store.dispatch("fetchUser",this.$route.params.id).then((function(){var t=e.$store.getters.getUserDetails;e.fetchUserFiles(t.user._id,0)})),this.showAction=!1,Se.a.$on("showAction",(function(t){e.fileIds=t,e.showAction=!0})),Se.a.$on("folderShowAction",(function(t){e.folderIds=t,e.folderShowAction=!0})),Se.a.$on("hideAction",(function(){e.showAction=!1,e.folderShowAction=!1})),Se.a.$on("fileLength",(function(t){e.fileLength=t})),Se.a.$on("shareFile",(function(t){e.fileIds.push(t),e.shareFile()})),this.user=r},methods:{debounceSearch:function(){clearTimeout(this.debounce),this.debounce=setTimeout(this.searchDrive,1500)},searchDrive:function(){var e=this;if(this.globalSearch.length>0){this.searching=!0;var data={user_id:localStorage.getItem("currentUserId"),string:this.globalSearch};this.$axios.post("users/search/directories",data).then((function(t){var data=t.data;e.searching=!1,(data.files.length>0||data.directories.length>0)&&Se.a.$emit("searchFound",data)})).catch((function(){e.searching=!1,e.error.status=!0,e.error.message="Something went wrong, Please try again"}))}else Se.a.$emit("clearSearch")},openNewFolderDialog:function(){this.showNewFolderDialog=!0},closeDialog:function(e){this[e]=!1},handleCancel:function(){this.showProfileDialog=!1,this.clearForm()},createFolder:function(e){var data,t=this,r=this.$store.getters.getUserDetails,n=this.$route.params.name||"";this.buttonLoading=!0,data=n?{dirname:e,user_id:r.user._id,level:this.getLevel+1,parent_dir:n}:{dirname:e,user_id:r.user._id,level:0},this.$axios.post("admin/directory/create",data).then((function(){t.buttonLoading=!1,t.loading=!1,t.fetchUserFiles(r.user._id,0),t.$store.dispatch("fetchUserFolders",r.user._id),t.success.status=!0,t.success.message="Folder has been successfully created"})).catch((function(e){t.buttonLoading=!1,t.error.status=!0,t.error.message=e.response.data.message})),this.showNewFolderDialog=!1},resetBreadCrumbs:function(){this.$store.dispatch("resetBreadCrumbs")},handleFileUpload:function(e){var t=this,r=this.$route.params.name||"";this.loading=!0;var n=this.$store.getters.getUserDetails,o=e.target.files,c=new FormData;c.set("user_id",n.user._id),r&&c.set("directory_id",r),o.length>1?this.handleMultipleFileUpload(n.user._id,o):(c.set("file",o[0]),this.$axios.post("files/upload/single",c,{headers:{"Content-Type":"multipart/form-data"}}).then((function(){Se.a.$emit("addedNewFile"),t.loading=!1,t.fetchUserFiles(n.user._id,0)})).catch((function(e){t.loading=!1,t.error.status=!0,t.error.message=e.response.data.message})))},handleMultipleFileUpload:function(e,t){var r=this,n=this.$route.params.name||"",o=new FormData;o.set("user_id",e),Object(fe.a)(t).forEach((function(e){o.append("files",e)})),n&&o.set("directory_id",n),this.$axios.post("files/upload/bulk",o,{headers:{"Content-Type":"multipart/form-data"}}).then((function(){r.fetchUserFiles(e,0)})).catch((function(e){r.loading=!1,r.error.status=!0,r.error.message=e.response.data.message}))},moveFolder:function(e){var t=this;this.buttonLoading=!0;var data={file_id:this.fileIds,directory_id:e};this.$axios.put("admin/file/move/bulk",data).then((function(){var e=t.$store.getters.getUserDetails;t.loading=!0,t.buttonLoading=!1,t.fetchUserFiles(e.user._id,0),t.fetcUserFolders(e.user._id,0)})).catch((function(e){t.buttonLoading=!1,t.error.status=!0,t.error.message=e.response.data.message})),this.showMoveFolderDialog=!1},deleteFiles:function(){var e=this,t=this.$store.getters.getUserDetails;this.$axios.delete("files/superAdmin/bulk",{data:{files_id:this.fileIds}}).then((function(){e.loading=!0,e.success.status=!0,e.success.message="Files have been successfully deleted",e.fetchUserFiles(t.user._id,0)})).catch((function(t){e.error.status=!0,e.error.message=t.response.data.message}))},shareFile:function(){this.showShareDialog=!0},shareFolders:function(){this.showShareFolderDialog=!0},handleFileSharing:function(e){var t=this,data={user_ids:e,files:this.fileIds};this.buttonLoading=!0,this.$axios.post("admin/files/share",data).then((function(e){var data=e.data;t.buttonLoading=!1,t.showShareDialog=!1,t.success.status=!0,t.success.message=data.message})).catch((function(){t.buttonLoading=!1,t.error.status=!0,t.error.message="Something went wrong"}))},handleFolderSharing:function(e){var t=this,data={user_ids:e,directories:this.folderIds};this.buttonLoading=!0,this.$axios.post("admin/directory/share",data).then((function(e){var data=e.data;t.buttonLoading=!1,t.showShareDialog=!1,t.success.status=!0,t.success.message=data.message})).catch((function(){t.buttonLoading=!1,t.error.status=!0,t.error.message="Something went wrong"}))},handleImage:function(image){var e=image.target.files;this.updateUser.image=e[0];var t=document.querySelector("#user-image");if(e&&e[0]){var r=new FileReader;r.readAsDataURL(e[0]),r.onload=function(e){t.style.display="block",t.src=e.target.result}}},moveMultipleFoldersToBin:function(){var e=this,t=this.$store.getters.getUserDetails;this.loading=!0,this.$axios.put("directory/sadmin/multiple/bin",{folder_ids:this.folderIds,user_id:t.id}).then((function(){e.fetchUser(t.user.ogId),e.loading=!1,e.success.status=!0,e.success.message="Folders has been successfully moved to Bin",window.location.reload()})).catch((function(t){e.loading=!1,e.error.status=!0,e.error.message=t.response.data.message}))},logout:function(){this.$cookies.remove("token"),this.$cookies.remove("user"),this.$router.push("/login")},showDialog:function(){this.updateUser.full_name=this.user.full_name,this.updateUser.username=this.user.username,this.showProfileDialog=!0},update:function(){var e=this;this.profileLoading=!0;var data={ogId:this.user.ogId,full_name:this.updateUser.full_name,username:this.updateUser.username};this.$axios.put("users",data).then((function(){if(e.updateUser.image){var form=new FormData;form.set("user_id",e.user.id),form.set("picture",e.updateUser.image),e.$axios.post("files/upload/picture",form,{headers:{"Content-Type":"multipart/form-data"}}).then((function(){e.clearForm(),e.profileLoading=!1,e.showProfileDialog=!1,e.success.status=!0,e.success.message="Account Updated",e.fetchUserDetails()})).catch((function(){e.profileLoading=!1,e.alertError.status=!0,e.alertError.message="Something went wrong"}))}else e.clearForm(),e.profileLoading=!1,e.showProfileDialog=!1,e.success.status=!0,e.success.message="Account Updated",e.fetchUserDetails()})).catch((function(){e.profileLoading=!1,e.alertError.status=!0,e.alertError.message="Something went wrong"}))},clearForm:function(){this.updateUser.full_name="",this.updateUser.username="",this.updateUser.image=""},fetchUserDetails:function(){var e=this,t=this.user.ogId;this.$axios.get("admin/user/".concat(t)).then((function(t){var data=t.data,r={id:data._id,ogId:data.ogId,full_name:data.full_name,username:data.username,email:data.email,department:data.department,role:data.role,picture:data.profile_pic};e.user=r;var n=e.$cookies.get("token");e.$store.dispatch("saveAuth",[r,n])}))},moveBulkToBin:function(){var e=this,t=this.$store.getters.getUserDetails;this.loading=!0,this.$axios.post("/super_admin/bulk_files/bin",{files:this.fileIds}).then((function(){e.fetchUserFiles(t.user._id,0),e.loading=!1,e.success.status=!0,e.success.message="Files has been moved to Bin",window.location.reload()})).catch((function(t){e.loading=!1,e.error.status=!0,e.error.message=t.response.data.message}))}}},Ze=(r(377),Object(O.a)(Ye,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-app",{attrs:{id:"inspire"}},[r("new-dialog",{attrs:{"show-dialog":e.showNewFolderDialog,"is-loading":e.buttonLoading},on:{closeDialog:function(t){return e.closeDialog("showNewFolderDialog")},createFolder:e.createFolder}}),e._v(" "),r("move-dialog",{attrs:{"show-dialog":e.showMoveFolderDialog,"is-loading":e.buttonLoading},on:{closeDialog:function(t){return e.closeDialog("showMoveFolderDialog")},moveFolder:e.moveFolder}}),e._v(" "),r("share-dialog",{attrs:{"show-dialog":e.showShareDialog,"is-loading":e.buttonLoading},on:{closeDialog:function(t){return e.closeDialog("showShareDialog")},share:e.handleFileSharing}}),e._v(" "),r("share-dialog",{attrs:{"show-dialog":e.showShareFolderDialog,"is-loading":e.buttonLoading},on:{closeDialog:function(t){return e.closeDialog("showShareFolderDialog")},share:e.handleFolderSharing}}),e._v(" "),r("v-dialog",{attrs:{"max-width":"360"},model:{value:e.showProfileDialog,callback:function(t){e.showProfileDialog=t},expression:"showProfileDialog"}},[r("v-card",[r("v-card-title",{staticClass:"headline"},[e._v("\n        Edit account\n      ")]),e._v(" "),r("v-card-text",[e.alertError.status?r("v-alert",{attrs:{type:"error",dismissible:""},model:{value:e.alertError.status,callback:function(t){e.$set(e.alertError,"status",t)},expression:"alertError.status"}},[e._v("\n          "+e._s(e.alertError.message)+"\n        ")]):e._e(),e._v(" "),r("v-form",{on:{submit:function(t){return t.preventDefault(),t.stopPropagation(),e.update(t)}}},[r("input",{attrs:{id:"user-photo",type:"file",name:"user-photo"},on:{change:e.handleImage}}),e._v(" "),r("label",{staticClass:"picture-upload",style:{backgroundImage:"url("+e.user.picture+")"},attrs:{for:"user-photo"}},[r("v-icon",{attrs:{size:"50",color:"white"}},[e._v("\n              mdi-camera-plus-outline\n            ")]),e._v(" "),r("img",{attrs:{id:"user-image",src:e.user.picture,alt:"User's image"}})],1),e._v(" "),r("v-text-field",{staticClass:"mx-3 my-4",attrs:{label:"Full Name",name:"name",type:"text",placeholder:"John Doe","prepend-icon":"mdi-account-outline"},model:{value:e.updateUser.full_name,callback:function(t){e.$set(e.updateUser,"full_name",t)},expression:"updateUser.full_name"}}),e._v(" "),r("v-text-field",{staticClass:"mx-3 my-4",attrs:{label:"Username",name:"username",type:"text",placeholder:"johndoe123","prepend-icon":"mdi-account-box-outline"},model:{value:e.updateUser.username,callback:function(t){e.$set(e.updateUser,"username",t)},expression:"updateUser.username"}}),e._v(" "),r("v-layout",[r("v-spacer"),e._v(" "),r("v-btn",{attrs:{type:"submit",color:"primary px-5 mx-4",loading:e.profileLoading},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.update(t)}}},[e._v("\n              Update\n            ")]),e._v(" "),r("v-btn",{attrs:{color:"darken-1",text:""},on:{click:e.handleCancel}},[e._v("\n              Cancel\n            ")])],1)],1)],1)],1)],1),e._v(" "),e.loading?r("Loader"):e._e(),e._v(" "),e.error.status?r("v-snackbar",{attrs:{timeout:5e3},model:{value:e.error.status,callback:function(t){e.$set(e.error,"status",t)},expression:"error.status"}},[e._v("\n    "+e._s(e.error.message)+"\n    "),r("v-btn",{attrs:{color:"pink",text:""},on:{click:function(t){e.error.status=!1}}},[e._v("\n      Close\n    ")])],1):e._e(),e._v(" "),e.success.status?r("v-snackbar",{attrs:{timeout:5e3},model:{value:e.success.status,callback:function(t){e.$set(e.success,"status",t)},expression:"success.status"}},[e._v("\n    "+e._s(e.success.message)+"\n    "),r("v-btn",{attrs:{color:"green",text:""},on:{click:function(t){e.success.status=!1}}},[e._v("\n      Close\n    ")])],1):e._e(),e._v(" "),r("v-navigation-drawer",{staticClass:"drawer",attrs:{clipped:"",app:""},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[r("v-list",{attrs:{dense:"",shaped:""}},[r("v-menu",{scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[r("v-btn",e._g({staticClass:"mx-3 my-5",attrs:{color:"primary",rounded:"",height:"50",width:"93%"}},n),[r("v-icon",{staticClass:"ml-n5 mx-5"},[e._v("mdi-upload")]),e._v("\n            New\n          ")],1)]}}])},[e._v(" "),r("v-list",[r("v-list-item",{on:{click:e.openNewFolderDialog}},[r("v-list-item-action",[r("v-icon",[e._v("mdi-folder-plus-outline")])],1),e._v(" "),r("v-list-item-content",[r("v-list-item-title",[e._v("\n                New Folder\n              ")])],1)],1),e._v(" "),r("v-divider"),e._v(" "),r("v-list-item",[r("input",{attrs:{id:"file-upload",type:"file",name:"file-upload",multiple:""},on:{change:e.handleFileUpload}}),e._v(" "),r("label",{staticClass:"row pl-3",attrs:{for:"file-upload"}},[r("v-list-item-action",[r("v-icon",[e._v("mdi-file-upload-outline")])],1),e._v(" "),r("v-list-item-content",[r("v-list-item-title",[e._v("\n                  Upload File\n                ")])],1)],1)])],1)],1),e._v(" "),e._l(e.items,(function(t){return[t.heading?r("v-row",{key:t.heading,attrs:{align:"center"}},[r("v-col",{attrs:{cols:"6"}},[t.heading?r("v-subheader",[e._v("\n              "+e._s(t.heading)+"\n            ")]):e._e()],1),e._v(" "),r("v-col",{staticClass:"text-center",attrs:{cols:"6"}},[r("a",{staticClass:"body-2 black--text",attrs:{href:"#!"}},[e._v("EDIT")])])],1):t.children?r("v-list-group",{key:t.text,attrs:{"prepend-icon":t.model?t.icon:t["icon-alt"],"append-icon":"",color:"primary"},scopedSlots:e._u([{key:"activator",fn:function(){return[r("v-list-item-content",[r("v-list-item-title",[e._v("\n                "+e._s(t.text)+"\n              ")])],1)]},proxy:!0}],null,!0),model:{value:t.model,callback:function(r){e.$set(t,"model",r)},expression:"item.model"}},[e._v(" "),e._l(t.children,(function(n,i){return r("v-list-item",{key:i,attrs:{link:"",to:t.to,color:"primary"}},[n.icon?r("v-list-item-action",[r("v-icon",[e._v(e._s(n.icon))])],1):e._e(),e._v(" "),r("v-list-item-content",[r("v-list-item-title",[e._v("\n                "+e._s(n.text)+"\n              ")])],1)],1)}))],2):r("v-list-item",{key:t.text,attrs:{link:"",to:t.to,color:"primary"}},[r("v-list-item-action",[r("v-icon",[e._v(e._s(t.icon))])],1),e._v(" "),r("v-list-item-content",[r("v-list-item-title",[e._v("\n              "+e._s(t.text)+"\n            ")])],1)],1)]}))],2)],1),e._v(" "),r("v-app-bar",{staticClass:"app-bar",attrs:{"clipped-left":e.$vuetify.breakpoint.lgAndUp,app:"",color:"white",elevation:"0"}},[r("v-app-bar-nav-icon",{on:{click:function(t){t.stopPropagation(),e.drawer=!e.drawer}}}),e._v(" "),r("img",{attrs:{src:"/images/logo.png",alt:"Outsource Logo",width:"100vh"}}),e._v(" "),e.showSearch?r("v-text-field",{staticClass:"hidden-sm-and-down search-bar",attrs:{loading:e.searching,solo:e.pressed,"solo-inverted":!e.pressed,flat:!e.pressed,"hide-details":"","background-color":"#f8fafb","prepend-inner-icon":"mdi-magnify",label:"Search in drive",color:"#555"},on:{focus:function(t){e.pressed=!0},blur:function(t){e.pressed=!1},input:e.debounceSearch},model:{value:e.globalSearch,callback:function(t){e.globalSearch=t},expression:"globalSearch"}}):e._e(),e._v(" "),r("v-spacer"),e._v(" "),r("v-divider",{attrs:{vertical:""}}),e._v(" "),r("v-menu",{attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[r("v-btn",e._g({attrs:{text:""}},n),[r("v-layout",{attrs:{"align-center":""}},[e.user.picture?r("v-avatar",{staticClass:"mx-2",attrs:{size:"35px",item:""}},[r("v-img",{attrs:{src:e.user.picture,alt:"User Image"}})],1):r("v-avatar",{staticClass:"mx-2",attrs:{size:"35px",color:"primary",item:""}},[r("span",{staticClass:"white--text font-weight-medium"},[e._v("\n                "+e._s(e.getUserInitials)+"\n              ")])]),e._v(" "),r("span",{staticClass:"hidden-sm-and-down"},[e._v(e._s(e.user.username))]),e._v(" "),r("v-icon",[e._v("mdi-menu-down")])],1)],1)]}}])},[e._v(" "),r("v-list",[r("v-list-item",{on:{click:e.showDialog}},[r("v-list-item-icon",[r("v-icon",[e._v("mdi-account-edit-outline")])],1),e._v(" "),r("v-list-item-content",[e._v("Edit Profile")])],1),e._v(" "),r("v-list-item",{on:{click:e.logout}},[r("v-list-item-icon",[r("v-icon",[e._v("mdi-logout-variant")])],1),e._v(" "),r("v-list-item-content",[e._v("Logout")])],1),e._v(" "),e.isAdmin||e.isSuperAdmin?r("v-list-item",{attrs:{to:"/admin"}},[r("v-list-item-icon",[r("v-icon",[e._v("mdi-account-supervisor-outline")])],1),e._v(" "),r("v-list-item-content",[e._v("Admin Dashboard")])],1):e._e(),e._v(" "),e.isAdmin||e.isSuperAdmin?r("v-list-item",{attrs:{to:"/"}},[r("v-list-item-icon",[r("v-icon",[e._v("mdi-account-supervisor-outline")])],1),e._v(" "),r("v-list-item-content",[e._v("Home")])],1):e._e()],1)],1)],1),e._v(" "),r("v-content",{staticClass:"body"},[r("v-container",{staticClass:"pb-0"},[r("v-toolbar",{staticClass:"toolbar px-2",attrs:{flat:"",color:"transparent"}},[r("v-toolbar-title",{staticClass:"px-0"},[r("v-layout",{attrs:{"justify-space-between":"","full-width":""}},[r("span",{staticClass:"row align-center mx-0 font-weight-black text--text"},[r("h2",[e._v("\n                Files/Folders\n              ")]),e._v(" "),r("p",{staticClass:"count"},[e._v("("+e._s(e.fileLength)+")")])]),e._v(" "),e.showAction?r("v-layout",{staticClass:"full-width",attrs:{"justify-end":""}},[r("v-btn",{attrs:{color:"primary"},on:{click:function(t){e.showMoveFolderDialog=!0}}},[e._v("\n                Move\n              ")]),e._v(" "),r("v-btn",{attrs:{text:""},on:{click:e.deleteFiles}},[e._v("Delete")]),e._v(" "),r("v-btn",{attrs:{text:""},on:{click:e.shareFile}},[e._v("Share")]),e._v(" "),e.isBin?r("v-btn",{attrs:{text:""},on:{click:e.revertFilesFromBin}},[e._v("\n                Revert Files\n              ")]):e._e(),e._v(" "),r("v-btn",{attrs:{text:""},on:{click:e.moveBulkToBin}},[e._v("Move To Bin")])],1):e.folderShowAction?r("v-layout",{staticClass:"full-width",attrs:{"justify-end":""}},[r("v-btn",{attrs:{color:"primary"},on:{click:function(t){e.showMoveFolderDialog=!0}}},[e._v("\n                Move\n              ")]),e._v(" "),r("v-btn",{attrs:{text:""},on:{click:e.deleteFiles}},[e._v("Delete")]),e._v(" "),r("v-btn",{attrs:{text:""},on:{click:e.shareFolders}},[e._v("Share")]),e._v(" "),e.isBin?r("v-btn",{attrs:{text:""},on:{click:e.revertMultipleFolders}},[e._v("\n                Revert Folders\n              ")]):r("v-btn",{on:{click:e.moveMultipleFoldersToBin}},[e._v("\n                Move Folders To Bin\n              ")])],1):e._e()],1)],1),e._v(" "),r("v-layout",{attrs:{"justify-space-between":"","align-center":""}},[r("v-breadcrumbs",{staticClass:"px-0",attrs:{items:e.getBreadCrumbs},scopedSlots:e._u([{key:"divider",fn:function(){return[r("v-icon",[e._v("mdi-chevron-right")])]},proxy:!0},{key:"item",fn:function(t){var n=t.item;return[r("v-breadcrumbs-item",{staticClass:"breadcrumb",attrs:{to:n.href,nuxt:"",disabled:n.disabled}},[n.icon?r("v-icon",[e._v(e._s(n.text))]):r("span",[e._v(e._s(n.text.toUpperCase()))])],1)]}}])}),e._v(" "),r("div",{staticClass:"view"},[r("v-btn",{staticClass:"mx-2",attrs:{small:"",fab:"",elevation:"0",color:"rgba(68, 86, 108, 0.042)"}},[r("v-icon",{attrs:{size:"20",color:"rgba(68, 86, 108, 0.7)"}},[e._v("\n                mdi-view-grid\n              ")])],1),e._v(" "),r("v-btn",{attrs:{small:"",fab:"",elevation:"0",color:"rgba(68, 86, 108, 0.042)"}},[r("v-icon",{attrs:{size:"23",color:"rgba(68, 86, 108, 0.7)"}},[e._v("\n                mdi-view-list\n              ")])],1)],1)],1)],1)],1),e._v(" "),r("router-view")],1)],1)}),[],!1,null,"525e45cc",null)),et=Ze.exports;L()(Ze,{VAlert:Ie.a,VApp:S.a,VAppBar:M.a,VAppBarNavIcon:z.a,VAvatar:G.a,VBreadcrumbs:Ve.a,VBreadcrumbsItem:Ee.a,VBtn:J.a,VCard:me.a,VCardText:ge.b,VCardTitle:ge.c,VCol:H.a,VContainer:K.a,VContent:X.a,VDialog:be.a,VDivider:Q.a,VForm:Pe.a,VIcon:W.a,VImg:Y.a,VLayout:Z.a,VList:ee.a,VListGroup:Te.a,VListItem:te.a,VListItemAction:re.a,VListItemContent:ae.a,VListItemIcon:oe.a,VListItemTitle:ae.c,VMenu:ie.a,VNavigationDrawer:se.a,VRow:ce.a,VSnackbar:le.a,VSpacer:ue.a,VSubheader:de.a,VTextField:_e.a,VToolbar:Re.a,VToolbarTitle:Be.a});function tt(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}var at={components:{NewDialog:xe,Loader:R.a,MoveDialog:$e,ShareDialog:Le},props:{source:{type:String,default:""}},data:function(e){return{dialog:!1,drawer:null,items:[{icon:"mdi-cloud-outline",text:"Drive",to:"/admin/user/".concat(e.$route.params.id)},{icon:"mdi-account-multiple-outline",text:"Shared with this User",to:"#"},{icon:"mdi-clock-outline",text:"Recent",to:"/admin/recent/".concat(e.$route.params.id)},{icon:"mdi-trash-can-outline",text:"Bin",to:"/admin/bin/".concat(e.$route.params.id)}],loading:!1,buttonLoading:!1,showNewFolderDialog:!1,showMoveFolderDialog:!1,pressed:!1,showAction:!1,error:{status:!1,message:""},alertError:{status:!1,message:""},success:{status:!1,message:""},fileIds:[],fileLength:0,showShareDialog:!1,user:"",showProfileDialog:!1,profileLoading:!1,updateUser:{full_name:"",username:""}}},computed:function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?tt(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):tt(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},Object(T.b)(["getBreadCrumbs","isLoggedIn","getUser","getLevel"]),{isAdmin:function(){return this.user.role&&"admin"===this.user.role.toLowerCase()},isSuperAdmin:function(){return this.user.role&&"superadmin"===this.user.role.toLowerCase()},disableBtn:function(){return!this.updateUser.full_name||!this.updateUser.username},getUserInitials:function(){var e=this.user.full_name;if(e){var t=e.split(" ").reduce((function(e,t){return"".concat(e).concat(t[0])}),"");return t.length>2?"".concat(t[0]).concat(t[1]):t}return null}}),mounted:function(){var e=this,t=this.isLoggedIn(this),r=this.getUser(this);t?this.$axios.defaults.headers.common.Authorization="Bearer ".concat(t):this.$router.push({path:"/login"}),this.loading=!0,this.fetchUserFiles(r.id,0),this.showAction=!1,Se.a.$on("showAction",(function(t){e.fileIds=t,e.showAction=!0})),Se.a.$on("hideAction",(function(){e.showAction=!1})),Se.a.$on("fileLength",(function(t){e.fileLength=t})),Se.a.$on("shareFile",(function(t){e.fileIds.push(t),e.shareFile()})),this.$store.dispatch("fetchFolders",r.id),this.user=r},methods:{openNewFolderDialog:function(){this.showNewFolderDialog=!0},closeDialog:function(e){this[e]=!1},createFolder:function(e){var t=this,r=this.$route.params.name||"";this.buttonLoading=!0;var data,n=this.getUser(this);data=r?{dirname:e,user_id:n.id,level:this.getLevel+1,parent_dir:r}:{dirname:e,user_id:n.id,level:0},this.$axios.post("directory/create",data).then((function(){t.buttonLoading=!1,t.loading=!0,t.fetchUserFiles(n.id,0),t.$store.dispatch("fetchFolders",n.id)})).catch((function(e){t.buttonLoading=!1,t.error.status=!0,t.error.message=e.response.data.message})),this.showNewFolderDialog=!1},resetBreadCrumbs:function(){this.$store.dispatch("resetBreadCrumbs")},handleFileUpload:function(e){var t=this,r=this.$route.params.name||"";this.loading=!0;var n=this.getUser(this),o=e.target.files,c=new FormData;c.set("user_id",n.id),r&&c.set("directory_id",r),o.length>1?this.handleMultipleFileUpload(n.id,o):(c.set("file",o[0]),this.$axios.post("files/upload/single",c,{headers:{"Content-Type":"multipart/form-data"}}).then((function(){Se.a.$emit("addedNewFile"),t.fetchUserFiles(n.id,0)})).catch((function(e){t.loading=!1,t.error.status=!0,t.error.message=e.response.data.message})))},handleMultipleFileUpload:function(e,t){var r=this,n=this.$route.params.name||"",o=new FormData;o.set("user_id",e),Object(fe.a)(t).forEach((function(e){o.append("files",e)})),n&&o.set("directory_id",n),this.$axios.post("files/upload/bulk",o,{headers:{"Content-Type":"multipart/form-data"}}).then((function(){r.fetchUserFiles(e,0)})).catch((function(e){r.loading=!1,r.error.status=!0,r.error.message=e.response.data.message}))},moveFolder:function(e){var t=this;this.buttonLoading=!0;var data={file_id:this.fileIds,directory_id:e};this.$axios.put("files/move/bulk",data).then((function(){var e=t.getUser(t);t.loading=!0,t.buttonLoading=!1,t.fetchUserFiles(e.id,0)})).catch((function(e){t.buttonLoading=!1,t.error.status=!0,t.error.message=e.response.data.message})),this.showMoveFolderDialog=!1},deleteFiles:function(){var e=this;this.$axios.delete("/files/bulk",{data:{file_id:this.fileIds}}).then((function(){var t=e.getUser(e);e.loading=!0,e.fetchUserFiles(t.id,0)})).catch((function(t){e.error.status=!0,e.error.message=t.response.data.message}))},shareFile:function(){this.showShareDialog=!0},handleFileSharing:function(e){var t=this,data={user_id:this.getUser(this).id,user_ids:e,files:this.fileIds};this.buttonLoading=!0,this.$axios.post("files/share",data).then((function(e){var data=e.data;t.buttonLoading=!1,t.showShareDialog=!1,t.success.status=!0,t.success.message=data.message})).catch((function(){t.buttonLoading=!1,t.error.status=!0,t.error.message="Something went wrong"}))},handleImage:function(image){var e=image.target.files;this.updateUser.image=e[0];var t=document.querySelector("#user-image");if(e&&e[0]){var r=new FileReader;r.readAsDataURL(e[0]),r.onload=function(e){t.style.display="block",t.src=e.target.result}}},logout:function(){this.$cookies.remove("token"),this.$cookies.remove("user"),this.$router.push("/login")},showDialog:function(){this.updateUser.full_name=this.user.full_name,this.updateUser.username=this.user.username,this.showProfileDialog=!0},update:function(){var e=this;this.profileLoading=!0;var data={ogId:this.user.ogId,full_name:this.updateUser.full_name,username:this.updateUser.username};this.$axios.put("users",data).then((function(){if(e.updateUser.image){var form=new FormData;form.set("user_id",e.user.id),form.set("picture",e.updateUser.image),e.$axios.post("files/upload/picture",form,{headers:{"Content-Type":"multipart/form-data"}}).then((function(){e.clearForm(),e.profileLoading=!1,e.showProfileDialog=!1,e.success.status=!0,e.success.message="Account Updated",e.fetchUser()})).catch((function(){e.profileLoading=!1,e.alertError.status=!0,e.alertError.message="Something went wrong"}))}else e.clearForm(),e.profileLoading=!1,e.showProfileDialog=!1,e.success.status=!0,e.success.message="Account Updated",e.fetchUser()})).catch((function(){e.profileLoading=!1,e.alertError.status=!0,e.alertError.message="Something went wrong"}))},clearForm:function(){this.updateUser.full_name="",this.updateUser.username="",this.updateUser.image=""},fetchUser:function(){var e=this,t=this.user.ogId;this.$axios.get("users/".concat(t)).then((function(t){var data=t.data,r={id:data._id,ogId:data.ogId,full_name:data.full_name,username:data.username,email:data.email,department:data.department,role:data.role,picture:data.profile_pic};e.user=r;var n=e.$cookies.get("token");e.$store.dispatch("saveAuth",[r,n])}))}}},nt=(r(379),Object(O.a)(at,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-app",{attrs:{id:"inspire"}},[r("new-dialog",{attrs:{"show-dialog":e.showNewFolderDialog,"is-loading":e.buttonLoading},on:{closeDialog:function(t){return e.closeDialog("showNewFolderDialog")},createFolder:e.createFolder}}),e._v(" "),r("move-dialog",{attrs:{"show-dialog":e.showMoveFolderDialog,"is-loading":e.buttonLoading},on:{closeDialog:function(t){return e.closeDialog("showMoveFolderDialog")},moveFolder:e.moveFolder}}),e._v(" "),r("share-dialog",{attrs:{"show-dialog":e.showShareDialog,"is-loading":e.buttonLoading},on:{closeDialog:function(t){return e.closeDialog("showShareDialog")},share:e.handleFileSharing}}),e._v(" "),r("v-dialog",{attrs:{"max-width":"360"},model:{value:e.showProfileDialog,callback:function(t){e.showProfileDialog=t},expression:"showProfileDialog"}},[r("v-card",[r("v-card-title",{staticClass:"headline"},[e._v("\n        Edit account\n      ")]),e._v(" "),r("v-card-text",[e.alertError.status?r("v-alert",{attrs:{type:"error",dismissible:""},model:{value:e.alertError.status,callback:function(t){e.$set(e.alertError,"status",t)},expression:"alertError.status"}},[e._v("\n          "+e._s(e.alertError.message)+"\n        ")]):e._e(),e._v(" "),r("v-form",{on:{submit:function(t){return t.preventDefault(),t.stopPropagation(),e.update(t)}}},[r("input",{attrs:{id:"user-photo",type:"file",name:"user-photo"},on:{change:e.handleImage}}),e._v(" "),r("label",{staticClass:"picture-upload",style:{backgroundImage:"url("+e.user.picture+")"},attrs:{for:"user-photo"}},[r("v-icon",{attrs:{size:"50",color:"white"}},[e._v("\n              mdi-camera-plus-outline\n            ")]),e._v(" "),r("img",{attrs:{id:"user-image",src:e.user.picture,alt:"User's image"}})],1),e._v(" "),r("v-text-field",{staticClass:"mx-3 my-4",attrs:{label:"Full Name",name:"name",type:"text",placeholder:"John Doe","prepend-icon":"mdi-account-outline"},model:{value:e.updateUser.full_name,callback:function(t){e.$set(e.updateUser,"full_name",t)},expression:"updateUser.full_name"}}),e._v(" "),r("v-text-field",{staticClass:"mx-3 my-4",attrs:{label:"Username",name:"username",type:"text",placeholder:"johndoe123","prepend-icon":"mdi-account-box-outline"},model:{value:e.updateUser.username,callback:function(t){e.$set(e.updateUser,"username",t)},expression:"updateUser.username"}}),e._v(" "),r("v-layout",[r("v-spacer"),e._v(" "),r("v-btn",{attrs:{type:"submit",color:"primary px-5 mx-4",loading:e.profileLoading},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.update(t)}}},[e._v("\n              Update\n            ")]),e._v(" "),r("v-btn",{attrs:{color:"darken-1",text:""},on:{click:function(t){e.showProfileDialog=!1,e.clearForm()}}},[e._v("\n              Cancel\n            ")])],1)],1)],1)],1)],1),e._v(" "),e.loading?r("Loader"):e._e(),e._v(" "),e.error.status?r("v-snackbar",{attrs:{timeout:5e3},model:{value:e.error.status,callback:function(t){e.$set(e.error,"status",t)},expression:"error.status"}},[e._v("\n    "+e._s(e.error.message)+"\n    "),r("v-btn",{attrs:{color:"pink",text:""},on:{click:function(t){e.error.status=!1}}},[e._v("\n      Close\n    ")])],1):e._e(),e._v(" "),e.success.status?r("v-snackbar",{attrs:{timeout:5e3},model:{value:e.success.status,callback:function(t){e.$set(e.success,"status",t)},expression:"success.status"}},[e._v("\n    "+e._s(e.success.message)+"\n    "),r("v-btn",{attrs:{color:"green",text:""},on:{click:function(t){e.success.status=!1}}},[e._v("\n      Close\n    ")])],1):e._e(),e._v(" "),r("v-navigation-drawer",{staticClass:"drawer",attrs:{clipped:"",app:""},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[r("v-list",{attrs:{dense:"",shaped:""}},[r("v-menu",{scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[r("v-btn",e._g({staticClass:"mx-3 my-5",attrs:{color:"primary",rounded:"",height:"50",width:"93%"}},n),[r("v-icon",{staticClass:"ml-n5 mx-5"},[e._v("mdi-upload")]),e._v("\n            New\n          ")],1)]}}])},[e._v(" "),r("v-list",[r("v-list-item",{on:{click:e.openNewFolderDialog}},[r("v-list-item-action",[r("v-icon",[e._v("mdi-folder-plus-outline")])],1),e._v(" "),r("v-list-item-content",[r("v-list-item-title",[e._v("\n                New Folder\n              ")])],1)],1),e._v(" "),r("v-divider"),e._v(" "),r("v-list-item",[r("input",{attrs:{id:"file-upload",type:"file",name:"file-upload",multiple:""},on:{change:e.handleFileUpload}}),e._v(" "),r("label",{staticClass:"row pl-3",attrs:{for:"file-upload"}},[r("v-list-item-action",[r("v-icon",[e._v("mdi-file-upload-outline")])],1),e._v(" "),r("v-list-item-content",[r("v-list-item-title",[e._v("\n                  Upload File\n                ")])],1)],1)])],1)],1),e._v(" "),e._l(e.items,(function(t){return[t.heading?r("v-row",{key:t.heading,attrs:{align:"center"}},[r("v-col",{attrs:{cols:"6"}},[t.heading?r("v-subheader",[e._v("\n              "+e._s(t.heading)+"\n            ")]):e._e()],1),e._v(" "),r("v-col",{staticClass:"text-center",attrs:{cols:"6"}},[r("a",{staticClass:"body-2 black--text",attrs:{href:"#!"}},[e._v("EDIT")])])],1):t.children?r("v-list-group",{key:t.text,attrs:{"prepend-icon":t.model?t.icon:t["icon-alt"],"append-icon":"",color:"primary"},scopedSlots:e._u([{key:"activator",fn:function(){return[r("v-list-item-content",[r("v-list-item-title",[e._v("\n                "+e._s(t.text)+"\n              ")])],1)]},proxy:!0}],null,!0),model:{value:t.model,callback:function(r){e.$set(t,"model",r)},expression:"item.model"}},[e._v(" "),e._l(t.children,(function(n,i){return r("v-list-item",{key:i,attrs:{link:"",to:t.to,color:"primary"}},[n.icon?r("v-list-item-action",[r("v-icon",[e._v(e._s(n.icon))])],1):e._e(),e._v(" "),r("v-list-item-content",[r("v-list-item-title",[e._v("\n                "+e._s(n.text)+"\n              ")])],1)],1)}))],2):r("v-list-item",{key:t.text,attrs:{link:"",to:t.to,color:"primary"}},[r("v-list-item-action",[r("v-icon",[e._v(e._s(t.icon))])],1),e._v(" "),r("v-list-item-content",[r("v-list-item-title",[e._v("\n              "+e._s(t.text)+"\n            ")])],1)],1)]}))],2)],1),e._v(" "),r("v-app-bar",{staticClass:"app-bar",attrs:{"clipped-left":e.$vuetify.breakpoint.lgAndUp,app:"",color:"white",elevation:"0"}},[r("v-app-bar-nav-icon",{on:{click:function(t){t.stopPropagation(),e.drawer=!e.drawer}}}),e._v(" "),r("img",{attrs:{src:"/images/logo.png",alt:"Outsource Logo",width:"100vh"}}),e._v(" "),r("v-spacer"),e._v(" "),r("v-divider",{attrs:{vertical:""}}),e._v(" "),r("v-menu",{attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[r("v-btn",e._g({attrs:{text:""}},n),[r("v-layout",{attrs:{"align-center":""}},[e.user.picture?r("v-avatar",{staticClass:"mx-2",attrs:{size:"35px",item:""}},[r("v-img",{attrs:{src:e.user.picture,alt:"User Image"}})],1):r("v-avatar",{staticClass:"mx-2",attrs:{size:"35px",color:"primary",item:""}},[r("span",{staticClass:"white--text font-weight-medium"},[e._v("\n                "+e._s(e.getUserInitials)+"\n              ")])]),e._v(" "),r("span",{staticClass:"hidden-sm-and-down"},[e._v(e._s(e.user.username))]),e._v(" "),r("v-icon",[e._v("mdi-menu-down")])],1)],1)]}}])},[e._v(" "),r("v-list",[r("v-list-item",{on:{click:e.showDialog}},[r("v-list-item-icon",[r("v-icon",[e._v("mdi-account-edit-outline")])],1),e._v(" "),r("v-list-item-content",[e._v("Edit Profile")])],1),e._v(" "),r("v-list-item",{on:{click:e.logout}},[r("v-list-item-icon",[r("v-icon",[e._v("mdi-logout-variant")])],1),e._v(" "),r("v-list-item-content",[e._v("Logout")])],1),e._v(" "),e.isAdmin||e.isSuperAdmin?r("v-list-item",{attrs:{to:"/admin"}},[r("v-list-item-icon",[r("v-icon",[e._v("mdi-account-supervisor-outline")])],1),e._v(" "),r("v-list-item-content",[e._v("Admin Dashboard")])],1):e._e()],1)],1)],1),e._v(" "),r("v-content",{staticClass:"body"},[r("v-container",{staticClass:"pb-0"},[r("v-toolbar",{staticClass:"toolbar px-2",attrs:{flat:"",color:"transparent"}},[r("v-toolbar-title",{staticClass:"px-0"},[r("v-layout",{attrs:{"justify-space-between":"","full-width":""}},[r("span",{staticClass:"row align-center mx-0 font-weight-black text--text"},[r("h2",[e._v("\n                Recent\n              ")])]),e._v(" "),e.showAction?r("v-layout",{staticClass:"full-width",attrs:{"justify-end":""}},[r("v-btn",{attrs:{color:"primary"},on:{click:function(t){e.showMoveFolderDialog=!0}}},[e._v("\n                Move\n              ")]),e._v(" "),r("v-btn",{attrs:{text:""},on:{click:e.deleteFiles}},[e._v("Delete")]),e._v(" "),r("v-btn",{attrs:{text:""},on:{click:e.shareFile}},[e._v("Share")])],1):e._e()],1)],1),e._v(" "),r("v-layout",{attrs:{"justify-space-between":"","align-center":""}},[r("v-breadcrumbs",{staticClass:"px-0",attrs:{items:e.getBreadCrumbs},scopedSlots:e._u([{key:"divider",fn:function(){return[r("v-icon",[e._v("mdi-chevron-right")])]},proxy:!0},{key:"item",fn:function(t){var n=t.item;return[r("v-breadcrumbs-item",{staticClass:"breadcrumb",attrs:{to:n.href,nuxt:"",disabled:n.disabled}},[n.icon?r("v-icon",[e._v(e._s(n.text))]):r("span",[e._v(e._s(n.text.toUpperCase()))])],1)]}}])}),e._v(" "),r("div",{staticClass:"view"},[r("v-btn",{staticClass:"mx-2",attrs:{small:"",fab:"",elevation:"0",color:"rgba(68, 86, 108, 0.042)"}},[r("v-icon",{attrs:{size:"20",color:"rgba(68, 86, 108, 0.7)"}},[e._v("\n                mdi-view-grid\n              ")])],1),e._v(" "),r("v-btn",{attrs:{small:"",fab:"",elevation:"0",color:"rgba(68, 86, 108, 0.042)"}},[r("v-icon",{attrs:{size:"23",color:"rgba(68, 86, 108, 0.7)"}},[e._v("\n                mdi-view-list\n              ")])],1)],1)],1)],1)],1),e._v(" "),r("router-view")],1)],1)}),[],!1,null,"22a07cc6",null)),ot=nt.exports;L()(nt,{VAlert:Ie.a,VApp:S.a,VAppBar:M.a,VAppBarNavIcon:z.a,VAvatar:G.a,VBreadcrumbs:Ve.a,VBreadcrumbsItem:Ee.a,VBtn:J.a,VCard:me.a,VCardText:ge.b,VCardTitle:ge.c,VCol:H.a,VContainer:K.a,VContent:X.a,VDialog:be.a,VDivider:Q.a,VForm:Pe.a,VIcon:W.a,VImg:Y.a,VLayout:Z.a,VList:ee.a,VListGroup:Te.a,VListItem:te.a,VListItemAction:re.a,VListItemContent:ae.a,VListItemIcon:oe.a,VListItemTitle:ae.c,VMenu:ie.a,VNavigationDrawer:se.a,VRow:ce.a,VSnackbar:le.a,VSpacer:ue.a,VSubheader:de.a,VTextField:_e.a,VToolbar:Re.a,VToolbarTitle:Be.a});function it(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}var st={components:{NewDialog:xe,Loader:R.a,MoveDialog:$e,ShareDialog:Le},props:{source:{type:String,default:""}},data:function(){return{dialog:!1,drawer:null,items:[{icon:"mdi-cloud-outline",text:"My Drive",to:"/"},{icon:"mdi-account-multiple-outline",text:"Shared with me",to:"/shared"},{icon:"mdi-clock-outline",text:"Recent",to:"/recent"},{icon:"mdi-trash-can-outline",text:"Bin",to:"/bin"}],loading:!1,buttonLoading:!1,showNewFolderDialog:!1,showMoveFolderDialog:!1,pressed:!1,showAction:!1,folderShowAction:!1,error:{status:!1,message:""},alertError:{status:!1,message:""},success:{status:!1,message:""},fileIds:[],folderIds:[],fileLength:0,showShareDialog:!1,user:"",showProfileDialog:!1,profileLoading:!1,updateUser:{full_name:"",username:""}}},computed:function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?it(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):it(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},Object(T.b)(["getBreadCrumbs","isLoggedIn","getUser","getLevel"]),{isAdmin:function(){return this.user.role&&"admin"===this.user.role.toLowerCase()},isSuperAdmin:function(){return this.user.role&&"superadmin"===this.user.role.toLowerCase()},disableBtn:function(){return!this.updateUser.full_name||!this.updateUser.username},getUserInitials:function(){var e=this.user.full_name;if(e){var t=e.split(" ").reduce((function(e,t){return"".concat(e).concat(t[0])}),"");return t.length>2?"".concat(t[0]).concat(t[1]):t}return null},showSearch:function(){return!["/bin","/recent"].includes(this.$route.path)},isBin:function(){return"bin"===this.$route.name}}),mounted:function(){var e=this,t=this.isLoggedIn(this),r=this.getUser(this);t?this.$axios.defaults.headers.common.Authorization="Bearer ".concat(t):this.$router.push({path:"/login"}),this.loading=!0,this.fetchUserFiles(r.id,0),this.showAction=!1,Se.a.$on("showAction",(function(t){e.fileIds=t,e.showAction=!0})),Se.a.$on("folderShowAction",(function(t){e.folderIds=t,e.folderShowAction=!0})),Se.a.$on("hideAction",(function(){e.showAction=!1,e.folderShowAction=!1})),Se.a.$on("fileLength",(function(t){e.fileLength=t})),Se.a.$on("shareFile",(function(t){e.fileIds.push(t),e.shareFile()})),this.$store.dispatch("fetchFolders",r.id),this.user=r},methods:{openNewFolderDialog:function(){this.showNewFolderDialog=!0},closeDialog:function(e){this[e]=!1},createFolder:function(e){var t=this,r=this.$route.params.name||"";this.buttonLoading=!0;var data,n=this.getUser(this);data=r?{dirname:e,user_id:n.id,level:this.getLevel+1,parent_dir:r}:{dirname:e,user_id:n.id,level:0},this.$axios.post("directory/create",data).then((function(){t.buttonLoading=!1,t.loading=!0,t.fetchUserFiles(n.id,0),t.$store.dispatch("fetchFolders",n.id)})).catch((function(e){t.buttonLoading=!1,t.error.status=!0,t.error.message=e.response.data.message})),this.showNewFolderDialog=!1},resetBreadCrumbs:function(){this.$store.dispatch("resetBreadCrumbs")},revertMultiple:function(){var e=this,t=this.getUser(this);this.loading=!0,this.$axios.put("/files/multiple/revert",{file_ids:this.fileIds,user_id:t.id}).then((function(){window.location.reload(),e.loading=!1,e.success.status=!0,e.success.message="Files has been successfully reverted"})).catch((function(t){e.loading=!1,e.error.status=!0,e.error.message=t.response.data.message}))},revertMultipleFolders:function(){var e=this,t=this.getUser(this);this.loading=!0,this.$axios.put("directory/multiple/revert",{folder_ids:this.folderIds,user_id:t.id}).then((function(){window.location.reload(),e.loading=!1,e.success.status=!0,e.success.message="Folders has been successfully reverted"})).catch((function(t){e.loading=!1,e.error.status=!0,e.error.message=t.response.data.message}))},handleFileUpload:function(e){var t=this,r=this.$route.params.name||"";this.loading=!0;var n=this.getUser(this),o=e.target.files,c=new FormData;c.set("user_id",n.id),r&&c.set("directory_id",r),o.length>1?this.handleMultipleFileUpload(n.id,o):(c.set("file",o[0]),this.$axios.post("files/upload/single",c,{headers:{"Content-Type":"multipart/form-data"}}).then((function(){Se.a.$emit("addedNewFile"),t.fetchUserFiles(n.id,0)})).catch((function(e){t.loading=!1,t.error.status=!0,t.error.message=e.response.data.message})))},handleMultipleFileUpload:function(e,t){var r=this,n=this.$route.params.name||"",o=new FormData;o.set("user_id",e),Object(fe.a)(t).forEach((function(e){o.append("files",e)})),n&&o.set("directory_id",n),this.$axios.post("files/upload/bulk",o,{headers:{"Content-Type":"multipart/form-data"}}).then((function(){r.fetchUserFiles(e,0)})).catch((function(e){r.loading=!1,r.error.status=!0,r.error.message=e.response.data.message}))},moveFolder:function(e){var t=this;this.buttonLoading=!0;var data={file_id:this.fileIds,directory_id:e};this.$axios.put("files/move/bulk",data).then((function(){var e=t.getUser(t);t.loading=!0,t.buttonLoading=!1,t.fetchUserFiles(e.id,0)})).catch((function(e){t.buttonLoading=!1,t.error.status=!0,t.error.message=e.response.data.message})),this.showMoveFolderDialog=!1},deleteFiles:function(){var e=this;this.$axios.delete("/files/bulk",{data:{file_id:this.fileIds}}).then((function(){var t=e.getUser(e);e.loading=!0,e.fetchUserFiles(t.id,0)})).catch((function(t){e.error.status=!0,e.error.message=t.response.data.message}))},shareFile:function(){this.showShareDialog=!0},handleFileSharing:function(e){var t=this,data={user_id:this.getUser(this).id,user_ids:e,files:this.fileIds};this.buttonLoading=!0,this.$axios.post("files/share",data).then((function(e){var data=e.data;t.buttonLoading=!1,t.showShareDialog=!1,t.success.status=!0,t.success.message=data.message})).catch((function(){t.buttonLoading=!1,t.error.status=!0,t.error.message="Something went wrong"}))},handleImage:function(image){var e=image.target.files;this.updateUser.image=e[0];var t=document.querySelector("#user-image");if(e&&e[0]){var r=new FileReader;r.readAsDataURL(e[0]),r.onload=function(e){t.style.display="block",t.src=e.target.result}}},logout:function(){this.$cookies.remove("token"),this.$cookies.remove("user"),this.$router.push("/login")},showDialog:function(){this.updateUser.full_name=this.user.full_name,this.updateUser.username=this.user.username,this.showProfileDialog=!0},update:function(){var e=this;this.profileLoading=!0;var data={ogId:this.user.ogId,full_name:this.updateUser.full_name,username:this.updateUser.username};this.$axios.put("users",data).then((function(){if(e.updateUser.image){var form=new FormData;form.set("user_id",e.user.id),form.set("picture",e.updateUser.image),e.$axios.post("files/upload/picture",form,{headers:{"Content-Type":"multipart/form-data"}}).then((function(){e.clearForm(),e.profileLoading=!1,e.showProfileDialog=!1,e.success.status=!0,e.success.message="Account Updated",e.fetchUser()})).catch((function(){e.profileLoading=!1,e.alertError.status=!0,e.alertError.message="Something went wrong"}))}else e.clearForm(),e.profileLoading=!1,e.showProfileDialog=!1,e.success.status=!0,e.success.message="Account Updated",e.fetchUser()})).catch((function(){e.profileLoading=!1,e.alertError.status=!0,e.alertError.message="Something went wrong"}))},clearForm:function(){this.updateUser.full_name="",this.updateUser.username="",this.updateUser.image=""},fetchUser:function(){var e=this,t=this.user.ogId;this.$axios.get("users/".concat(t)).then((function(t){var data=t.data,r={id:data._id,ogId:data.ogId,full_name:data.full_name,username:data.username,email:data.email,department:data.department,role:data.role,picture:data.profile_pic};e.user=r;var n=e.$cookies.get("token");e.$store.dispatch("saveAuth",[r,n])}))}}},ct=(r(381),Object(O.a)(st,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-app",{attrs:{id:"inspire"}},[r("new-dialog",{attrs:{"show-dialog":e.showNewFolderDialog,"is-loading":e.buttonLoading},on:{closeDialog:function(t){return e.closeDialog("showNewFolderDialog")},createFolder:e.createFolder}}),e._v(" "),r("move-dialog",{attrs:{"show-dialog":e.showMoveFolderDialog,"is-loading":e.buttonLoading},on:{closeDialog:function(t){return e.closeDialog("showMoveFolderDialog")},moveFolder:e.moveFolder}}),e._v(" "),r("share-dialog",{attrs:{"show-dialog":e.showShareDialog,"is-loading":e.buttonLoading},on:{closeDialog:function(t){return e.closeDialog("showShareDialog")},share:e.handleFileSharing}}),e._v(" "),r("v-dialog",{attrs:{"max-width":"360"},model:{value:e.showProfileDialog,callback:function(t){e.showProfileDialog=t},expression:"showProfileDialog"}},[r("v-card",[r("v-card-title",{staticClass:"headline"},[e._v("\n        Edit account\n      ")]),e._v(" "),r("v-card-text",[e.alertError.status?r("v-alert",{attrs:{type:"error",dismissible:""},model:{value:e.alertError.status,callback:function(t){e.$set(e.alertError,"status",t)},expression:"alertError.status"}},[e._v("\n          "+e._s(e.alertError.message)+"\n        ")]):e._e(),e._v(" "),r("v-form",{on:{submit:function(t){return t.preventDefault(),t.stopPropagation(),e.update(t)}}},[r("input",{attrs:{id:"user-photo",type:"file",name:"user-photo"},on:{change:e.handleImage}}),e._v(" "),r("label",{staticClass:"picture-upload",style:{backgroundImage:"url("+e.user.picture+")"},attrs:{for:"user-photo"}},[r("v-icon",{attrs:{size:"50",color:"white"}},[e._v("\n              mdi-camera-plus-outline\n            ")]),e._v(" "),r("img",{attrs:{id:"user-image",src:e.user.picture,alt:"User's image"}})],1),e._v(" "),r("v-text-field",{staticClass:"mx-3 my-4",attrs:{label:"Full Name",name:"name",type:"text",placeholder:"John Doe","prepend-icon":"mdi-account-outline"},model:{value:e.updateUser.full_name,callback:function(t){e.$set(e.updateUser,"full_name",t)},expression:"updateUser.full_name"}}),e._v(" "),r("v-text-field",{staticClass:"mx-3 my-4",attrs:{label:"Username",name:"username",type:"text",placeholder:"johndoe123","prepend-icon":"mdi-account-box-outline"},model:{value:e.updateUser.username,callback:function(t){e.$set(e.updateUser,"username",t)},expression:"updateUser.username"}}),e._v(" "),r("v-layout",[r("v-spacer"),e._v(" "),r("v-btn",{attrs:{type:"submit",color:"primary px-5 mx-4",loading:e.profileLoading},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.update(t)}}},[e._v("\n              Update\n            ")]),e._v(" "),r("v-btn",{attrs:{color:"darken-1",text:""},on:{click:function(t){e.showProfileDialog=!1,e.clearForm()}}},[e._v("\n              Cancel\n            ")])],1)],1)],1)],1)],1),e._v(" "),e.loading?r("Loader"):e._e(),e._v(" "),e.error.status?r("v-snackbar",{attrs:{timeout:5e3},model:{value:e.error.status,callback:function(t){e.$set(e.error,"status",t)},expression:"error.status"}},[e._v("\n    "+e._s(e.error.message)+"\n    "),r("v-btn",{attrs:{color:"pink",text:""},on:{click:function(t){e.error.status=!1}}},[e._v("\n      Close\n    ")])],1):e._e(),e._v(" "),e.success.status?r("v-snackbar",{attrs:{timeout:5e3},model:{value:e.success.status,callback:function(t){e.$set(e.success,"status",t)},expression:"success.status"}},[e._v("\n    "+e._s(e.success.message)+"\n    "),r("v-btn",{attrs:{color:"green",text:""},on:{click:function(t){e.success.status=!1}}},[e._v("\n      Close\n    ")])],1):e._e(),e._v(" "),r("v-navigation-drawer",{staticClass:"drawer",attrs:{clipped:"",app:""},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[r("v-list",{attrs:{dense:"",shaped:""}},[r("v-menu",{scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[r("v-btn",e._g({staticClass:"mx-3 my-5",attrs:{color:"primary",rounded:"",height:"50",width:"93%"}},n),[r("v-icon",{staticClass:"ml-n5 mx-5"},[e._v("mdi-upload")]),e._v("\n            New\n          ")],1)]}}])},[e._v(" "),r("v-list",[r("v-list-item",{on:{click:e.openNewFolderDialog}},[r("v-list-item-action",[r("v-icon",[e._v("mdi-folder-plus-outline")])],1),e._v(" "),r("v-list-item-content",[r("v-list-item-title",[e._v("\n                New Folder\n              ")])],1)],1),e._v(" "),r("v-divider"),e._v(" "),r("v-list-item",[r("input",{attrs:{id:"file-upload",type:"file",name:"file-upload",multiple:""},on:{change:e.handleFileUpload}}),e._v(" "),r("label",{staticClass:"row pl-3",attrs:{for:"file-upload"}},[r("v-list-item-action",[r("v-icon",[e._v("mdi-file-upload-outline")])],1),e._v(" "),r("v-list-item-content",[r("v-list-item-title",[e._v("\n                  Upload File\n                ")])],1)],1)])],1)],1),e._v(" "),e._l(e.items,(function(t){return[t.heading?r("v-row",{key:t.heading,attrs:{align:"center"}},[r("v-col",{attrs:{cols:"6"}},[t.heading?r("v-subheader",[e._v("\n              "+e._s(t.heading)+"\n            ")]):e._e()],1),e._v(" "),r("v-col",{staticClass:"text-center",attrs:{cols:"6"}},[r("a",{staticClass:"body-2 black--text",attrs:{href:"#!"}},[e._v("EDIT")])])],1):t.children?r("v-list-group",{key:t.text,attrs:{"prepend-icon":t.model?t.icon:t["icon-alt"],"append-icon":"",color:"primary"},scopedSlots:e._u([{key:"activator",fn:function(){return[r("v-list-item-content",[r("v-list-item-title",[e._v("\n                "+e._s(t.text)+"\n              ")])],1)]},proxy:!0}],null,!0),model:{value:t.model,callback:function(r){e.$set(t,"model",r)},expression:"item.model"}},[e._v(" "),e._l(t.children,(function(n,i){return r("v-list-item",{key:i,attrs:{link:"",to:t.to,color:"primary"}},[n.icon?r("v-list-item-action",[r("v-icon",[e._v(e._s(n.icon))])],1):e._e(),e._v(" "),r("v-list-item-content",[r("v-list-item-title",[e._v("\n                "+e._s(n.text)+"\n              ")])],1)],1)}))],2):r("v-list-item",{key:t.text,attrs:{link:"",to:t.to,color:"primary"}},[r("v-list-item-action",[r("v-icon",[e._v(e._s(t.icon))])],1),e._v(" "),r("v-list-item-content",[r("v-list-item-title",[e._v("\n              "+e._s(t.text)+"\n            ")])],1)],1)]}))],2)],1),e._v(" "),r("v-app-bar",{staticClass:"app-bar",attrs:{"clipped-left":e.$vuetify.breakpoint.lgAndUp,app:"",color:"white",elevation:"0"}},[r("v-app-bar-nav-icon",{on:{click:function(t){t.stopPropagation(),e.drawer=!e.drawer}}}),e._v(" "),r("img",{attrs:{src:"/images/logo.png",alt:"Outsource Logo",width:"100vh"}}),e._v(" "),e.showSearch?r("v-text-field",{staticClass:"hidden-sm-and-down search-bar",attrs:{solo:e.pressed,"solo-inverted":!e.pressed,flat:!e.pressed,"hide-details":"","background-color":"#f8fafb","prepend-inner-icon":"mdi-magnify",label:"Search in drive",color:"#555"},on:{focus:function(t){e.pressed=!0},blur:function(t){e.pressed=!1}}}):e._e(),e._v(" "),r("v-spacer"),e._v(" "),r("v-divider",{attrs:{vertical:""}}),e._v(" "),r("v-menu",{attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[r("v-btn",e._g({attrs:{text:""}},n),[r("v-layout",{attrs:{"align-center":""}},[e.user.picture?r("v-avatar",{staticClass:"mx-2",attrs:{size:"35px",item:""}},[r("v-img",{attrs:{src:e.user.picture,alt:"User Image"}})],1):r("v-avatar",{staticClass:"mx-2",attrs:{size:"35px",color:"primary",item:""}},[r("span",{staticClass:"white--text font-weight-medium"},[e._v("\n                "+e._s(e.getUserInitials)+"\n              ")])]),e._v(" "),r("span",{staticClass:"hidden-sm-and-down"},[e._v(e._s(e.user.username))]),e._v(" "),r("v-icon",[e._v("mdi-menu-down")])],1)],1)]}}])},[e._v(" "),r("v-list",[r("v-list-item",{on:{click:e.showDialog}},[r("v-list-item-icon",[r("v-icon",[e._v("mdi-account-edit-outline")])],1),e._v(" "),r("v-list-item-content",[e._v("Edit Profile")])],1),e._v(" "),r("v-list-item",{on:{click:e.logout}},[r("v-list-item-icon",[r("v-icon",[e._v("mdi-logout-variant")])],1),e._v(" "),r("v-list-item-content",[e._v("Logout")])],1),e._v(" "),e.isAdmin||e.isSuperAdmin?r("v-list-item",{attrs:{to:"/admin"}},[r("v-list-item-icon",[r("v-icon",[e._v("mdi-account-supervisor-outline")])],1),e._v(" "),r("v-list-item-content",[e._v("Admin Dashboard")])],1):e._e()],1)],1)],1),e._v(" "),r("v-content",{staticClass:"body"},[r("v-container",{staticClass:"pb-0"},[r("v-toolbar",{staticClass:"toolbar px-2",attrs:{flat:"",color:"transparent"}},[r("v-toolbar-title",{staticClass:"px-0"},[r("v-layout",{attrs:{"justify-space-between":"","full-width":""}},[r("span",{staticClass:"row align-center mx-0 font-weight-black text--text"},[r("h2",[e._v("\n                Bin\n              ")])]),e._v(" "),e.showAction?r("v-layout",{staticClass:"full-width",attrs:{"justify-end":""}},[e.isBin?r("v-btn",{on:{click:e.revertMultiple}},[e._v("\n                Revert Files\n              ")]):r("v-btn",{attrs:{text:""},on:{click:e.moveMultiple}},[e._v("Move To Bin")])],1):e.folderShowAction?r("v-layout",{staticClass:"full-width",attrs:{"justify-end":""}},[e.isBin?r("v-btn",{attrs:{color:"primary",text:""},on:{click:e.revertMultipleFolders}},[e._v("\n                Revert Folders\n              ")]):r("v-btn",{attrs:{text:""},on:{click:e.moveMultipleFolders}},[e._v("\n                Move Folders To Bin\n              ")])],1):e._e()],1)],1),e._v(" "),r("v-layout",{attrs:{"justify-space-between":"","align-center":""}},[r("v-breadcrumbs",{staticClass:"px-0",attrs:{items:e.getBreadCrumbs},scopedSlots:e._u([{key:"divider",fn:function(){return[r("v-icon",[e._v("mdi-chevron-right")])]},proxy:!0},{key:"item",fn:function(t){var n=t.item;return[r("v-breadcrumbs-item",{staticClass:"breadcrumb",attrs:{to:n.href,nuxt:"",disabled:n.disabled}},[n.icon?r("v-icon",[e._v(e._s(n.text))]):r("span",[e._v(e._s(n.text.toUpperCase()))])],1)]}}])}),e._v(" "),r("div",{staticClass:"view"},[r("v-btn",{staticClass:"mx-2",attrs:{small:"",fab:"",elevation:"0",color:"rgba(68, 86, 108, 0.042)"}},[r("v-icon",{attrs:{size:"20",color:"rgba(68, 86, 108, 0.7)"}},[e._v("\n                mdi-view-grid\n              ")])],1),e._v(" "),r("v-btn",{attrs:{small:"",fab:"",elevation:"0",color:"rgba(68, 86, 108, 0.042)"}},[r("v-icon",{attrs:{size:"23",color:"rgba(68, 86, 108, 0.7)"}},[e._v("\n                mdi-view-list\n              ")])],1)],1)],1)],1)],1),e._v(" "),r("router-view")],1)],1)}),[],!1,null,"26684b4a",null)),lt=ct.exports;L()(ct,{VAlert:Ie.a,VApp:S.a,VAppBar:M.a,VAppBarNavIcon:z.a,VAvatar:G.a,VBreadcrumbs:Ve.a,VBreadcrumbsItem:Ee.a,VBtn:J.a,VCard:me.a,VCardText:ge.b,VCardTitle:ge.c,VCol:H.a,VContainer:K.a,VContent:X.a,VDialog:be.a,VDivider:Q.a,VForm:Pe.a,VIcon:W.a,VImg:Y.a,VLayout:Z.a,VList:ee.a,VListGroup:Te.a,VListItem:te.a,VListItemAction:re.a,VListItemContent:ae.a,VListItemIcon:oe.a,VListItemTitle:ae.c,VMenu:ie.a,VNavigationDrawer:se.a,VRow:ce.a,VSnackbar:le.a,VSpacer:ue.a,VSubheader:de.a,VTextField:_e.a,VToolbar:Re.a,VToolbarTitle:Be.a});var ut={data:function(){return{clipped:!1,drawer:!1,fixed:!1,items:[{icon:"mdi-apps",title:"Welcome",to:"/"},{icon:"mdi-chart-bubble",title:"Inspire",to:"/inspire"}],miniVariant:!1,right:!0,rightDrawer:!1,title:"Vuetify.js"}}},ht=Object(O.a)(ut,(function(){var e=this.$createElement,t=this._self._c||e;return t("v-app",{attrs:{dark:""}},[t("v-content",[t("v-container",{staticClass:"fill-height"},[t("nuxt")],1)],1)],1)}),[],!1,null,null,null),pt=ht.exports;L()(ht,{VApp:S.a,VContainer:K.a,VContent:X.a});r(199);function ft(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}var vt={components:{NewDialog:xe,Loader:R.a,MoveDialog:$e,ShareDialog:Le},props:{source:{type:String,default:""}},data:function(){return{dialog:!1,drawer:null,items:[{icon:"mdi-cloud-outline",text:"My Drive",to:"/"},{icon:"mdi-account-multiple-outline",text:"Shared with me",to:"/shared"},{icon:"mdi-clock-outline",text:"Recent",to:"/recent"},{icon:"mdi-trash-can-outline",text:"Bin",to:"/bin"}],loading:!1,buttonLoading:!1,showNewFolderDialog:!1,showMoveFolderDialog:!1,pressed:!1,showAction:!1,folderShowAction:!1,isGridView:!0,isListView:!1,error:{status:!1,message:""},alertError:{status:!1,message:""},success:{status:!1,message:""},fileIds:[],folderIds:[],fileLength:0,showShareDialog:!1,showShareFolderDialog:!1,user:"",showProfileDialog:!1,profileLoading:!1,updateUser:{full_name:"",username:""},globalSearch:"",debounce:"",searching:!1}},computed:function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ft(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):ft(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},Object(T.b)(["getBreadCrumbs","isLoggedIn","getUser","getLevel"]),{isAdmin:function(){return this.user.role&&"admin"===this.user.role.toLowerCase()},isSuperAdmin:function(){return this.user.role&&"superadmin"===this.user.role.toLowerCase()},disableBtn:function(){return!this.updateUser.full_name||!this.updateUser.username},showSearch:function(){return!["/bin","/recent"].includes(this.$route.path)},getUserInitials:function(){var e=this.user.full_name;if(e){var t=e.split(" ").reduce((function(e,t){return"".concat(e).concat(t[0])}),"");return t.length>2?"".concat(t[0]).concat(t[1]):t}return null},isBin:function(){return"bin"===this.$route.name}}),mounted:function(){var e=this,t=this.isLoggedIn(this),r=this.getUser(this);t?this.$axios.defaults.headers.common.Authorization="Bearer ".concat(t):this.$router.push({path:"/login"}),this.loading=!0,this.search="",this.fetchUserFiles(r.id,0),this.showAction=!1,Se.a.$on("showAction",(function(t){e.fileIds=t,e.showAction=!0})),Se.a.$on("folderShowAction",(function(t){e.folderIds=t,e.folderShowAction=!0})),Se.a.$on("hideAction",(function(){e.showAction=!1,e.folderShowAction=!1})),Se.a.$on("fileLength",(function(t){e.fileLength=t})),Se.a.$on("shareFile",(function(t){e.fileIds.push(t),e.shareFile()})),Se.a.$on("moveSingle",(function(t){e.fileIds=t,e.showMoveFolderDialog=!0})),this.$store.dispatch("fetchFolders",r.id),this.user=r},methods:{openNewFolderDialog:function(){this.showNewFolderDialog=!0},closeDialog:function(e){this[e]=!1},createFolder:function(e){var t=this,r=this.$route.params.name||"";this.buttonLoading=!0;var data,n=this.getUser(this);data=r?{dirname:e,user_id:n.id,level:this.getLevel+1,parent_dir:r}:{dirname:e,user_id:n.id,level:0},this.$axios.post("directory/create",data).then((function(){t.buttonLoading=!1,t.loading=!0,t.fetchUserFiles(n.id,0),t.$store.dispatch("fetchFolders",n.id),Se.a.$emit("addedNewFolder")})).catch((function(e){t.buttonLoading=!1,t.error.status=!0,t.error.message=e.response.data.message})),this.showNewFolderDialog=!1},debounceSearch:function(){clearTimeout(this.debounce),this.debounce=setTimeout(this.searchDrive,1500)},searchDrive:function(){var e=this;if(this.globalSearch.length>0){this.searching=!0;var data={user_id:this.user.id,string:this.globalSearch};this.$axios.post("users/search/directories",data).then((function(t){var data=t.data;e.searching=!1,(data.files.length>0||data.directories.length>0)&&Se.a.$emit("searchFound",data)})).catch((function(){e.searching=!1,e.error.status=!0,e.error.message="Something went wrong, Please try again"}))}else Se.a.$emit("clearSearch")},resetBreadCrumbs:function(){this.$store.dispatch("resetBreadCrumbs")},handleFileUpload:function(e){var t=this,r=this.$route.params.name||"";this.loading=!0;var n=this.getUser(this),o=e.target.files,c=new FormData;c.set("user_id",n.id),r&&c.set("directory_id",r),o.length>1?this.handleMultipleFileUpload(n.id,o):(c.set("file",o[0]),this.$axios.post("files/upload/single",c,{headers:{"Content-Type":"multipart/form-data"}}).then((function(){Se.a.$emit("addedNewFile"),t.fetchUserFiles(n.id,0)})).catch((function(e){t.loading=!1,t.error.status=!0,t.error.message=e.response.data.message})))},handleMultipleFileUpload:function(e,t){var r=this,n=this.$route.params.name||"",o=new FormData;o.set("user_id",e),Object(fe.a)(t).forEach((function(e){o.append("files",e)})),n&&o.set("directory_id",n),this.$axios.post("files/upload/bulk",o,{headers:{"Content-Type":"multipart/form-data"}}).then((function(){r.fetchUserFiles(e,0)})).catch((function(e){r.loading=!1,r.error.status=!0,r.error.message=e.response.data.message}))},moveFolder:function(e){var t=this;this.buttonLoading=!0;var data={file_id:this.fileIds,directory_id:e};this.$axios.put("files/move/bulk",data).then((function(){var e=t.getUser(t);t.loading=!0,t.showMoveFolderDialog=!1,t.buttonLoading=!1,t.fetchUserFiles(e.id,0),Se.a.$emit("moved")})).catch((function(e){t.showMoveFolderDialog=!1,t.buttonLoading=!1,t.error.status=!0,t.error.message=e.response.data.message}))},deleteFiles:function(){var e=this;this.$axios.delete("/files/bulk",{data:{file_id:this.fileIds}}).then((function(){var t=e.getUser(e);e.loading=!0,e.fetchUserFiles(t.id,0)})).catch((function(t){e.error.status=!0,e.error.message=t.response.data.message}))},shareFile:function(){this.showShareDialog=!0},shareFolders:function(){this.showShareFolderDialog=!0},handleFileSharing:function(e){var t=this,data={user_id:this.getUser(this).id,user_ids:e,files:this.fileIds};this.buttonLoading=!0,this.$axios.post("files/share",data).then((function(e){var data=e.data;t.buttonLoading=!1,t.showShareDialog=!1,t.success.status=!0,t.success.message=data.message})).catch((function(){t.buttonLoading=!1,t.error.status=!0,t.error.message="Something went wrong"}))},handleFolderSharing:function(e){var t=this,data={user_id:this.getUser(this).id,user_ids:e,directories:this.folderIds};this.buttonLoading=!0,this.$axios.post("directory/share",data).then((function(e){var data=e.data;t.buttonLoading=!1,t.showShareDialog=!1,t.success.status=!0,t.success.message=data.message})).catch((function(){t.buttonLoading=!1,t.error.status=!0,t.error.message="Something went wrong"}))},revertMultiple:function(){var e=this,t=this.getUser(this);this.loading=!0,this.$axios.put("/files/multiple/revert",{file_ids:this.fileIds,user_id:t.id}).then((function(){e.$store.dispatch("fetchBinFiles",t.id),e.loading=!1,e.success.status=!0,e.success.message="Files has been successfully reverted"})).catch((function(t){e.loading=!1,e.error.status=!0,e.error.message=t.response.data.message}))},moveMultiple:function(){var e=this,t=this.getUser(this);this.loading=!0,this.$axios.put("/files/multiple/bin",{file_ids:this.fileIds,user_id:t.id}).then((function(){e.fetchUserFiles(t.id,0),e.loading=!1,e.success.status=!0,e.success.message="Files has been successfully moved to Bin"})).catch((function(t){e.loading=!1,e.error.status=!0,e.error.message=t.response.data.message}))},moveMultipleFolders:function(){var e=this,t=this.getUser(this);this.loading=!0,this.$axios.put("directory/multiple/bin",{folder_ids:this.folderIds,user_id:t.id}).then((function(){e.fetchUserFiles(t.id,0),e.$store.dispatch("fetchFolders",t.id),e.loading=!1,e.success.status=!0,e.success.message="Folders has been successfully moved to Bin"})).catch((function(t){e.loading=!1,e.error.status=!0,e.error.message=t.response.data.message}))},revertMultipleFolders:function(){var e=this,t=this.getUser(this);this.loading=!0,this.$axios.put("directory/multiple/revert",{folder_ids:this.folderIds,user_id:t.id}).then((function(){e.$store.dispatch("fetchBinFolders",t.id),e.loading=!1,e.success.status=!0,e.success.message="Folders has been successfully reverted"})).catch((function(t){e.loading=!1,e.error.status=!0,e.error.message=t.response.data.message}))},handleImage:function(image){var e=image.target.files;this.updateUser.image=e[0];var t=document.querySelector("#user-image");if(e&&e[0]){var r=new FileReader;r.readAsDataURL(e[0]),r.onload=function(e){t.style.display="block",t.src=e.target.result}}},logout:function(){this.$cookies.remove("token"),this.$cookies.remove("user"),this.$router.push("/login")},showDialog:function(){this.updateUser.full_name=this.user.full_name,this.updateUser.username=this.user.username,this.showProfileDialog=!0},update:function(){var e=this;this.profileLoading=!0;var data={ogId:this.user.ogId,full_name:this.updateUser.full_name,username:this.updateUser.username};this.$axios.put("users",data).then((function(){if(e.updateUser.image){var form=new FormData;form.set("user_id",e.user.id),form.set("picture",e.updateUser.image),e.$axios.post("files/upload/picture",form,{headers:{"Content-Type":"multipart/form-data"}}).then((function(){e.clearForm(),e.profileLoading=!1,e.showProfileDialog=!1,e.success.status=!0,e.success.message="Account Updated",e.fetchUser()})).catch((function(){e.profileLoading=!1,e.alertError.status=!0,e.alertError.message="Something went wrong"}))}else e.clearForm(),e.profileLoading=!1,e.showProfileDialog=!1,e.success.status=!0,e.success.message="Account Updated",e.fetchUser()})).catch((function(){e.profileLoading=!1,e.alertError.status=!0,e.alertError.message="Something went wrong"}))},clearForm:function(){this.updateUser.full_name="",this.updateUser.username="",this.updateUser.image=""},fetchUser:function(){var e=this,t=this.user.ogId;this.$axios.get("users/".concat(t)).then((function(t){var data=t.data,r={id:data._id,ogId:data.ogId,full_name:data.full_name,username:data.username,email:data.email,department:data.department,role:data.role,picture:data.profile_pic};e.user=r;var n=e.$cookies.get("token");e.$store.dispatch("saveAuth",[r,n])}))},changeView:function(view){this.$store.commit("SET_VIEW_STATE",view)}},head:function(){return{title:"OG-Drive - ".concat(this.$route.name)}}},mt=(r(383),Object(O.a)(vt,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-app",{attrs:{id:"inspire"}},[r("new-dialog",{attrs:{"show-dialog":e.showNewFolderDialog,"is-loading":e.buttonLoading},on:{closeDialog:function(t){return e.closeDialog("showNewFolderDialog")},createFolder:e.createFolder}}),e._v(" "),r("move-dialog",{attrs:{"show-dialog":e.showMoveFolderDialog,"is-loading":e.buttonLoading},on:{closeDialog:function(t){return e.closeDialog("showMoveFolderDialog")},moveFolder:e.moveFolder}}),e._v(" "),r("share-dialog",{attrs:{"show-dialog":e.showShareDialog,"is-loading":e.buttonLoading},on:{closeDialog:function(t){return e.closeDialog("showShareDialog")},share:e.handleFileSharing}}),e._v(" "),r("share-dialog",{attrs:{"show-dialog":e.showShareFolderDialog,"is-loading":e.buttonLoading},on:{closeDialog:function(t){return e.closeDialog("showShareFolderDialog")},share:e.handleFolderSharing}}),e._v(" "),r("v-dialog",{attrs:{"max-width":"360"},model:{value:e.showProfileDialog,callback:function(t){e.showProfileDialog=t},expression:"showProfileDialog"}},[r("v-card",[r("v-card-title",{staticClass:"headline"},[e._v("\n        Edit account\n      ")]),e._v(" "),r("v-card-text",[e.alertError.status?r("v-alert",{attrs:{type:"error",dismissible:""},model:{value:e.alertError.status,callback:function(t){e.$set(e.alertError,"status",t)},expression:"alertError.status"}},[e._v("\n          "+e._s(e.alertError.message)+"\n        ")]):e._e(),e._v(" "),r("v-form",{on:{submit:function(t){return t.preventDefault(),t.stopPropagation(),e.update(t)}}},[r("input",{attrs:{id:"user-photo",type:"file",name:"user-photo"},on:{change:e.handleImage}}),e._v(" "),r("label",{staticClass:"picture-upload",style:{backgroundImage:"url("+e.user.picture+")"},attrs:{for:"user-photo"}},[r("v-icon",{attrs:{size:"50",color:"white"}},[e._v("\n              mdi-camera-plus-outline\n            ")]),e._v(" "),r("img",{attrs:{id:"user-image",src:e.user.picture,alt:"User's image"}})],1),e._v(" "),r("v-text-field",{staticClass:"mx-3 my-4",attrs:{label:"Full Name",name:"name",type:"text",placeholder:"John Doe","prepend-icon":"mdi-account-outline"},model:{value:e.updateUser.full_name,callback:function(t){e.$set(e.updateUser,"full_name",t)},expression:"updateUser.full_name"}}),e._v(" "),r("v-text-field",{staticClass:"mx-3 my-4",attrs:{label:"Username",name:"username",type:"text",placeholder:"johndoe123","prepend-icon":"mdi-account-box-outline"},model:{value:e.updateUser.username,callback:function(t){e.$set(e.updateUser,"username",t)},expression:"updateUser.username"}}),e._v(" "),r("v-layout",[r("v-spacer"),e._v(" "),r("v-btn",{attrs:{type:"submit",color:"primary px-5 mx-4",loading:e.profileLoading},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.update(t)}}},[e._v("\n              Update\n            ")]),e._v(" "),r("v-btn",{attrs:{color:"darken-1",text:""},on:{click:function(t){e.showProfileDialog=!1,e.clearForm()}}},[e._v("\n              Cancel\n            ")])],1)],1)],1)],1)],1),e._v(" "),e.loading?r("Loader"):e._e(),e._v(" "),e.error.status?r("v-snackbar",{attrs:{timeout:5e3},model:{value:e.error.status,callback:function(t){e.$set(e.error,"status",t)},expression:"error.status"}},[e._v("\n    "+e._s(e.error.message)+"\n    "),r("v-btn",{attrs:{color:"pink",text:""},on:{click:function(t){e.error.status=!1}}},[e._v("\n      Close\n    ")])],1):e._e(),e._v(" "),e.success.status?r("v-snackbar",{attrs:{timeout:5e3},model:{value:e.success.status,callback:function(t){e.$set(e.success,"status",t)},expression:"success.status"}},[e._v("\n    "+e._s(e.success.message)+"\n    "),r("v-btn",{attrs:{color:"green",text:""},on:{click:function(t){e.success.status=!1}}},[e._v("\n      Close\n    ")])],1):e._e(),e._v(" "),r("v-navigation-drawer",{staticClass:"drawer",attrs:{clipped:"",app:""},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[r("v-list",{attrs:{dense:"",shaped:""}},[r("v-menu",{scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[r("v-btn",e._g({staticClass:"mx-3 my-5",attrs:{color:"primary",rounded:"",height:"50",width:"93%"}},n),[r("v-icon",{staticClass:"ml-n5 mx-5"},[e._v("mdi-upload")]),e._v("\n            New\n          ")],1)]}}])},[e._v(" "),r("v-list",[r("v-list-item",{on:{click:e.openNewFolderDialog}},[r("v-list-item-action",[r("v-icon",[e._v("mdi-folder-plus-outline")])],1),e._v(" "),r("v-list-item-content",[r("v-list-item-title",[e._v("\n                New Folder\n              ")])],1)],1),e._v(" "),r("v-divider"),e._v(" "),r("v-list-item",[r("input",{attrs:{id:"file-upload",type:"file",name:"file-upload",multiple:""},on:{change:e.handleFileUpload}}),e._v(" "),r("label",{staticClass:"row pl-3",attrs:{for:"file-upload"}},[r("v-list-item-action",[r("v-icon",[e._v("mdi-file-upload-outline")])],1),e._v(" "),r("v-list-item-content",[r("v-list-item-title",[e._v("\n                  Upload File\n                ")])],1)],1)])],1)],1),e._v(" "),e._l(e.items,(function(t){return[t.heading?r("v-row",{key:t.heading,attrs:{align:"center"}},[r("v-col",{attrs:{cols:"6"}},[t.heading?r("v-subheader",[e._v("\n              "+e._s(t.heading)+"\n            ")]):e._e()],1),e._v(" "),r("v-col",{staticClass:"text-center",attrs:{cols:"6"}},[r("a",{staticClass:"body-2 black--text",attrs:{href:"#!"}},[e._v("EDIT")])])],1):t.children?r("v-list-group",{key:t.text,attrs:{"prepend-icon":t.model?t.icon:t["icon-alt"],"append-icon":"",color:"primary"},scopedSlots:e._u([{key:"activator",fn:function(){return[r("v-list-item-content",[r("v-list-item-title",[e._v("\n                "+e._s(t.text)+"\n              ")])],1)]},proxy:!0}],null,!0),model:{value:t.model,callback:function(r){e.$set(t,"model",r)},expression:"item.model"}},[e._v(" "),e._l(t.children,(function(n,i){return r("v-list-item",{key:i,attrs:{link:"",to:t.to,color:"primary"}},[n.icon?r("v-list-item-action",[r("v-icon",[e._v(e._s(n.icon))])],1):e._e(),e._v(" "),r("v-list-item-content",[r("v-list-item-title",[e._v("\n                "+e._s(n.text)+"\n              ")])],1)],1)}))],2):r("v-list-item",{key:t.text,attrs:{link:"",to:t.to,color:"primary"}},[r("v-list-item-action",[r("v-icon",[e._v(e._s(t.icon))])],1),e._v(" "),r("v-list-item-content",[r("v-list-item-title",[e._v("\n              "+e._s(t.text)+"\n            ")])],1)],1)]}))],2)],1),e._v(" "),r("v-app-bar",{staticClass:"app-bar",attrs:{"clipped-left":e.$vuetify.breakpoint.lgAndUp,app:"",color:"white",elevation:"0"}},[r("v-app-bar-nav-icon",{on:{click:function(t){t.stopPropagation(),e.drawer=!e.drawer}}}),e._v(" "),r("img",{attrs:{src:"/images/logo.png",alt:"Outsource Logo",width:"100vh"}}),e._v(" "),e.showSearch?r("v-text-field",{staticClass:"hidden-sm-and-down search-bar",attrs:{solo:e.pressed,"solo-inverted":!e.pressed,flat:!e.pressed,loading:e.searching,"hide-details":"","background-color":"#f8fafb","prepend-inner-icon":"mdi-magnify",label:"Search in drive",color:"#555"},on:{focus:function(t){e.pressed=!0},blur:function(t){e.pressed=!1},input:e.debounceSearch},model:{value:e.globalSearch,callback:function(t){e.globalSearch=t},expression:"globalSearch"}}):e._e(),e._v(" "),r("v-spacer"),e._v(" "),r("v-divider",{attrs:{vertical:""}}),e._v(" "),r("v-menu",{attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[r("v-btn",e._g({attrs:{text:""}},n),[r("v-layout",{attrs:{"align-center":""}},[e.user.picture?r("v-avatar",{staticClass:"mx-2",attrs:{size:"35px",item:""}},[r("v-img",{attrs:{src:e.user.picture,alt:"User Image"}})],1):r("v-avatar",{staticClass:"mx-2",attrs:{size:"35px",color:"primary",item:""}},[r("span",{staticClass:"white--text font-weight-medium"},[e._v("\n                "+e._s(e.getUserInitials)+"\n              ")])]),e._v(" "),r("span",{staticClass:"hidden-sm-and-down"},[e._v(e._s(e.user.username))]),e._v(" "),r("v-icon",[e._v("mdi-menu-down")])],1)],1)]}}])},[e._v(" "),r("v-list",[r("v-list-item",{on:{click:e.showDialog}},[r("v-list-item-icon",[r("v-icon",[e._v("mdi-account-edit-outline")])],1),e._v(" "),r("v-list-item-content",[e._v("Edit Profile")])],1),e._v(" "),r("v-list-item",{on:{click:e.logout}},[r("v-list-item-icon",[r("v-icon",[e._v("mdi-logout-variant")])],1),e._v(" "),r("v-list-item-content",[e._v("Logout")])],1),e._v(" "),e.isAdmin||e.isSuperAdmin?r("v-list-item",{attrs:{to:"/admin/dashboard"}},[r("v-list-item-icon",[r("v-icon",[e._v("mdi-account-supervisor-outline")])],1),e._v(" "),r("v-list-item-content",[e._v("Admin Dashboard")])],1):e._e()],1)],1)],1),e._v(" "),r("v-content",{staticClass:"body"},[r("v-container",{staticClass:"pb-0"},[r("v-toolbar",{staticClass:"toolbar px-2",attrs:{flat:"",color:"transparent"}},[r("v-toolbar-title",{staticClass:"px-0"},[r("v-layout",{attrs:{"justify-space-between":"","full-width":""}},[r("span",{staticClass:"row align-center mx-0 font-weight-black text--text"},[r("h2",[e._v("\n                Files/Folders\n              ")]),e._v(" "),r("p",{staticClass:"count"},[e._v("("+e._s(e.fileLength)+")")])]),e._v(" "),e.showAction?r("v-layout",{staticClass:"full-width",attrs:{"justify-end":""}},[r("v-btn",{attrs:{color:"primary"},on:{click:function(t){e.showMoveFolderDialog=!0}}},[e._v("\n                Move\n              ")]),e._v(" "),r("v-btn",{attrs:{text:""},on:{click:e.shareFile}},[e._v("Share")]),e._v(" "),e.isBin?r("v-btn",{attrs:{text:""},on:{click:e.revertMultiple}},[e._v("\n                Revert Files\n              ")]):r("v-btn",{attrs:{text:""},on:{click:e.moveMultiple}},[e._v("Move To Bin")])],1):e.folderShowAction?r("v-layout",{staticClass:"full-width",attrs:{"justify-end":""}},[r("v-btn",{attrs:{color:"primary"},on:{click:function(t){e.showMoveFolderDialog=!0}}},[e._v("\n                Move\n              ")]),e._v(" "),r("v-btn",{attrs:{text:""},on:{click:e.shareFolders}},[e._v("Share")]),e._v(" "),e.isBin?r("v-btn",{attrs:{text:""},on:{click:e.revertMultipleFolders}},[e._v("\n                Revert Folders\n              ")]):r("v-btn",{attrs:{text:""},on:{click:e.moveMultipleFolders}},[e._v("\n                Move Folders To Bin\n              ")])],1):e._e()],1)],1),e._v(" "),r("v-layout",{attrs:{"justify-space-between":"","align-center":""}},[r("v-breadcrumbs",{staticClass:"px-0",attrs:{items:e.getBreadCrumbs},scopedSlots:e._u([{key:"divider",fn:function(){return[r("v-icon",[e._v("mdi-chevron-right")])]},proxy:!0},{key:"item",fn:function(t){var n=t.item;return[r("v-breadcrumbs-item",{staticClass:"breadcrumb",attrs:{to:n.href,nuxt:"",disabled:n.disabled}},[n.icon?r("v-icon",[e._v(e._s(n.text))]):r("span",[e._v(e._s(n.text.toUpperCase()))])],1)]}}])}),e._v(" "),r("div",{staticClass:"view"},[r("v-btn",{staticClass:"mx-2",attrs:{small:"",fab:"",elevation:"0",color:"rgba(68, 86, 108, 0.042)"}},[r("v-icon",{attrs:{size:"20",color:"rgba(68, 86, 108, 0.7)"},on:{click:function(t){return e.changeView(!0)}}},[e._v("\n                mdi-view-grid\n              ")])],1),e._v(" "),r("v-btn",{attrs:{small:"",fab:"",elevation:"0",color:"rgba(68, 86, 108, 0.042)"}},[r("v-icon",{attrs:{size:"23",color:"rgba(68, 86, 108, 0.7)"},on:{click:function(t){return e.changeView(!1)}}},[e._v("\n                mdi-view-list\n              ")])],1)],1)],1)],1)],1),e._v(" "),r("router-view")],1)],1)}),[],!1,null,"831fbf7e",null)),gt=mt.exports;L()(mt,{VAlert:Ie.a,VApp:S.a,VAppBar:M.a,VAppBarNavIcon:z.a,VAvatar:G.a,VBreadcrumbs:Ve.a,VBreadcrumbsItem:Ee.a,VBtn:J.a,VCard:me.a,VCardText:ge.b,VCardTitle:ge.c,VCol:H.a,VContainer:K.a,VContent:X.a,VDialog:be.a,VDivider:Q.a,VForm:Pe.a,VIcon:W.a,VImg:Y.a,VLayout:Z.a,VList:ee.a,VListGroup:Te.a,VListItem:te.a,VListItemAction:re.a,VListItemContent:ae.a,VListItemIcon:oe.a,VListItemTitle:ae.c,VMenu:ie.a,VNavigationDrawer:se.a,VRow:ce.a,VSnackbar:le.a,VSpacer:ue.a,VSubheader:de.a,VTextField:_e.a,VToolbar:Re.a,VToolbarTitle:Be.a});function bt(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}var _t={components:{NewDialog:xe,Loader:R.a,MoveDialog:$e,ShareDialog:Le},props:{source:{type:String,default:""}},data:function(){return{dialog:!1,drawer:null,items:[{icon:"mdi-cloud-outline",text:"My Drive",to:"/"},{icon:"mdi-account-multiple-outline",text:"Shared with me",to:"/shared"},{icon:"mdi-clock-outline",text:"Recent",to:"/recent"},{icon:"mdi-star-outline",text:"Starred",to:"#4"},{icon:"mdi-trash-can-outline",text:"Bin",to:"/bin"}],loading:!1,buttonLoading:!1,showNewFolderDialog:!1,showMoveFolderDialog:!1,pressed:!1,showAction:!1,error:{status:!1,message:""},alertError:{status:!1,message:""},success:{status:!1,message:""},fileIds:[],fileLength:0,showShareDialog:!1,user:"",showProfileDialog:!1,profileLoading:!1,updateUser:{full_name:"",username:""}}},computed:function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?bt(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):bt(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},Object(T.b)(["getBreadCrumbs","isLoggedIn","getUser","getLevel"]),{isAdmin:function(){return this.user.role&&"admin"===this.user.role.toLowerCase()},isSuperAdmin:function(){return this.user.role&&"superadmin"===this.user.role.toLowerCase()},disableBtn:function(){return!this.updateUser.full_name||!this.updateUser.username},getUserInitials:function(){var e=this.user.full_name;if(e){var t=e.split(" ").reduce((function(e,t){return"".concat(e).concat(t[0])}),"");return t.length>2?"".concat(t[0]).concat(t[1]):t}return null}}),mounted:function(){var e=this,t=this.isLoggedIn(this),r=this.getUser(this);t?this.$axios.defaults.headers.common.Authorization="Bearer ".concat(t):this.$router.push({path:"/login"}),this.loading=!0,this.fetchUserFiles(r.id,0),this.showAction=!1,Se.a.$on("showAction",(function(t){e.fileIds=t,e.showAction=!0})),Se.a.$on("hideAction",(function(){e.showAction=!1})),Se.a.$on("fileLength",(function(t){e.fileLength=t})),Se.a.$on("shareFile",(function(t){e.fileIds.push(t),e.shareFile()})),this.$store.dispatch("fetchFolders",r.id),this.user=r},methods:{openNewFolderDialog:function(){this.showNewFolderDialog=!0},closeDialog:function(e){this[e]=!1},createFolder:function(e){var t=this,r=this.$route.params.name||"";this.buttonLoading=!0;var data,n=this.getUser(this);data=r?{dirname:e,user_id:n.id,level:this.getLevel+1,parent_dir:r}:{dirname:e,user_id:n.id,level:0},this.$axios.post("directory/create",data).then((function(){t.buttonLoading=!1,t.loading=!0,t.fetchUserFiles(n.id,0),t.$store.dispatch("fetchFolders",n.id)})).catch((function(e){t.buttonLoading=!1,t.error.status=!0,t.error.message=e.response.data.message})),this.showNewFolderDialog=!1},resetBreadCrumbs:function(){this.$store.dispatch("resetBreadCrumbs")},handleFileUpload:function(e){var t=this,r=this.$route.params.name||"";this.loading=!0;var n=this.getUser(this),o=e.target.files,c=new FormData;c.set("user_id",n.id),r&&c.set("directory_id",r),o.length>1?this.handleMultipleFileUpload(n.id,o):(c.set("file",o[0]),this.$axios.post("files/upload/single",c,{headers:{"Content-Type":"multipart/form-data"}}).then((function(){Se.a.$emit("addedNewFile"),t.fetchUserFiles(n.id,0)})).catch((function(e){t.loading=!1,t.error.status=!0,t.error.message=e.response.data.message})))},handleMultipleFileUpload:function(e,t){var r=this,n=this.$route.params.name||"",o=new FormData;o.set("user_id",e),Object(fe.a)(t).forEach((function(e){o.append("files",e)})),n&&o.set("directory_id",n),this.$axios.post("files/upload/bulk",o,{headers:{"Content-Type":"multipart/form-data"}}).then((function(){r.fetchUserFiles(e,0)})).catch((function(e){r.loading=!1,r.error.status=!0,r.error.message=e.response.data.message}))},moveFolder:function(e){var t=this;this.buttonLoading=!0;var data={file_id:this.fileIds,directory_id:e};this.$axios.put("files/move/bulk",data).then((function(){var e=t.getUser(t);t.loading=!0,t.buttonLoading=!1,t.fetchUserFiles(e.id,0)})).catch((function(e){t.buttonLoading=!1,t.error.status=!0,t.error.message=e.response.data.message})),this.showMoveFolderDialog=!1},deleteFiles:function(){var e=this;this.$axios.delete("/files/bulk",{data:{file_id:this.fileIds}}).then((function(){var t=e.getUser(e);e.loading=!0,e.fetchUserFiles(t.id,0)})).catch((function(t){e.error.status=!0,e.error.message=t.response.data.message}))},shareFile:function(){this.showShareDialog=!0},handleFileSharing:function(e){var t=this,data={user_id:this.getUser(this).id,user_ids:e,files:this.fileIds};this.buttonLoading=!0,this.$axios.post("files/share",data).then((function(e){var data=e.data;t.buttonLoading=!1,t.showShareDialog=!1,t.success.status=!0,t.success.message=data.message})).catch((function(){t.buttonLoading=!1,t.error.status=!0,t.error.message="Something went wrong"}))},handleImage:function(image){var e=image.target.files;this.updateUser.image=e[0];var t=document.querySelector("#user-image");if(e&&e[0]){var r=new FileReader;r.readAsDataURL(e[0]),r.onload=function(e){t.style.display="block",t.src=e.target.result}}},logout:function(){this.$cookies.remove("token"),this.$cookies.remove("user"),this.$router.push("/login")},showDialog:function(){this.updateUser.full_name=this.user.full_name,this.updateUser.username=this.user.username,this.showProfileDialog=!0},update:function(){var e=this;this.profileLoading=!0;var data={ogId:this.user.ogId,full_name:this.updateUser.full_name,username:this.updateUser.username};this.$axios.put("users",data).then((function(){if(e.updateUser.image){var form=new FormData;form.set("user_id",e.user.id),form.set("picture",e.updateUser.image),e.$axios.post("files/upload/picture",form,{headers:{"Content-Type":"multipart/form-data"}}).then((function(){e.clearForm(),e.profileLoading=!1,e.showProfileDialog=!1,e.success.status=!0,e.success.message="Account Updated",e.fetchUser()})).catch((function(){e.profileLoading=!1,e.alertError.status=!0,e.alertError.message="Something went wrong"}))}else e.clearForm(),e.profileLoading=!1,e.showProfileDialog=!1,e.success.status=!0,e.success.message="Account Updated",e.fetchUser()})).catch((function(){e.profileLoading=!1,e.alertError.status=!0,e.alertError.message="Something went wrong"}))},clearForm:function(){this.updateUser.full_name="",this.updateUser.username="",this.updateUser.image=""},fetchUser:function(){var e=this,t=this.user.ogId;this.$axios.get("users/".concat(t)).then((function(t){var data=t.data,r={id:data._id,ogId:data.ogId,full_name:data.full_name,username:data.username,email:data.email,department:data.department,role:data.role,picture:data.profile_pic};e.user=r;var n=e.$cookies.get("token");e.$store.dispatch("saveAuth",[r,n])}))}}},wt=(r(385),Object(O.a)(_t,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-app",{attrs:{id:"inspire"}},[r("new-dialog",{attrs:{"show-dialog":e.showNewFolderDialog,"is-loading":e.buttonLoading},on:{closeDialog:function(t){return e.closeDialog("showNewFolderDialog")},createFolder:e.createFolder}}),e._v(" "),r("move-dialog",{attrs:{"show-dialog":e.showMoveFolderDialog,"is-loading":e.buttonLoading},on:{closeDialog:function(t){return e.closeDialog("showMoveFolderDialog")},moveFolder:e.moveFolder}}),e._v(" "),r("share-dialog",{attrs:{"show-dialog":e.showShareDialog,"is-loading":e.buttonLoading},on:{closeDialog:function(t){return e.closeDialog("showShareDialog")},share:e.handleFileSharing}}),e._v(" "),r("v-dialog",{attrs:{"max-width":"360"},model:{value:e.showProfileDialog,callback:function(t){e.showProfileDialog=t},expression:"showProfileDialog"}},[r("v-card",[r("v-card-title",{staticClass:"headline"},[e._v("\n        Edit account\n      ")]),e._v(" "),r("v-card-text",[e.alertError.status?r("v-alert",{attrs:{type:"error",dismissible:""},model:{value:e.alertError.status,callback:function(t){e.$set(e.alertError,"status",t)},expression:"alertError.status"}},[e._v("\n          "+e._s(e.alertError.message)+"\n        ")]):e._e(),e._v(" "),r("v-form",{on:{submit:function(t){return t.preventDefault(),t.stopPropagation(),e.update(t)}}},[r("input",{attrs:{id:"user-photo",type:"file",name:"user-photo"},on:{change:e.handleImage}}),e._v(" "),r("label",{staticClass:"picture-upload",style:{backgroundImage:"url("+e.user.picture+")"},attrs:{for:"user-photo"}},[r("v-icon",{attrs:{size:"50",color:"white"}},[e._v("\n              mdi-camera-plus-outline\n            ")]),e._v(" "),r("img",{attrs:{id:"user-image",src:e.user.picture,alt:"User's image"}})],1),e._v(" "),r("v-text-field",{staticClass:"mx-3 my-4",attrs:{label:"Full Name",name:"name",type:"text",placeholder:"John Doe","prepend-icon":"mdi-account-outline"},model:{value:e.updateUser.full_name,callback:function(t){e.$set(e.updateUser,"full_name",t)},expression:"updateUser.full_name"}}),e._v(" "),r("v-text-field",{staticClass:"mx-3 my-4",attrs:{label:"Username",name:"username",type:"text",placeholder:"johndoe123","prepend-icon":"mdi-account-box-outline"},model:{value:e.updateUser.username,callback:function(t){e.$set(e.updateUser,"username",t)},expression:"updateUser.username"}}),e._v(" "),r("v-layout",[r("v-spacer"),e._v(" "),r("v-btn",{attrs:{type:"submit",color:"primary px-5 mx-4",loading:e.profileLoading},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.update(t)}}},[e._v("\n              Update\n            ")]),e._v(" "),r("v-btn",{attrs:{color:"darken-1",text:""},on:{click:function(t){e.showProfileDialog=!1,e.clearForm()}}},[e._v("\n              Cancel\n            ")])],1)],1)],1)],1)],1),e._v(" "),e.loading?r("Loader"):e._e(),e._v(" "),e.error.status?r("v-snackbar",{attrs:{timeout:5e3},model:{value:e.error.status,callback:function(t){e.$set(e.error,"status",t)},expression:"error.status"}},[e._v("\n    "+e._s(e.error.message)+"\n    "),r("v-btn",{attrs:{color:"pink",text:""},on:{click:function(t){e.error.status=!1}}},[e._v("\n      Close\n    ")])],1):e._e(),e._v(" "),e.success.status?r("v-snackbar",{attrs:{timeout:5e3},model:{value:e.success.status,callback:function(t){e.$set(e.success,"status",t)},expression:"success.status"}},[e._v("\n    "+e._s(e.success.message)+"\n    "),r("v-btn",{attrs:{color:"green",text:""},on:{click:function(t){e.success.status=!1}}},[e._v("\n      Close\n    ")])],1):e._e(),e._v(" "),r("v-navigation-drawer",{staticClass:"drawer",attrs:{clipped:"",app:""},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[r("v-list",{attrs:{dense:"",shaped:""}},[r("v-menu",{scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[r("v-btn",e._g({staticClass:"mx-3 my-5",attrs:{color:"primary",rounded:"",height:"50",width:"93%"}},n),[r("v-icon",{staticClass:"ml-n5 mx-5"},[e._v("mdi-upload")]),e._v("\n            New\n          ")],1)]}}])},[e._v(" "),r("v-list",[r("v-list-item",{on:{click:e.openNewFolderDialog}},[r("v-list-item-action",[r("v-icon",[e._v("mdi-folder-plus-outline")])],1),e._v(" "),r("v-list-item-content",[r("v-list-item-title",[e._v("\n                New Folder\n              ")])],1)],1),e._v(" "),r("v-divider"),e._v(" "),r("v-list-item",[r("input",{attrs:{id:"file-upload",type:"file",name:"file-upload",multiple:""},on:{change:e.handleFileUpload}}),e._v(" "),r("label",{staticClass:"row pl-3",attrs:{for:"file-upload"}},[r("v-list-item-action",[r("v-icon",[e._v("mdi-file-upload-outline")])],1),e._v(" "),r("v-list-item-content",[r("v-list-item-title",[e._v("\n                  Upload File\n                ")])],1)],1)])],1)],1),e._v(" "),e._l(e.items,(function(t){return[t.heading?r("v-row",{key:t.heading,attrs:{align:"center"}},[r("v-col",{attrs:{cols:"6"}},[t.heading?r("v-subheader",[e._v("\n              "+e._s(t.heading)+"\n            ")]):e._e()],1),e._v(" "),r("v-col",{staticClass:"text-center",attrs:{cols:"6"}},[r("a",{staticClass:"body-2 black--text",attrs:{href:"#!"}},[e._v("EDIT")])])],1):t.children?r("v-list-group",{key:t.text,attrs:{"prepend-icon":t.model?t.icon:t["icon-alt"],"append-icon":"",color:"primary"},scopedSlots:e._u([{key:"activator",fn:function(){return[r("v-list-item-content",[r("v-list-item-title",[e._v("\n                "+e._s(t.text)+"\n              ")])],1)]},proxy:!0}],null,!0),model:{value:t.model,callback:function(r){e.$set(t,"model",r)},expression:"item.model"}},[e._v(" "),e._l(t.children,(function(n,i){return r("v-list-item",{key:i,attrs:{link:"",to:t.to,color:"primary"}},[n.icon?r("v-list-item-action",[r("v-icon",[e._v(e._s(n.icon))])],1):e._e(),e._v(" "),r("v-list-item-content",[r("v-list-item-title",[e._v("\n                "+e._s(n.text)+"\n              ")])],1)],1)}))],2):r("v-list-item",{key:t.text,attrs:{link:"",to:t.to,color:"primary"}},[r("v-list-item-action",[r("v-icon",[e._v(e._s(t.icon))])],1),e._v(" "),r("v-list-item-content",[r("v-list-item-title",[e._v("\n              "+e._s(t.text)+"\n            ")])],1)],1)]}))],2)],1),e._v(" "),r("v-app-bar",{staticClass:"app-bar",attrs:{"clipped-left":e.$vuetify.breakpoint.lgAndUp,app:"",color:"white",elevation:"0"}},[r("v-app-bar-nav-icon",{on:{click:function(t){t.stopPropagation(),e.drawer=!e.drawer}}}),e._v(" "),r("img",{attrs:{src:"/images/logo.png",alt:"Outsource Logo",width:"100vh"}}),e._v(" "),r("v-text-field",{staticClass:"hidden-sm-and-down search-bar",attrs:{solo:e.pressed,"solo-inverted":!e.pressed,flat:!e.pressed,"hide-details":"","background-color":"#f8fafb","prepend-inner-icon":"mdi-magnify",label:"Search in drive",color:"#555"},on:{focus:function(t){e.pressed=!0},blur:function(t){e.pressed=!1}}}),e._v(" "),r("v-spacer"),e._v(" "),r("v-divider",{attrs:{vertical:""}}),e._v(" "),r("v-menu",{attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[r("v-btn",e._g({attrs:{text:""}},n),[r("v-layout",{attrs:{"align-center":""}},[e.user.picture?r("v-avatar",{staticClass:"mx-2",attrs:{size:"35px",item:""}},[r("v-img",{attrs:{src:e.user.picture,alt:"User Image"}})],1):r("v-avatar",{staticClass:"mx-2",attrs:{size:"35px",color:"primary",item:""}},[r("span",{staticClass:"white--text font-weight-medium"},[e._v("\n                "+e._s(e.getUserInitials)+"\n              ")])]),e._v(" "),r("span",{staticClass:"hidden-sm-and-down"},[e._v(e._s(e.user.username))]),e._v(" "),r("v-icon",[e._v("mdi-menu-down")])],1)],1)]}}])},[e._v(" "),r("v-list",[r("v-list-item",{on:{click:e.showDialog}},[r("v-list-item-icon",[r("v-icon",[e._v("mdi-account-edit-outline")])],1),e._v(" "),r("v-list-item-content",[e._v("Edit Profile")])],1),e._v(" "),r("v-list-item",{on:{click:e.logout}},[r("v-list-item-icon",[r("v-icon",[e._v("mdi-logout-variant")])],1),e._v(" "),r("v-list-item-content",[e._v("Logout")])],1),e._v(" "),e.isAdmin||e.isSuperAdmin?r("v-list-item",{attrs:{to:"/admin"}},[r("v-list-item-icon",[r("v-icon",[e._v("mdi-account-supervisor-outline")])],1),e._v(" "),r("v-list-item-content",[e._v("Admin Dashboard")])],1):e._e()],1)],1)],1),e._v(" "),r("v-content",{staticClass:"body"},[r("v-container",{staticClass:"pb-0"},[r("v-toolbar",{staticClass:"toolbar px-2",attrs:{flat:"",color:"transparent"}},[r("v-toolbar-title",{staticClass:"px-0"},[r("v-layout",{attrs:{"justify-space-between":"","full-width":""}},[r("span",{staticClass:"row align-center mx-0 font-weight-black text--text"},[r("h2",[e._v("\n                Recent\n              ")])]),e._v(" "),e.showAction?r("v-layout",{staticClass:"full-width",attrs:{"justify-end":""}},[r("v-btn",{attrs:{color:"primary"},on:{click:function(t){e.showMoveFolderDialog=!0}}},[e._v("\n                Move\n              ")]),e._v(" "),r("v-btn",{attrs:{text:""},on:{click:e.deleteFiles}},[e._v("Delete")]),e._v(" "),r("v-btn",{attrs:{text:""},on:{click:e.shareFile}},[e._v("Share")])],1):e._e()],1)],1),e._v(" "),r("v-layout",{attrs:{"justify-space-between":"","align-center":""}},[r("v-breadcrumbs",{staticClass:"px-0",attrs:{items:e.getBreadCrumbs},scopedSlots:e._u([{key:"divider",fn:function(){return[r("v-icon",[e._v("mdi-chevron-right")])]},proxy:!0},{key:"item",fn:function(t){var n=t.item;return[r("v-breadcrumbs-item",{staticClass:"breadcrumb",attrs:{to:n.href,nuxt:"",disabled:n.disabled}},[n.icon?r("v-icon",[e._v(e._s(n.text))]):r("span",[e._v(e._s(n.text.toUpperCase()))])],1)]}}])}),e._v(" "),r("div",{staticClass:"view"},[r("v-btn",{staticClass:"mx-2",attrs:{small:"",fab:"",elevation:"0",color:"rgba(68, 86, 108, 0.042)"}},[r("v-icon",{attrs:{size:"20",color:"rgba(68, 86, 108, 0.7)"}},[e._v("\n                mdi-view-grid\n              ")])],1),e._v(" "),r("v-btn",{attrs:{small:"",fab:"",elevation:"0",color:"rgba(68, 86, 108, 0.042)"}},[r("v-icon",{attrs:{size:"23",color:"rgba(68, 86, 108, 0.7)"}},[e._v("\n                mdi-view-list\n              ")])],1)],1)],1)],1)],1),e._v(" "),r("router-view")],1)],1)}),[],!1,null,"5825df20",null)),xt=wt.exports;function yt(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=function(e,t){if(!e)return;if("string"==typeof e)return kt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kt(e,t)}(e))){var i=0,t=function(){};return{s:t,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,n,o=!0,c=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){c=!0,n=e},f:function(){try{o||null==r.return||r.return()}finally{if(c)throw n}}}}function kt(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=e[i];return r}L()(wt,{VAlert:Ie.a,VApp:S.a,VAppBar:M.a,VAppBarNavIcon:z.a,VAvatar:G.a,VBreadcrumbs:Ve.a,VBreadcrumbsItem:Ee.a,VBtn:J.a,VCard:me.a,VCardText:ge.b,VCardTitle:ge.c,VCol:H.a,VContainer:K.a,VContent:X.a,VDialog:be.a,VDivider:Q.a,VForm:Pe.a,VIcon:W.a,VImg:Y.a,VLayout:Z.a,VList:ee.a,VListGroup:Te.a,VListItem:te.a,VListItemAction:re.a,VListItemContent:ae.a,VListItemIcon:oe.a,VListItemTitle:ae.c,VMenu:ie.a,VNavigationDrawer:se.a,VRow:ce.a,VSnackbar:le.a,VSpacer:ue.a,VSubheader:de.a,VTextField:_e.a,VToolbar:Re.a,VToolbarTitle:Be.a});var Dt={_admin:Object(_.r)(pe),_adminBin:Object(_.r)(Me),_adminBinDelete:Object(_.r)(Je),_adminDrive:Object(_.r)(et),_adminRecent:Object(_.r)(ot),_bin:Object(_.r)(lt),_default:Object(_.r)(pt),_drive:Object(_.r)(gt),_recent:Object(_.r)(xt)},Ft={render:function(e,t){var r=e("NuxtLoading",{ref:"loading"});if(this.nuxt.err&&A){var n=(A.options||A).layout;n&&this.setLayout("function"==typeof n?n.call(A,this.context):n)}var o=e(this.layout||"nuxt"),c=e("div",{domProps:{id:"__layout"},key:this.layoutName},[o]),l=e("transition",{props:{name:"layout",mode:"out-in"},on:{beforeEnter:function(e){window.$nuxt.$nextTick((function(){window.$nuxt.$emit("triggerScroll")}))}}},[c]);return e("div",{domProps:{id:"__nuxt"}},[r,l])},data:function(){return{isOnline:!0,layout:null,layoutName:"",nbFetching:0}},beforeCreate:function(){c.a.util.defineReactive(this,"nuxt",this.$options.nuxt)},created:function(){c.a.prototype.$nuxt=this,window.$nuxt=this,this.refreshOnlineStatus(),window.addEventListener("online",this.refreshOnlineStatus),window.addEventListener("offline",this.refreshOnlineStatus),this.error=this.nuxt.error,this.context=this.$options.context},mounted:function(){this.$loading=this.$refs.loading},watch:{"nuxt.err":"errorChanged"},computed:{isOffline:function(){return!this.isOnline},isFetching:function(){return this.nbFetching>0}},methods:{refreshOnlineStatus:function(){void 0===window.navigator.onLine?this.isOnline=!0:this.isOnline=window.navigator.onLine},refresh:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((r=Object(_.h)(e.$route)).length){t.next=3;break}return t.abrupt("return");case 3:return e.$loading.start(),n=r.map((function(t){var p=[];if(t.$options.fetch&&t.$options.fetch.length&&p.push(Object(_.p)(t.$options.fetch,e.context)),t.$fetch)p.push(t.$fetch());else{var r,n=yt(Object(_.e)(t.$vnode.componentInstance));try{for(n.s();!(r=n.n()).done;){var component=r.value;p.push(component.$fetch())}}catch(e){n.e(e)}finally{n.f()}}return t.$options.asyncData&&p.push(Object(_.p)(t.$options.asyncData,e.context).then((function(e){for(var r in e)c.a.set(t.$data,r,e[r])}))),Promise.all(p)})),t.prev=5,t.next=8,Promise.all(n);case 8:t.next=15;break;case 10:t.prev=10,t.t0=t.catch(5),e.$loading.fail(t.t0),Object(_.k)(t.t0),e.error(t.t0);case 15:e.$loading.finish();case 16:case"end":return t.stop()}}),t,null,[[5,10]])})))()},errorChanged:function(){this.nuxt.err&&this.$loading&&(this.$loading.fail&&this.$loading.fail(this.nuxt.err),this.$loading.finish&&this.$loading.finish())},setLayout:function(e){return e&&Dt["_"+e]||(e="default"),this.layoutName=e,this.layout=Dt["_"+e],this.layout},loadLayout:function(e){return e&&Dt["_"+e]||(e="default"),Promise.resolve(Dt["_"+e])}},components:{NuxtLoading:P}};function $t(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=function(e,t){if(!e)return;if("string"==typeof e)return Ct(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ct(e,t)}(e))){var i=0,t=function(){};return{s:t,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,n,o=!0,c=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){c=!0,n=e},f:function(){try{o||null==r.return||r.return()}finally{if(c)throw n}}}}function Ct(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=e[i];return r}c.a.use(T.a);var Ot=["state","getters","actions","mutations"],Ut={};(Ut=function(e,t){if((e=e.default||e).commit)throw new Error("[nuxt] ".concat(t," should export a method that returns a Vuex instance."));return"function"!=typeof e&&(e=Object.assign({},e)),St(e,t)}(r(387),"store/index.js")).modules=Ut.modules||{},function(e,t){e=e.default||e;var r=t.replace(/\.(js|mjs)$/,"").split("/"),n=r[r.length-1],o="store/".concat(t);if(e="state"===n?function(e,t){if("function"!=typeof e){console.warn("".concat(t," should export a method that returns an object"));var r=Object.assign({},e);return function(){return r}}return St(e,t)}(e,o):St(e,o),Ot.includes(n)){var c=n;At(jt(Ut,r,{isProperty:!0}),e,c)}else{"index"===n&&(r.pop(),n=r[r.length-1]);var l,d=jt(Ut,r),h=$t(Ot);try{for(h.s();!(l=h.n()).done;){var f=l.value;At(d,e[f],f)}}catch(e){h.e(e)}finally{h.f()}!1===e.namespaced&&delete d.namespaced}}(r(388),"admin.js");var Lt=Ut instanceof Function?Ut:function(){return new T.a.Store(Object.assign({strict:!1},Ut))};function St(e,t){if(e.state&&"function"!=typeof e.state){console.warn("'state' should be a method that returns an object in ".concat(t));var r=Object.assign({},e.state);e=Object.assign({},e,{state:function(){return r}})}return e}function jt(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.isProperty,o=void 0!==n&&n;if(!t.length||o&&1===t.length)return e;var c=t.shift();return e.modules[c]=e.modules[c]||{},e.modules[c].namespaced=!0,e.modules[c].modules=e.modules[c].modules||{},jt(e.modules[c],t,{isProperty:o})}function At(e,t,r){t&&("state"===r?e.state=t||e.state:e[r]=Object.assign({},e[r],t))}var It=r(197),Vt={theme:{dark:!1,themes:{dark:{primary:"#1976d2",accent:"#424242",secondary:"#ff8f00",info:"#26a69a",warning:"#ffc107",error:"#dd2c00",success:"#00e676",text:"#fff"},light:{text:"#44566c"}}}};c.a.use(It.a,{});var Et=function(e){var t="function"==typeof Vt?Vt(e):Vt;t.icons=t.icons||{},t.icons.iconfont="mdi";var r=new It.a(t);e.app.vuetify=r,e.$vuetify=r.framework},Pt=r(243),Tt=r.n(Pt),Rt=function(e,t){var r=e.req,n=e.res,o=!0;t("cookies",Tt()(r,n,o))},Bt=r(122),Nt=r.n(Bt),Mt=r(244),zt=r.n(Mt);function qt(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=function(e,t){if(!e)return;if("string"==typeof e)return Gt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Gt(e,t)}(e))){var i=0,t=function(){};return{s:t,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,n,o=!0,c=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){c=!0,n=e},f:function(){try{o||null==r.return||r.return()}finally{if(c)throw n}}}}function Gt(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=e[i];return r}for(var Jt={setBaseURL:function(e){this.defaults.baseURL=e},setHeader:function(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"common",o=qt(Array.isArray(n)?n:[n]);try{for(o.s();!(r=o.n()).done;){var c=r.value;if(!t)return void delete this.defaults.headers[c][e];this.defaults.headers[c][e]=t}}catch(e){o.e(e)}finally{o.f()}},setToken:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"common",n=e?(t?t+" ":"")+e:null;this.setHeader("Authorization",n,r)},onRequest:function(e){this.interceptors.request.use((function(t){return e(t)||t}))},onResponse:function(e){this.interceptors.response.use((function(t){return e(t)||t}))},onRequestError:function(e){this.interceptors.request.use(void 0,(function(t){return e(t)||Promise.reject(t)}))},onResponseError:function(e){this.interceptors.response.use(void 0,(function(t){return e(t)||Promise.reject(t)}))},onError:function(e){this.onRequestError(e),this.onResponseError(e)},create:function(e){return Qt(zt()(e,this.defaults))}},Ht=function(){var e=Xt[Kt];Jt["$"+e]=function(){return this[e].apply(this,arguments).then((function(e){return e&&e.data}))}},Kt=0,Xt=["request","delete","get","head","options","post","put","patch"];Kt<Xt.length;Kt++)Ht();var Qt=function(e){var t=Nt.a.create(e);return t.CancelToken=Nt.a.CancelToken,t.isCancel=Nt.a.isCancel,function(e){for(var t in Jt)e[t]=Jt[t].bind(e)}(t),Wt(t),t},Wt=function(e){var t={finish:function(){},start:function(){},fail:function(){},set:function(){}},r=function(){return window.nuxt&&window.nuxt.$loading&&window.nuxt.$loading.set?window.nuxt.$loading:t},n=0;e.onRequest((function(e){e&&!1===e.progress||n++})),e.onResponse((function(e){e&&e.config&&!1===e.config.progress||--n<=0&&(n=0,r().finish())})),e.onError((function(e){e&&e.config&&!1===e.config.progress||(n--,Nt.a.isCancel(e)||(r().fail(),r().finish()))}));var o=function(e){if(n){var progress=100*e.loaded/(e.total*n);r().set(Math.min(100,progress))}};e.defaults.onUploadProgress=o,e.defaults.onDownloadProgress=o},Yt=function(e,t){var r=Qt({baseURL:"http://34.244.118.199/",headers:{common:{Accept:"application/json, text/plain, */*"},delete:{},get:{},head:{},post:{},put:{},patch:{}}});e.$axios=r,t("axios",r)},Zt={data:function(){return{globalSearchDirectories:null,globalSearchFiles:null}},watch:{$route:function(){this.globalSearch="",Se.a.$emit("hideAction")}},mounted:function(){Se.a.$on("searchFound",this.handleGlobalSearch),Se.a.$on("clearSearch",this.clearGlobalSearch)},methods:{customDblClick:function(){0===this.touchTime?this.touchTime=(new Date).getTime():(new Date).getTime()-this.touchTime<800?(this.$emit("previewFile"),this.touchTime=0):this.touchTime=(new Date).getTime()},handleGlobalSearch:function(e){this.globalSearchDirectories=e.directories,this.globalSearchFiles=e.files},clearGlobalSearch:function(){this.globalSearchDirectories=null,this.globalSearchFiles=null},verifyUser:function(e){var t=this;this.$store.dispatch("verifyUser",e).then((function(){t.loading=!1})).catch((function(){t.loading=!1}))},resetUser:function(e,t){var r=this;this.$store.dispatch("resetUser",{id:e,email:t}).then((function(){r.loading=!1})).catch((function(){r.loading=!1}))},fetchUserFiles:function(e,t){var r=this;this.$store.dispatch("fetchFiles",[e,t]).then((function(){r.loading=!1,Se.a.$emit("filesFetched")})).catch((function(){r.loading=!1}))},fetchUserDirectories:function(e,t){var r=this;this.$store.dispatch("fetchDirectories",[e,t]).then((function(){r.loading=!1,Se.a.$emit("filesFetched")})).catch((function(){r.loading=!1}))},handleMultipleFiles:function(e,t){!0===e?this.selectedFiles.push(t._id):this.selectedFiles=this.selectedFiles.filter((function(e){return e!==t._id})),this.selectedFiles.length>0?Se.a.$emit("showAction",this.selectedFiles):Se.a.$emit("hideAction")},handleMultipleFolders:function(e,t){!0===e?this.selectedFolders.push(t._id):this.selectedFolders=this.selectedFolders.filter((function(e){return e!==t._id})),this.selectedFolders.length>0?Se.a.$emit("folderShowAction",this.selectedFolders):Se.a.$emit("hideAction")},moveFile:function(e){this.selectedFiles=[e],Se.a.$emit("moveSingle",this.selectedFiles)},fetchUsers:function(){var e=this;this.$store.dispatch("fetchUsers").then((function(){e.loading=!1})).catch((function(){e.loading=!1}))},fetchCampaigns:function(){var e=this;this.$store.dispatch("fetchCampaigns").then((function(){e.loading=!1})).catch((function(){e.loading=!1}))},fetchAllFiles:function(){var e=this;this.$store.dispatch("fetchTotalFiles").then((function(){e.loading=!1})).catch((function(){e.loading=!1}))},fetchAllDirectories:function(){var e=this;this.$store.dispatch("fetchTotalDirectories").then((function(){e.loading=!1})).catch((function(){e.loading=!1}))},editUser:function(e){var t=this;this.$store.dispatch("editUser",e).then((function(){t.loading=!1})).catch((function(){t.loading=!1}))},fetchUser:function(e){var t=this;this.$store.dispatch("fetchUser",e).then((function(){t.loading=!1})).catch((function(){t.loading=!1}))},fetchBinFiles:function(e){var t=this;this.$store.dispatch("fetchBinFiles",e).then((function(){t.loading=!1})).catch((function(){t.loading=!1}))},fetchStuffToDelete:function(){var e=this;this.$store.dispatch("fetchAdminStuffToBeDeleted").then((function(){e.loading=!1})).catch((function(){e.loading=!1}))},fetchBinFolders:function(e){var t=this;this.$store.dispatch("fetchBinFolders",e).then((function(){t.loading=!1})).catch((function(){t.loading=!1}))},fetchRecentFiles:function(e){var t=this;this.$store.dispatch("fetchRecentFiles",e).then((function(){t.loading=!1})).catch((function(){t.loading=!1}))}}};function er(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function rr(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?er(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):er(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}c.a.mixin(Zt),c.a.component(h.a.name,h.a),c.a.component(v.a.name,rr({},v.a,{render:function(e,t){return v.a._warned||(v.a._warned=!0,console.warn("<no-ssr> has been deprecated and will be removed in Nuxt 3, please use <client-only> instead")),v.a.render(e,t)}})),c.a.component(D.name,D),c.a.component("NChild",D),c.a.component(V.name,V),c.a.use(l.a,{keyName:"head",attribute:"data-n-head",ssrAttribute:"data-n-head-ssr",tagIDKeyName:"hid"});var ar={name:"page",mode:"out-in",appear:!1,appearClass:"appear",appearActiveClass:"appear-active",appearToClass:"appear-to"};function nr(e){return or.apply(this,arguments)}function or(){return(or=Object(n.a)(regeneratorRuntime.mark((function e(t){var r,n,o,l,d,h,path,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k();case 2:return r=e.sent,(n=Lt(t)).$router=r,o=n.registerModule,n.registerModule=function(path,e,t){return o.call(n,path,e,Object.assign({preserveState:!0},t))},l=rr({head:{titleTemplate:"%s - og_drive_fe",title:"og_drive_fe",meta:[{charset:"utf-8"},{name:"viewport",content:"width=device-width, initial-scale=1"},{hid:"description",name:"description",content:"My wondrous Nuxt.js project"}],link:[{rel:"icon",type:"image/x-icon",href:"https://outsourceglobal.com/favicon.ico"},{rel:"stylesheet",type:"text/css",href:"https://fonts.googleapis.com/css?family=Roboto:100,300,400,500,700,900&display=swap"},{rel:"stylesheet",type:"text/css",href:"https://cdn.jsdelivr.net/npm/@mdi/font@latest/css/materialdesignicons.min.css"}],style:[],script:[]},store:n,router:r,nuxt:{defaultTransition:ar,transitions:[ar],setTransitions:function(e){return Array.isArray(e)||(e=[e]),e=e.map((function(e){return e=e?"string"==typeof e?Object.assign({},ar,{name:e}):Object.assign({},ar,e):ar})),this.$options.nuxt.transitions=e,e},err:null,dateErr:null,error:function(e){e=e||null,l.context._errored=Boolean(e),e=e?Object(_.o)(e):null;var r=l.nuxt;return this&&(r=this.nuxt||this.$options.nuxt),r.dateErr=Date.now(),r.err=e,t&&(t.nuxt.error=e),e}}},Ft),n.app=l,d=t?t.next:function(e){return l.router.push(e)},t?h=r.resolve(t.url).route:(path=Object(_.f)(r.options.base,r.options.mode),h=r.resolve(path).route),e.next=13,Object(_.s)(l,{store:n,route:h,next:d,error:l.nuxt.error.bind(l),payload:t?t.payload:void 0,req:t?t.req:void 0,res:t?t.res:void 0,beforeRenderFns:t?t.beforeRenderFns:void 0,ssrContext:t});case 13:return f=function(e,t){if(!e)throw new Error("inject(key, value) has no key provided");if(void 0===t)throw new Error("inject('".concat(e,"', value) has no value provided"));l[e="$"+e]=t,n[e]=l[e];var r="__nuxt_"+e+"_installed__";c.a[r]||(c.a[r]=!0,c.a.use((function(){Object.prototype.hasOwnProperty.call(c.a,e)||Object.defineProperty(c.a.prototype,e,{get:function(){return this.$root.$options[e]}})})))},window.__NUXT__&&window.__NUXT__.state&&n.replaceState(window.__NUXT__.state),e.next=18,Et(l.context);case 18:return e.next=21,Rt(l.context,f);case 21:return e.next=24,Yt(l.context,f);case 24:e.next=27;break;case 27:e.next=30;break;case 30:return e.abrupt("return",{store:n,app:l,router:r});case 31:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},8:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var n=new(r(2).a)}},[[248,28,4,29]]]);