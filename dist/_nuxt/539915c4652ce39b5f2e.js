(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{690:function(e,t,r){"use strict";r.r(t);r(12),r(10),r(7),r(3),r(9);var o=r(1),n=r(25);function l(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}var c={data:function(){return{isPassword:!0,user:{ogId:"",password:""},loading:!1,error:{status:!1,message:""},rules:{isNumber:function(e){return/^[0-9]+$/.test(e)||"ID can only contain numbers"}}}},computed:function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},Object(n.b)(["isLoggedIn"]),{isFormValid:function(){return this.user.ogId&&this.user.password}}),created:function(){this.isLoggedIn(this)&&this.$router.push({path:"/"})},methods:{logIn:function(){var e=this;this.loading=!0,this.$axios.post("users/login",this.user).then((function(t){var data=t.data;e.loading=!1;var r={id:data.user._id,ogId:data.user.ogId,full_name:data.user.full_name,username:data.user.username,email:data.user.email,department:data.user.department,role:data.user.role,picture:data.user.profile_pic},o=data.token;e.$store.dispatch("saveAuth",[r,o]),e.$router.push({path:"/"})})).catch((function(t){e.loading=!1,e.error.status=!0,t.response&&t.response.data&&t.response.data.message?e.error.message=t.response.data.message:e.error.message="Something went wrong. Please try again"}))}}},d=r(20),m=r(22),f=r.n(m),v=r(428),h=r(115),w=r(193),y=r(425),O=r(419),_=r(72),component=Object(d.a)(c,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-layout",{attrs:{column:"","justify-center":"","align-center":""}},[r("img",{attrs:{src:"/images/logo.png",alt:"Outsource Logo",width:"200vh"}}),e._v(" "),r("h1",{staticClass:"title text-uppercase my-3"},[e._v("Sign into OG Drive")]),e._v(" "),r("v-card",{attrs:{"max-width":"100%",width:"400"}},[e.error.status?r("v-alert",{attrs:{type:"error",dismissible:""},model:{value:e.error.status,callback:function(t){e.$set(e.error,"status",t)},expression:"error.status"}},[e._v("\n      "+e._s(e.error.message)+"\n    ")]):e._e(),e._v(" "),r("v-form",{on:{submit:function(t){return t.preventDefault(),t.stopPropagation(),e.logIn(t)}}},[r("v-text-field",{staticClass:"mx-3 my-4",attrs:{label:"OG-ID",name:"id",type:"text",placeholder:"191852","prepend-icon":"mdi-account-outline",rules:[e.rules.isNumber],"validate-on-blur":""},model:{value:e.user.ogId,callback:function(t){e.$set(e.user,"ogId",t)},expression:"user.ogId"}}),e._v(" "),r("div",{staticClass:"mx-3 my-4"},[r("v-text-field",{attrs:{name:"password",type:e.isPassword?"password":"text","append-icon":e.isPassword?"mdi-eye":"mdi-eye-off",label:"Password",placeholder:"********","prepend-icon":"mdi-account-lock-outline"},on:{"click:append":function(t){e.isPassword=!e.isPassword}},model:{value:e.user.password,callback:function(t){e.$set(e.user,"password",t)},expression:"user.password"}}),e._v(" "),r("router-link",{staticClass:"forgot caption font-weight-bold float-right",attrs:{to:"/forgot-password"}},[e._v("\n          Forgot Password\n        ")])],1),e._v(" "),r("v-btn",{staticClass:"my-4 mx-3",attrs:{depressed:"",color:"primary","min-width":"150px","min-height":"40px",loading:e.loading,type:"submit",disabled:!e.isFormValid},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.logIn(t)}}},[e._v("\n        Log in\n      ")])],1)],1),e._v(" "),r("p",{staticClass:"my-3 subtitle-2"},[e._v("\n    Don't have an account?\n    "),r("router-link",{attrs:{to:"signup"}},[e._v("Register here")])],1)],1)}),[],!1,null,"0516dfc4",null);t.default=component.exports;f()(component,{VAlert:v.a,VBtn:h.a,VCard:w.a,VForm:y.a,VLayout:O.a,VTextField:_.a})}}]);